if (self.CavalryLogger) { CavalryLogger.start_js(["u1dTe"]); }

__d("WebFunnelLogger",["Banzai","invariant"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();function a(a){this.$2={},this.$3={},this.$4="web_funnel_logging",this.$5(),this.$1.funnel_definition=a}a.prototype.log=function(){this.$1.funnel_payload=JSON.stringify(this.$2),this.$1.action_payload=JSON.stringify(this.$3),g.post(this.$4,this.$1,g.BASIC),this.$5()};a.prototype.logWithEventTime=function(a){this.$1.event_time=a/1e3,this.$6(),g.post(this.$4,this.$1,g.BASIC),this.$5()};a.prototype.logVital=function(){this.$6(),g.post(this.$4,this.$1,g.VITAL),this.$5()};a.prototype.logVitalWithEventTime=function(a){this.$1.event_time=a/1e3,this.$6(),g.post(this.$4,this.$1,g.VITAL),this.$5()};a.prototype.$6=function(){this.$1.funnel_payload=JSON.stringify(this.$2),this.$1.action_payload=JSON.stringify(this.$3),this.$1.action!==null||h(0),this.$1.session_key!==null||h(0)};a.prototype.$5=function(){this.$1={};this.$2={};this.$3={};return this};a.prototype.setAction=function(a){this.$1.action=a;return this};a.prototype.addActionPayload=function(a,b){this.$3[a]=b;return this};a.prototype.setActionTag=function(a){this.$1.action_tag=a;return this};a.prototype.addFunnelPayload=function(a,b){this.$2[a]=b;return this};a.prototype.setFunnelTags=function(a){this.$1.funnel_tags=a;return this};a.prototype.setSecondaryOrder=function(a){this.$1.secondary_order_value=a;return this};a.prototype.setSessionKey=function(a){this.$1.session_key=a;return this};a.prototype.markStart=function(){this.$1.session_marker="start";return this};a.prototype.markEnd=function(){this.$1.session_marker="end";return this};e.exports=a}),null);
__d("XAppGrowthCtaLoggingController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/mobile/android/redirect/cta_logging/",{event:{type:"Enum",required:!0,enumType:1}})}),null);
__d("MAppGrowthCtaLogging",["BanzaiLogger","Stratcom","WebFunnelLogger","XAppGrowthCtaLoggingController","XAsyncRequest","goURI"],(function(a,b,c,d,e,f,g,h,i,j,k,l){"use strict";__p&&__p();a={init:function(a){__p&&__p();h.listen("click",a,function(a){__p&&__p();var b=a.getTarget().getAttribute("data-disabled");a.getTarget().setAttribute("data-disabled","1");var c=a.getTarget().getAttribute("href");if(b!="1"){b=a.getTarget().getAttribute("data-event");b=j.getURIBuilder().setEnum("event",b).getURI();var d=function(b){a.getTarget().setAttribute("data-disabled","")};new k(b).setMethod("POST").setHandler(d).send()}b=c.startsWith("#!")?c.substring(2):c;l(b)})},logToPromoFunnelLogger:function(a,b,c,d,e){h.listen("click",a,function(a){var f=new i("MSitePromosUpsellFunnelDefinition").setAction("clicked").setSessionKey(c).addFunnelPayload("upsell_id",b);e&&f.markStart();f.logWithEventTime(Date.now());g.log("MsiteUpsellPromosRealTimeLoggerConfig",{event:"clicked",upsell:b,impression:c});d!==""&&l(d);f=a.getTarget().getAttribute("href");a=f.startsWith("#!")?f.substring(2):f;l(a)})}};e.exports=a}),null);
__d("MAudioUtil",["Promise","EventEmitter","FBLogger"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=new h(),k={};function l(a,b){__p&&__p();if(!a||typeof a!=="string")return null;if(!k[a]){var c=document.createElement("audio");c.style.display="none";c.setAttribute("preload","auto");c.setAttribute("volume","1.0");var d=document.createElement("source");d.setAttribute("src",a);d.setAttribute("type",b||"audio/mp4");c.appendChild(d);c.addEventListener("ended",function(){j.emit("end-"+a)},!1);k[a]=c}return k[a]}function m(a){try{i("mweb:audio").warn("Audio file %s missing.",a)}catch(a){}}e.exports={prepare:function(a,b){if(a&&a.length)for(var c=0;c<a.length;c++)a[c]&&l(a[c],b)},play:function(a){__p&&__p();return new g(function(b,c){__p&&__p();var d=l(a);if(!d||!d.play){m(a);c();return}var e="end-"+a,f=!1;c=function(){if(!f){f=!0;d.currentTime=0;d.play();var a,c=function(){a&&a.remove(),b()};a=j.once(e,c)}};var g=j.listeners(e);g&&g.length?b():c()})}}}),null);
__d("MAudioController",["MAudioUtil"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function h(a,b,c){a&&c&&(b[a]=function(){return g.play(c)})}function i(a,b){var c=[];Object.keys(a).forEach(function(d){if(!b[d]){var e=a[d];h(d,b,e);c.push(e)}});g.prepare(c)}var j={prepare:function(a,b){j[a]=j[a]||{};b=i(b,j[a]);j[a]=Object.assign({},j[a],b)},play:function(a,b){j[a]&&typeof j[a][b]==="function"&&j[a][b]()}};e.exports=j}),null);
__d("CurrentLocale",["LocaleInitialData"],(function(a,b,c,d,e,f,g){a={};a.get=function(){return g.locale};e.exports=a}),null);
__d("RTISubscriptionManager",["ChannelEventEmitter","ChannelEventType","CurrentLocale","ErrorUtils","RTISubscriptionManagerConfig","Stratcom","invariant"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m){"use strict";__p&&__p();var n={SUBSCRIBE:"s",UNSUBSCRIBE:"u"},o=300;function p(){__p&&__p();this.$1={};this.$2=!1;this.$3=!1;this.$4=!0;this.$5=document.readyState==="complete";if(!this.$5)var a=l.listen(["m:onload"],null,function(event){a.remove(),this.$5=!0,this.flush()}.bind(this));this.$6=null;g.addListener(h.RTI_SESSION,function(a){this.$6=a,this.$6&&(this.deleteSubscriptions(function(a){return a.getState()===n.UNSUBSCRIBE}),this.flush())}.bind(this));g.addListener(h.SKYWALKER_MESSAGE,function(a){var b=a.topic,c=this.$1[b];if(c&&c.getState()===n.SUBSCRIBE){a={payload:a.payload,topic:b};j.applyWithGuard(c.getListener(),this,[a])}}.bind(this));this.getCurrentSession()}p.prototype.subscribe=function(a,b,c,d){__p&&__p();a||m(0);b||m(0);if(Object.keys(this.$1).length<this.getMaxSubscriptions()){c=c||{};c.locale=i.get();k.autobot&&(c.autobotOverrideTier=k.autobot.tier,c.autobotOverrideHostName=k.autobot.host_name,c.autobotOverrideHostIp=k.autobot.host_ip);k.assimilator&&(c.tierType=k.assimilator.tierType,c.sandboxIP=k.assimilator.sandboxIP,c.sandboxPort=k.assimilator.sandboxPort,c.sandboxHostname=k.assimilator.sandboxHostname);b=new r(a,b,c,d);c=new q(b);this.$1[a]=b;this.flush();return c}return null};p.prototype.unsubscribe=function(a){a||m(0);if(a in this.$1){a=this.$1[a];a.setState(n.UNSUBSCRIBE);a.setDirty(!0);a.setSent(!1)}};p.prototype.flush=function(){__p&&__p();if(this.isReady()&&!this.$2){this.$2=!0;this.$3=!1;var a=[],b={},c=!1;this.forEachSubscription(function(d,e){__p&&__p();if(e.isDirty()){d="subscriptions";var f=b[d];f||(f=[],b[d]=f);a.push(e);e.setDirty(!1);e.setSent(!1);d={topic:e.getTopic(),state:e.getState(),context:e.getContext()};f.push(d)}else c=!0});if(!c&&b.subscriptions&&b.subscriptions.length>0){var d=[];for(var e=0;e<b.subscriptions.length;e++)b.subscriptions[e].state!==n.UNSUBSCRIBE&&d.push(b.subscriptions[e]);b.subscriptions=d;this.$4=!0}e=function(b){__p&&__p();var c=b.data!=null;this.$4&&c&&(this.$4=!1);for(var d=0;d<a.length;d++){var e=a[d];e.setSent(c);e.setDirty(!c);if(e.getState()===n.SUBSCRIBE){e=e.getSubscribeCallback();e!==null&&j.applyWithGuard(e,this,[b])}}this.deleteSubscriptions(function(a){return a.getState()===n.UNSUBSCRIBE&&a.isSent()});this.$2=!1;this.$3&&(this.$3=!1,this.flush())}.bind(this);if(Object.keys(b).length>0){d={};this.$4&&(d.reset="t");this.$6.issueRequest("/sub",d,b,e)}else this.$2=!1}else this.$3=!0,this.$6===null&&this.getCurrentSession()};p.prototype.deleteSubscriptions=function(a){a||m(0);var b=[];this.forEachSubscription(function(c,d){a.apply(this,[d])&&b.push(c)});for(var c=0;c<b.length;c++)delete this.$1[b[c]]};p.prototype.forEachSubscription=function(a){a||m(0);for(var b in this.$1)Object.prototype.hasOwnProperty.call(this.$1,b)&&a.apply(this,[b,this.$1[b]])};p.prototype.getSubscriptions=function(){var a=[];this.forEachSubscription(function(b,c){a.push(c)});return a};p.prototype.isSubscribed=function(a){a||m(0);return a in this.$1};p.prototype.isReady=function(){return this.$6!==null&&this.$5};p.prototype.getCurrentSession=function(){g.emit(h.GET_RTI_SESSION_REQUEST)};p.prototype.getMaxSubscriptions=function(){if(k.config&&Object.prototype.hasOwnProperty.call(k.config,"max_subscriptions"))return k.config.max_subscriptions;else return o};function q(a){this.$1=a}q.prototype.unsubscribe=function(){p.unsubscribe(this.$1.getTopic())};function r(a,b,c,d){this.$1=a,this.$2=b,this.$3=!0,this.$4=!1,this.$5=n.SUBSCRIBE,this.$6=Date.now(),c?this.$7=c:this.$7={},d?this.$8=d:this.$8=null}r.prototype.getCreatedTime=function(){return this.$6};r.prototype.getTopic=function(){return this.$1};r.prototype.getListener=function(){return this.$2};r.prototype.getSubscribeCallback=function(){return this.$8};r.prototype.isDirty=function(){return this.$3};r.prototype.setDirty=function(a){this.$3=a};r.prototype.getState=function(){return this.$5};r.prototype.setState=function(a){this.$5=a};r.prototype.getContext=function(){return this.$7};r.prototype.isSent=function(){return this.$4};r.prototype.setSent=function(a){this.$4=a};Object.keys(p.prototype).forEach(function(a){p[a]=function(){var b=p;return p.prototype[a].apply(b,arguments)}});p.call(p);e.exports=p}),null);
__d("RTISubscriptionGate",["RTISubscriptionManager"],(function(a,b,c,d,e,f,g){"use strict";e.exports=g}),null);
__d("MCompositionStoreID",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({CONFIG:"CONFIG",FORMAT:"FORMAT",GROUP_SELL:"GROUP_SELL",MINUTIAE:"MINUTIAE",PHOTO:"PHOTO",PLACE:"PLACE",SHARE:"SHARE",STATUS:"STATUS",WITH_TAGS:"WITH_TAGS",PRIVACY:"PRIVACY",SLIDESHOW:"SLIDESHOW"})}),null);
__d("MComposition",["MCompositionStoreID","invariant"],(function(a,b,c,d,e,f,g,h){__p&&__p();function a(a){"use strict";a=a||{};this.$1={};for(var b in a)this.setStoreData(b,a[b])}a.prototype.serialize=function(){"use strict";return this.$1};a.prototype.$2=function(a){"use strict";Object.prototype.hasOwnProperty.call(g,a)||h(0)};a.prototype.setStoreData=function(a,b){"use strict";this.$2(a);Object.prototype.hasOwnProperty.call(this.$1,a)&&h(0);this.$1[a]=b;return this};e.exports=a}),null);
__d("MComposerBackgroundUploadProgress",["Promise","CSS","DOM","$","cx","fbt","promiseDone","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){"use strict";__p&&__p();var o=5,p=8,q=500;function r(a){this.$2=a,this.$3=i.find(this.$2,"div","inprogress"),this.$4=i.find(this.$2,"div","success-photos"),this.$5=i.find(this.$2,"div","success-videos"),this.$6=i.find(this.$2,"div","error"),this.$1=j("viewport"),this.$7=!1,this.$8(),this.$9()}r.prototype.$10=function(a){h.addClass(this.$2,"_2kwy"),h.removeClass(this.$2,"_2kwz"),i.show(a),i.show(this.$2)};r.prototype.$11=function(a){return new g(function(b,c){h.removeClass(this.$2,"_2kwy"),h.addClass(this.$2,"_2kwz"),n(function(){i.hide(a),i.hide(this.$2),b()}.bind(this),q)}.bind(this))};r.prototype.$12=function(a,b){n(function(){m(this.$11(a))}.bind(this),1e3*b)};r.prototype.$8=function(){window.addEventListener("beforeunload",function(a){if(!this.$7)return undefined;var b=l._("We're still uploading your post. If you leave now it won't be published.");a.returnValue=b;return b}.bind(this))};r.prototype.$9=function(){window.bgUploadInlineComposerCallback=function(){return this.blockNavigateToComposer()}.bind(this)};r.prototype.setBackgroundUploadRunning=function(a,b){__p&&__p();b===void 0&&(b={});if(a){this.$7=!0;this.$10(this.$3);return}this.$7=!1;a=this.$11(this.$3);b.showSuccess==="photos"?(a=a.then(function(){return this.$10(this.$4)}.bind(this)),this.$12(this.$4,o)):b.showSuccess==="videos"?(a=a.then(function(){return this.$10(this.$5)}.bind(this)),this.$12(this.$5,o)):b.showError&&(a=a.then(function(){return this.$10(this.$6)}.bind(this)),this.$12(this.$6,p));m(a)};r.prototype.blockNavigateToComposer=function(){if(this.$7){alert(l._("You can post again as soon as your last post is published."));return!0}return!1};var s=null;e.exports={init:function(){if(!s){var a=i.scry(j("static_templates"),"div","bg-upload-progress-root")[0];if(!a)return null;s=new r(a)}return s},getInstance:function(){return s}}}),null);
__d("XTaggingCounterController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/composer/tagging/counter/",{event:{type:"Enum",required:!0,enumType:1}})}),null);
__d("MTaggingCounter",["AsyncSignal","XTaggingCounterController"],(function(a,b,c,d,e,f,g,h){a={logEvent:function(event,a){a=h.getURIBuilder().setEnum("event",event).getURI();new g(a).send()}};e.exports=a}),null);
__d("MComposerPresence",["DOM","EventEmitter","MLegacyDataStore","$","invariant"],(function(a,b,c,d,e,f,g,h,i,j,k){__p&&__p();var l="REGISTERED",m=null,n=new h();a={addRegistrationListener:function(a){return n.addListener(l,a)},hasRegisteredInstance:function(){return!!m},hasLoadedPrivacyValue:function(a){return!this.hasRegisteredInstance()?!1:g.scry(g.find(j("static_templates"),"div","composer-main-view"),"tr","privacy-option").some(function(b){return i.get(b).value===a})},register:function(a){m&&k(0),m=a,n.emit(l)},unregister:function(a){m===a||k(0),m=null},cleanup:function(){m!==null&&m.cleanup()}};e.exports=a}),null);
__d("promiseFinally",["Promise"],(function(a,b,c,d,e,f,g){function a(a,b){return a.then(function(a){return g.resolve(b()).then(function(){return a})},function(a){return g.resolve(b()).then(function(){throw a})})}e.exports=a}),null);
__d("MComposerAsyncLoadRequest",["Promise","MComposerPresence","MRequest","promiseFinally"],(function(a,b,c,d,e,f,g,h,i,j){__p&&__p();function a(){"use strict";this.$1=null,this.$2=null,this.$3=null}a.prototype.$4=function(){"use strict";this.$1&&(this.$1.remove(),this.$1=null),this.$3&&(this.$3.abort(),this.$3=null)};a.prototype.$5=function(a){"use strict";return new g(function(b,c){this.$1=h.addRegistrationListener(b),this.$3=new i(a),this.$3.listen("fail",c),this.$3.send()}.bind(this))};a.prototype.send=function(a){"use strict";this.$2||(this.$2=this.$5(a),j(this.$2,function(){return this.$4()}.bind(this)));return this.$2};e.exports=a}),null);
__d("MComposerDataStoreKeys",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({COMPOSITION:"COMPOSITION",ON_CANCEL:"ON_CANCEL",ON_SUBMIT:"ON_SUBMIT",ON_OPEN:"ON_OPEN"})}),null);
__d("MComposerSigils",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ENTRY_TRIGGER_LEGACY:"show_composer",ENTRY_TRIGGER:"composer_entry_trigger"})}),null);
__d("XComposerAsyncLoaderController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/composer/async_loader/",{targetid:{type:"Int"}})}),null);
__d("MComposerEntry",["Promise","ErrorUtils","LoadingIndicator","MComposerAsyncLoadRequest","MComposerBackgroundUploadProgress","MComposerDataStoreKeys","MComposerPresence","MComposerSigils","MComposition","MLegacyDataStore","Stratcom","URI","XComposerAsyncLoaderController","promiseFinally"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){__p&&__p();var u=new g(function(a,b){return b()}),v=new g(function(a){return a()}),w=h.guard(function(a){if(a)throw a},"MComposerEntry");function a(event){if(B)return;C.invoke(new o(p.get(event.getNode(n.ENTRY_TRIGGER))[l.COMPOSITION]))}function x(a,b,c,d,e){__p&&__p();d===void 0&&(d=!0);B=!0;var f=null;m.hasRegisteredInstance()?f=A(a,c):f=z(a,b,d).then(function(){var b=!0;e&&(b=e());b&&A(a,c)},w);t(f,function(){return B=!1});return f}function y(a,b){return m.hasRegisteredInstance()?v:new j().send(b)}function z(a,b,c){c===void 0&&(c=!0);c&&i.show();a=y(a,b);c&&t(a,function(){return i.hide()});return a}function A(a,b){return new g(function(c,d){var e={};e[l.COMPOSITION]=a.serialize();e[l.ON_CANCEL]=d;e[l.ON_SUBMIT]=c;e[l.ON_OPEN]=b;q.invoke("MComposer:entry:js",null,e)})}var B=!1;s.getURIBuilder().getURI();q.listen("click",n.ENTRY_TRIGGER,a);q.listen("m:page:unload",null,function(){B=!1});var C={invoke:function(a,b){return B?u:x(a||new o(),s.getURIBuilder().setInt("targetid",b).getURI())},invokeOcelot:function(a,b,c,d){if(B)return u;var e=new o();return x(e,a,c,b,d)},blockNavigateToComposer:function(){var a=k.getInstance();return a?a.blockNavigateToComposer():!1}};e.exports=C}),null);
__d("MFeedAdsGapRuleViolationDetection",["Banzai","BanzaiODS","CSS","DataAttributeUtils","DOM","ge","isEmpty"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m){__p&&__p();var n="ei",o="qid",p="gap rule violation",q="non violating ads gap",r="non violating ego gap",s="first position violation",t="feed load",u="spacing invalidation",v="ego_pymk",w="ego_other",x=[],y=[],z=[],A=[],B={},C={},D={},E=[];a={registerFeedStories:function(a){__p&&__p();var b=l(a.containerID);if(b==null||b.childNodes==null)return;B=babelHelpers["extends"]({},a.demoAdChecks,B);D=a.egoGapRule;E=a.invalidateEgo?a.egoStories:{};var c=this._getStoriesFromContainer(b);a.isLoggingEnabled&&c.length!==0&&this._logFeedLoad();x=x.concat(c);for(var d in a.minGaps)Object.prototype.hasOwnProperty.call(a.minGaps,d)&&(C[d]=a.minGaps[d]);m(B)&&(a.isLoggingEnabled&&this._checkFirstPosViolation(a,b),(a.invalidateEgo||a.isLoggingEnabled||a.isGapRuleInvalidationEnabled)&&this._checkGapRuleViolation(a))},_getStoriesFromContainer:function(a){var b=[];for(var c=0;c<a.childNodes.length;c++){var d=this._convertStoryNodeToObject(a.childNodes[c]);d!==null&&b.push(d)}return b},_convertStoryNodeToObject:function(a){var b=a.getAttribute("data-dedupekey"),c=[j.getDataFt(a)];if(c[0]==null)return null;var d=JSON.parse(c[0]);return{dataFTArray:c,dedupKey:b,isSponsored:!!d[n],isEgoPymk:E[b]===v,isEgoOther:E[b]===w,height:a.offsetHeight,qid:parseInt(d[o],10),nodeID:a.id}},_checkFirstPosViolation:function(a,b){if(x.length>0&&x[0].isSponsored){b={ftArray:x[0].dataFTArray,qid:x[0].qid,nodeid:x[0].nodeID};a.isLoggingEnabled&&!(x[0].dedupKey in A)&&(this._logFirstPosViolation(b),A[x[0].dedupKey]=b)}},_getMinGap:function(a,b,c){a=Math.min(a?a:Number.MAX_VALUE,b?b:Number.MAX_VALUE);return a!==Number.MAX_VALUE?a:c},_getStoryDedupKeysJSONString:function(a,b){var c=[];for(var a=a;a<=b;a++)c.push(x[a].dedupKey);return JSON.stringify(c)},_getStoryDedupKeys:function(){return x.map(function(a){return a.dedupKey})},_checkGapRuleViolation:function(a){__p&&__p();var b=null,c=null,d=null;for(var e=0;e<x.length;e++){var f=x[e];if(f.isSponsored){var g=!1,h=!1;if(b!==null){var i=e-c,j=null,k;b===c?k=this._getMinGap(C[d.dedupKey],C[f.dedupKey],a.defaultMinGap):k=this._getMinGapBetweenStories(d,f);var l;i<k?(j=p,l=c):(j=q,l=b);a.isLoggingEnabled&&((!(f.dedupKey in y)||y[f.dedupKey].event_type!==j)&&(this._logGapEvent(j,l,e),y[f.dedupKey]={event_type:j}));a.isGapRuleInvalidationEnabled&&j==p&&(this._invalidateGapRuleViolatedAd(d,f),g=!0,x.splice(e--,1))}!g&&!h&&(b=e,c=e,d=f)}if(a.invalidateEgo&&(f.isEgoPymk||f.isEgoOther)){l=!1;if(c!==null){i=e-c;k=this._getMinGapBetweenStories(d,x[e]);if(i<k){l=!0;j=k-i;g=-1;for(var h=e+1;h<x.length;h++){if(x[h].isSponsored||x[h].isEgoPymk||x[h].isEgoOther)break;else j--;if(j===0){g=h;break}}g>0?this._swapAndLogEgo(e,h):(this._invalidateAndLogEgo(e),e--)}else a.shouldLogEgo&&!z[f.dedupKey]&&(z[f.dedupKey]=!0,this._logGapEvent(r,c,e))}l||(c=e,d=f)}}},_getMinGapBetweenStories:function(a,b){__p&&__p();var c;if(a.isSponsored||a.isEgoOther)c="ad";else if(a.isEgoPymk)c="pymk";else return 0;if(b.isSponsored||b.isEgoOther)a="ad";else if(b.isEgoPymk)a="pymk";else return 0;return D[c+"_"+a]},_swapAndLogEgo:function(a,b){this._shiftEgoBelowOrganicStory(x[a].nodeID,x[b].nodeID);var c=x[a];x.splice(a,1);x.splice(b,0,c);h.bumpEntityKey("m_feed_ego_invalidation","swap")},_shiftEgoBelowOrganicStory:function(a,b){a=l(a);b=l(b);a&&b&&k.insertAfter(b,a)},_invalidateAndLogEgo:function(a){var b=l(x[a].nodeID);b&&i.hide(b);x.splice(a,1);h.bumpEntityKey("m_feed_ego_invalidation","invalidate")},_logFirstPosViolation:function(a){var b={ft:a.ftArray[0],event_type:s,intValues:{qid:a.qid}};a.error_msg&&(b.error_msg=a.error_msg);g.post("feed_ads_gap_rule_violation",b)},_logGapEvent:function(a,b,c){if(b===null)return;var d=x[b],e=x[c],f=0;for(var h=b+1;h<c;h++)f+=x[h].height;h={ft_A:d.dataFTArray[0],ft_B:e.dataFTArray[0],event_type:a,intValues:{dist:c-b,pdist:f,pos:c+1,qid_A:d.qid,qid_B:e.qid},strValues:{previous_unit_type:this._getUnitTypeForLogging(d),unit_type:this._getUnitTypeForLogging(e)},dedup_keys:this._getStoryDedupKeysJSONString(b,c)};g.post("feed_ads_gap_rule_violation",h)},_getUnitTypeForLogging:function(a){if(a.isSponsored)return"ad";else if(a.isEgoPymk)return"pymk";else if(a.isEgoOther)return"ego_other";return null},_logFeedLoad:function(){var a={event_type:t};g.post("feed_ads_gap_rule_violation",a)},_invalidateGapRuleViolatedAd:function(a,b){var c=l(b.nodeID);c&&i.hide(c);c={ft_array_A:a.dataFTArray[0],ft_array_B:b.dataFTArray[0],event_type:u};g.post("feed_ads_gap_rule_violation",c)}};e.exports=a}),null);
__d("MFeedErrorDetection",["Banzai","DataAttributeUtils"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i={};function j(event,a,b,c){var d={event:event,shouldLogDetail:a,site:"mtouch"};a&&(d.intValues=b,d.normalValues=c);g.post("feed_error_detection",d,{delay:0})}a={registerFeedStory:function(a){__p&&__p();var b=a.feedObjectElement;a=a.shouldLogDetail;if(!b)return;var c=h.getDataFt(b);b=b.getAttribute("data-dedupekey");if(!b||!c)return;if(i[b]){var d;a&&(d={dedupKey:b,ft_A:c,ft_B:i[b]});j("mtouch_duplicate_stories",a,{},{dup_field:d||{}})}else i[b]=c}};e.exports=a}),null);
__d("BaseGraphQLSubscription",["Banzai","BanzaiLogger","ChannelClientID","CurrentLocale","CurrentUser","GraphQLSubscriptionsConfig","Random","RTISubscriptionGate","URI","gkx"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){__p&&__p();var q=1e4,r=1,s=100,t="www_e2e_reliability";a={subscribe:function(a,b,c){__p&&__p();c===void 0&&(c={});c.forceLogContext==null&&p("AT7Chz5wgKLZbSd9ly8uFQQBsVBGTLtk8_Yf3E8ifENKY4n9DNZfVEomwBg6vUHF1MWvJVXwrBfYznXqFMX9Hd7EhR2xpmULKwr8D4oho-SBhA")&&m.coinflip(s)&&(c.forceLogContext=t);var d=this._getQueryParameters(a);c.forceLogContext!=null&&(d["%options"]={client_logged_context:c.forceLogContext});var e={};e.transformContext=JSON.stringify(this._getTransformContext(a,d));c.policy!=null&&(e.policy=c.policy);this._logEvent("client_subscribe",d,c);return n.subscribe(this._getTopic(a),function(a){this._logEvent("receivepayload",d,c),b(JSON.parse(a.payload))}.bind(this),e,null,function(){this._logEvent("client_unsubscribe",d,c)}.bind(this))},subscribeWithIcebreaker_EXPERIMENTAL:function(a,b,c){__p&&__p();var d=new o("https://streaming-graph.facebook.com/gqls_bore");d.setQueryData({access_token:c});c=this._getTopic(a);var e={topic:c,locale:j.get(),queryID:this._getQueryID(),serializedQueryParameters:JSON.stringify(this._getQueryParameters(a))};d.addQueryData(e);var f=new EventSource(d.toString(),{withCredentials:!0});f.addEventListener("message",function(a){b(JSON.parse(JSON.parse(a.data).payload))},!1);return{getContext:function(){return e},unsubscribe:function(){return f.close()}}},_getTransformContext:function(a,b){var c=0;return{viewerID:this._getViewerID(a),appID:c,locale:j.get(),queryID:this._getQueryID(),serializedQueryParameters:JSON.stringify(b)}},_getViewerID:function(a){return k.getID()},_logEvent:function(a,b,c){if(g.isEnabled("gqls_web_logging")){var d=l.shouldAlwaysLog||c.forceLogContext?r:q;m.coinflip(d)&&h.log("GraphQLSubscriptionsLoggerConfig",{clienttime:Date.now()/1e3,client_sample_weight:d,event:a,force_log_context:c.forceLogContext,mechanism:"skywalker",query_id:parseInt(this._getQueryID(),10),query_params:b,session_id:i.getID(),subscription_call:this._getSubscriptionCallName()})}}};e.exports=a}),null);
__d("WebGraphQLSubscriptionHelper",[],(function(a,b,c,d,e,f){"use strict";e.exports={getExports:function(a){var b=a.docID,c=a.queryID;return{getDocID:function(){return b},getLegacyQueryID:function(){return c}}}}}),null);
__d("CommentLikeWebGraphQLSubscription",["WebGraphQLSubscriptionHelper"],(function(a,b,c,d,e,f,g){"use strict";e.exports=g.getExports({docID:"1435334373168219",queryID:"1723155404680538"})}),null);
__d("UFICommentLikeSubscription",["BaseGraphQLSubscription","CommentLikeWebGraphQLSubscription","uuid"],(function(a,b,c,d,e,f,g,h,i){a=babelHelpers["extends"]({},g,{_getTopic:function(a){return"gqls/comment_like_subscribe/top_level_feedback_id_"+a},_getQueryID:function(){return h.getDocID()},_getQueryParameters:function(a){return{input:JSON.stringify({client_subscription_id:i(),top_level_feedback_id:a})}},_getSubscriptionCallName:function(){return"comment_like_subscribe"}});e.exports=a}),null);
__d("MSiteCommentCreateSimpleWebGraphQLSubscription",["WebGraphQLSubscriptionHelper"],(function(a,b,c,d,e,f,g){"use strict";e.exports=g.getExports({docID:"1460519033984219",queryID:"715901305267016"})}),null);
__d("UFICommentSimpleSubscription",["BaseGraphQLSubscription","MSiteCommentCreateSimpleWebGraphQLSubscription","uuid"],(function(a,b,c,d,e,f,g,h,i){a=babelHelpers["extends"]({},g,{_getTopic:function(a){return"gqls/comment_create_subscribe/feedback_id_"+a},_getQueryID:function(){return h.getDocID()},_getQueryParameters:function(a){return{input:JSON.stringify({client_subscription_id:i(),feedback_id:a})}},_getSubscriptionCallName:function(){return"comment_create_subscribe"}});e.exports=a}),null);
__d("MSiteCommentCreateWebGraphQLSubscription",["WebGraphQLSubscriptionHelper"],(function(a,b,c,d,e,f,g){"use strict";e.exports=g.getExports({docID:"1659551594055113",queryID:"449892118711349"})}),null);
__d("UFICommentSubscription",["BaseGraphQLSubscription","MSiteCommentCreateWebGraphQLSubscription","uuid"],(function(a,b,c,d,e,f,g,h,i){a=babelHelpers["extends"]({},g,{_getTopic:function(a){return"gqls/comment_create_subscribe/feedback_id_"+a},_getQueryID:function(){return h.getDocID()},_getQueryParameters:function(a){return{input:JSON.stringify({client_subscription_id:i(),feedback_id:a})}},_getSubscriptionCallName:function(){return"comment_create_subscribe"}});e.exports=a}),null);
__d("MSiteFeedbackLikeWebGraphQLSubscription",["WebGraphQLSubscriptionHelper"],(function(a,b,c,d,e,f,g){"use strict";e.exports=g.getExports({docID:"1418598598173623",queryID:"644201235775644"})}),null);
__d("UFILikeSubscription",["BaseGraphQLSubscription","MSiteFeedbackLikeWebGraphQLSubscription","uuid"],(function(a,b,c,d,e,f,g,h,i){a=babelHelpers["extends"]({},g,{_getTopic:function(a){return"gqls/feedback_like_subscribe/feedback_id_"+a},_getQueryID:function(){return h.getDocID()},_getQueryParameters:function(a){return{input:JSON.stringify({client_subscription_id:i(),feedback_id:a})}},_getSubscriptionCallName:function(){return"feedback_like_subscribe"}});e.exports=a}),null);
__d("MUFITextRotation",["DataStore","DOM","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=2500,k=4e3,l={},m={},n={setText:function(a,b){__p&&__p();var c=h.find(a,"a","ufi-inline-like"),d=h.find(a,"a","ufiCommentLink");if(c===null||d===null)return;var e=null,f=g.get(a,"is_shareable");if(f===!0){e=h.find(a,"a","share-popup");if(e===null)return}if(b==="primary")h.setContent(c,"Like"),h.setContent(d,"Comment"),e!==null&&h.setContent(e,"Share");else if(b==="secondary"){f=g.get(a,"secondary_like_text");b=g.get(a,"secondary_comment_text");a=g.get(a,"secondary_share_text");f!==null&&b!==null&&(h.setContent(c,f),h.setContent(d,b),e!==null&&h.setContent(e,a))}},rotateTextToSecondLang:function(a,b){n.setText(a,"secondary");delete l[b];a=i(n.rotateTextToPrimary.bind(null,a,b),k);l[b]=a},rotateTextToPrimary:function(a,b){n.setText(a,"primary"),delete l[b]},updateVisibleUFIElements:function(a){__p&&__p();var b={};for(var c in l)clearTimeout(l[c]),delete l[c];for(var d=0;d<a.length;d++){var e=a[d],f=g.get(e,"id");if(typeof f!=="string"&&typeof f!=="number")return;if(g.get(e,"is_shareable")===!0&&g.get(e,"secondary_share_text")===null)continue;var h=i(n.rotateTextToSecondLang.bind(null,e,f),j);l[f]=h;b[f]=e}for(var k in m)k in b||n.setText(m[k],"primary");m=b}};e.exports=n}),null);
__d("ViewportTrackingHooks",["Base64"],(function(a,b,c,d,e,f,g){__p&&__p();var h={},i=[];a={registerFeedObject:function(a,b){h[a]=g.encode(b)},updateVisibleViewportObjects:function(a){var b=[],c=!1;for(var d=0;d<a.length;d++){var e=a[d],f=e.id;while(!(f in h)&&e.firstChild!=undefined&&e.firstChild.id!=undefined&&e.firstChild.id.startsWith("u_"))f=e.firstChild.id,e=e.firstChild;f in h&&(b.push(h[f]),(!(d in i)||i[d]!=h[f])&&(c=!0))}!c&&i.length!=b.length&&(c=!0);c&&(i=b,typeof __EXT__updateVisibleViewportObjects==="function"&&__EXT__updateVisibleViewportObjects(i))}};e.exports=a}),null);
__d("MViewportTracking",["DataAttributeUtils","DOM","FBJSON","MUFITextRotation","MViewport","NavigationMetrics","Stratcom","Style","Vector","ViewportTrackingHooks","Visibility","VisibilityTrackingHelper","invariant","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){"use strict";__p&&__p();var u=97,v=200,w=new Map();function a(){this.$2=[],this.debugConsole=!1,this.activeStories={},this.cachedViewportHeight=0,this.discardVPVDIntervalThreshold=9e4,this.isLoose=!1,this.isTimeTrackingEnabled=!1,this.latestTimeTrackingTimestamp=0,this.maxScrollPosition=0,this.minSizeToBeVisible=0,this.readStoryIDs={},this.relaxedMinSize=!1,this.rotationalTextEnabled=!1,this.throttleNoDelay=!1,this.trackingHooks=!1,this.vpvdDebug=!1,this.vpvDebug=!1,this.enableAdsAllocationIntegrityLogging=!1}a.prototype.getDataFromConfig=function(a){s(0)};a.prototype.getStoryID=function(a){s(0)};a.prototype.getDataToLog=function(a){s(0)};a.prototype.sendDataToLog=function(a){s(0)};a.prototype.getTimeout=function(){s(0)};a.prototype.getAllStories=function(){s(0)};a.prototype.init=function(a){__p&&__p();this.isLoose=!!a.is_loose,this.throttleNoDelay=!!a.throttle_no_delay,this.relaxedMinSize=!!a.relaxed_min_size,this.vpvDebug=!!a.vpv_debug,this.trackingHooks=!!a.tracking_hooks,this.isTimeTrackingEnabled=!1,this.cachedViewportHeight=k.getHeight(),this.getDataFromConfig(a),this.maxScrollPosition=0,this.readStoryIDs={},this.$2=[m.listen("m:page:unload",null,this.onUnload.bind(this)),m.listen("m:viewport:update-complete",null,function(){this.cachedViewportHeight=k.getHeight()}.bind(this))],a.triggerOverride?this.$2=this.$2.concat(a.triggerOverride.map(function(a){var event=a[0];a=a[1];return m.listen(event,a,this.queueLogAction.bind(this))}.bind(this))):this.$2.push(m.listen("scroll",null,this.queueLogAction.bind(this))),this.isTimeTrackingEnabled&&(this.$2.push(q.addListener(q.VISIBLE,function(){return this.startRecordingTimeTrackingData()}.bind(this))),this.$2.push(q.addListener(q.HIDDEN,function(){return this.stopRecordingTimeTrackingData()}.bind(this)))),this.$2.push(m.listen("m:newsfeed:popup-visible",null,function(){this.stopRecordingTimeTrackingData()}.bind(this)),m.listen("m:newsfeed:popup-hidden",null,function(){this.startRecordingTimeTrackingData(),this.fireEvent()}.bind(this))),this.fireEvent(),a.register_vpv_fire_to_viewport_event&&l.addRetroactiveListener(l.Events.EVENT_OCCURRED,function(a,b){var event=b.event;event==="tti"&&(this.fireEvent(),l.removeCurrentListener())}.bind(this))};a.prototype.getFBFeedLocation=function(){return-1};a.prototype.unitTestOnlyGetListeners=function(){return[].concat(this.$2)};a.prototype.getMinSizeToBeVisible=function(a){if(!this.relaxedMinSize)return v;a="getBoundingClientRect"in a?a.getBoundingClientRect().height:o.getDim(a).y;return Math.min(v,a*.5)};a.prototype.fireEvent=function(){__p&&__p();if(r.isSnippetFlyoutVisible())return;var a=this.getAllStoriesInView();for(var b=0;b<a.length;b++){var c=a[b],d=this.getStoryID(c);if(!d||d in this.readStoryIDs)continue;this.readStoryIDs[d]=!0;this.sendDataToLog(this.getDataToLog(c));if(this.vpvDebug){d=h.scry(c,"div")[0];d&&n.set(d,"background-color","#fffbe2")}this.markStoryRead(c);this.fireStoryVisibleHandlers(c)}this.trackingHooks&&p.updateVisibleViewportObjects(this.getAllStoriesInView(!0));this.rotationalTextEnabled&&j.updateVisibleUFIElements(this.getAllStoriesInView(!0))};a.prototype.fireStoryVisibleHandlers=function(a){(w.get(a)||[]).forEach(function(a){return a()}),w["delete"](a)};a.prototype.markStoryRead=function(a){};a.prototype.queueLogAction=function(){this.isLoose?this.$3||(this.$3=t(function(){this.isTimeTrackingEnabled&&this.startRecordingTimeTrackingData(),this.$3=null,this.maxScrollPosition=Math.max(this.maxScrollPosition,k.getScrollTop()),!this.throttleNoDelay?(clearTimeout(this.$1),this.$1=t(function(){return this.fireEvent()}.bind(this),this.getTimeout())):this.fireEvent()}.bind(this),100)):(clearTimeout(this.$1),this.$1=t(function(){this.isTimeTrackingEnabled&&this.startRecordingTimeTrackingData(),this.fireEvent()}.bind(this),this.getTimeout()))};a.prototype.getTimetrackingDataToLog=function(a){var b=h.scry(a.story,"*","data-is-cta").map(function(a){a=g.getDataFt(a);a=a&&JSON.parse(a);return a&&a.cta_types}).filter(function(a){return!!a});return{evt:u,fbfeed_location:this.getFBFeedLocation(),story_height:a.story_height,viewport_height:this.cachedViewportHeight,vpvd_start_timestamp:a.evp_ts/1e3,vpvd_time_delta:Math.round(a.vpvd||0),cta_types:b}};a.prototype.recordTimeStoryWasInView=function(a){if(this.isTimeTrackingEnabled&&a.vpvd>0){var b=this.getTimetrackingDataToLog(a);if(typeof b!=="string"){a=g.getDataFt(a.story);a&&(b=babelHelpers["extends"]({},b,i.parse(a,e.id)))}this.sendTimetrackingDataToLog(b)}};a.prototype.startRecordingTimeTrackingData=function(){this.$4(!1)};a.prototype.stopRecordingTimeTrackingData=function(){this.$4(!0)};a.prototype.$4=function(a){__p&&__p();this.activeStories||(this.activeStories={});var b=Date.now();this.latestTimeTrackingTimestamp||(this.latestTimeTrackingTimestamp=b);var c=this.getAllStoriesInView();this.updateVPVDurations(b);if(this.debugConsole){var d=Object.values(this.activeStories);d.length&&(console.table&&console.table(d))}d=this.updateActiveStories(c,b);this.debugConsole&&(d.length&&(console.table&&console.table(d)));this.recordVPVDurations(c,a);this.latestTimeTrackingTimestamp=a?0:b};a.prototype.updateVPVDurations=function(a){var b=a-this.latestTimeTrackingTimestamp;if(b>this.discardVPVDIntervalThreshold)return;b=a-this.latestTimeTrackingTimestamp;for(var c in this.activeStories)Object.prototype.hasOwnProperty.call(this.activeStories,c)&&(this.activeStories[c].vpvd+=b)};a.prototype.isVisible=function(a,b){for(var c=0;c<b.length;c++)if(this.getStoryID(b[c])===a)return!0;return!1};a.prototype.recordVPVDurations=function(a,b){this.recordVPVDurationsInternal(a,b)};a.prototype.recordVPVDurationsInternal=function(a,b){for(var c in this.activeStories)Object.prototype.hasOwnProperty.call(this.activeStories,c)&&((b||!this.isVisible(c,a))&&(this.recordTimeStoryWasInView(this.activeStories[c]),delete this.activeStories[c]))};a.prototype.updateActiveStories=function(a,b){var c=[];for(var d=0;d<a.length;d++){var e=this.getStoryID(a[d]);if(!e)break;e in this.activeStories||(this.activeStories[e]={evp_ts:b,story:a[d],vpvd:0,story_height:a[d].offsetHeight},c.push(this.activeStories[e]));this.activeStories[e].ts=b}return c};a.prototype.getAllStoriesInView=function(a){__p&&__p();a===void 0&&(a=!1);var b=[],c=this.getAllStories(),d=k.getScrollTop(),e=k.getHeight(),f=this.isLoose,g=e+this.maxScrollPosition-d;for(var h=0;h<c.length;h++){var i=c[h],j=this.getStoryBounds(d,i),l=j.top;j=j.bottom;if(!l&&!j)continue;var m=this.getMinSizeToBeVisible(i);if(!f&&l>e-m)break;m=!f&&l<=e-m&&j>=m||f&&l<g;a&&(j<0||l>e)&&(m=!1);m&&b.push(i)}return b};a.prototype.getStoryBounds=function(a,b){if("getBoundingClientRect"in b){var c=b.getBoundingClientRect();return{bottom:c.bottom,top:c.top}}else{c=o.getPos(b).y-a;return{top:c,bottom:c+o.getDim(b).y}}};a.prototype.cleanup=function(){this.$2.forEach(function(a){return a.remove()}),this.$2=[],w.clear()};a.prototype.onUnload=function(){this.isTimeTrackingEnabled&&this.stopRecordingTimeTrackingData(),this.cleanup()};a.prototype.sendTimetrackingDataToLog=function(a){this.sendDataToLog(a)};a.addStoryVisibleHandler=function(a,b){w.set(a,[].concat(w.get(a)||[],[b]));return{remove:function(){w.set(a,(w.get(a)||[]).filter(function(a){return a!==b}))}}};e.exports=a}),null);
__d("MCommentViewportTracking",["Banzai","DataStore","DOM","FBJSON","MParent","MViewportTracking","Stratcom","StratcomManager","compactArray","gkx"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){"use strict";__p&&__p();var q,r=null,s={m_group_stories_container:"group",m_newsfeed_stream:"",m_story_permalink_view:"",structured_composer_async_container:"user",root:""};q=babelHelpers.inherits(t,l);q&&q.prototype;t.loadedReplies=function(){m.invoke("m:commentViewportTracking:loadedReplies")};t.singleton=function(a){if(!r){a={triggerOverride:[["scroll",null],["m:commentViewportTracking:loadedReplies",null],["m:feed-ufi-flyout:comments-displayed",null]]};n.enableDispatch(document,"scroll");r=new t();r.init(a);r.debugConsole&&!1;m.listen("m:page:unload",null,function(){r=null,m.removeCurrentListener()})}};t.registerFlyout=function(a,b){var c;r&&(r.debugConsole&&!1,r.streamRoot=a);s=babelHelpers["extends"]((c={},c[a.id]=b||"",c),s)};t.prototype.getDataFromConfig=function(){this.debugConsole=p("AT7ImPMHuxZIJZ136ME7VyraMwtCKryQmyrFHtgzHkf8ddy4a6_xWA51xIkynmusmXrOGBFVkNSaxGsbLCgQTZHL"),this.isTimeTrackingEnabled=!0,this.idle_timeout=5e3,this.min_duration_to_log=100,this.min_visible_size=200};t.prototype.__getRootNode=function(){this.streamRoot||(this.streamRoot=o(Object.keys(s).map(function(a){return document.getElementById(a)}))[0]||null);return this.streamRoot};t.prototype.getAllStories=function(){var a=this.__getRootNode();return!a?[]:i.scry(this.__getRootNode(),"div","comment-body")};t.prototype.getTimeout=function(){return this.min_duration_to_log};t.prototype.getDataToLog=function(a){return{}};t.prototype.getStoryID=function(a){var b=a.getAttribute("data-commentid");return!b?String(h.get(a,"token"))||null:b};t.prototype.getContainerModule=function(){var a=this.__getRootNode();return!a||!(a.id in s)?"other":s[a.id]};t.prototype.getTimetrackingDataToLog=function(a){var b=a.story,c;try{var d=k.bySigil(a.story,"story-div")||k.bySigil(a.story,"m-feed-single-story");d&&(c=j.parse(d.getAttribute("data-ft"),e.id))}catch(a){}return{comment_id:this.getStoryID(b),duration_ms:Math.round(a.vpvd),container_module:this.getContainerModule(),mf_story_key:c?c.mf_story_key||c.top_level_post_id:null}};t.prototype.sendDataToLog=function(a){a.comment_id&&(this.debugConsole&&!1,g.post("comment_vpvd",a))};function t(){q.apply(this,arguments)}e.exports=t}),null);
__d("ShareMenuTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();function a(){this.clear()}a.prototype.log=function(){h.log("logger:ShareMenuLoggerConfig",this.$1,g.BASIC)};a.prototype.logVital=function(){h.log("logger:ShareMenuLoggerConfig",this.$1,g.VITAL)};a.prototype.logImmediately=function(){h.log("logger:ShareMenuLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setAppID=function(a){this.$1.appid=a;return this};a.prototype.setAppversion=function(a){this.$1.appversion=a;return this};a.prototype.setClienttime=function(a){this.$1.clienttime=a;return this};a.prototype.setComposerSessionID=function(a){this.$1.composer_session_id=a;return this};a.prototype.setCountry=function(a){this.$1.country=a;return this};a.prototype.setDeviceid=function(a){this.$1.deviceid=a;return this};a.prototype.setExtraClientData=function(a){this.$1.extra_client_data=a;return this};a.prototype.setFbAudience=function(a){this.$1.fb_audience=a;return this};a.prototype.setFbEntryPoint=function(a){this.$1.fb_entry_point=a;return this};a.prototype.setFbShareType=function(a){this.$1.fb_share_type=a;return this};a.prototype.setFbSignificance=function(a){this.$1.fb_significance=a;return this};a.prototype.setName=function(a){this.$1.name=a;return this};a.prototype.setOrcaEntryPoint=function(a){this.$1.orca_entry_point=a;return this};a.prototype.setOrcaSignificance=function(a){this.$1.orca_significance=a;return this};a.prototype.setSessionid=function(a){this.$1.sessionid=a;return this};a.prototype.setVC=function(a){this.$1.vc=a;return this};b={appid:!0,appversion:!0,clienttime:!0,composer_session_id:!0,country:!0,deviceid:!0,extra_client_data:!0,fb_audience:!0,fb_entry_point:!0,fb_share_type:!0,fb_significance:!0,name:!0,orca_entry_point:!0,orca_significance:!0,sessionid:!0,vc:!0};e.exports=a}),null);
__d("Tooltip",[],(function(a,b,c,d,e,f){a={propsFor:function(a){return}};e.exports=a}),null);
__d("MSnowflakeLink",["DataAttributeUtils","DOM","MLinkHack","MModalDialog","Stratcom","URI","destroyOnUnload"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m){__p&&__p();function a(a){"use strict";this.$1=!1,this.$2=a.node,this.$3=a.permalink,this.$4=a.setToken,this.$5=a.targetPhoto,this.$6=h.listen(a.node,"click",null,this.onClick.bind(this)),m(function(){return this.$6.remove()}.bind(this)),this.$7()}a.prototype.getFeedTrackingOwnerID=function(){"use strict";var a=g.getClickTrackingParent(this.$2);return a&&a.id};a.prototype.getPermalinkURI=function(){"use strict";return new l(this.$3).addQueryData("photo_id",this.$5)};a.prototype.getModalDialogURI=function(){"use strict";return new l(this.$2.getAttribute("href")).addQueryData("cached_data",this.$1).addQueryData("ftid",this.getFeedTrackingOwnerID())};a.prototype.onClick=function(a){"use strict";i.remove(this.$2),j.openWithPermalinkURI(this.getModalDialogURI().toString(),this.getPermalinkURI()),a.kill()};a.prototype.$7=function(){"use strict";__p&&__p();if(!this.$4){this.$1=!0;return}var a=k.listen("m:photosetstore:update",null,function(event){var b=(event.getData()||{}).set_token;if(!a||b!=this.$4)return;this.$1=!0;a.remove();a=null}.bind(this));m(function(){return a&&a.remove()})};e.exports=a}),null);
__d("createIxElement",["DOM","invariant","joinClasses"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();function a(a,b){__p&&__p();var c="img";a.sprited||a.uri||h(0);if(a.sprited){c=i(c,a.spriteMapCssClass,a.spriteCssClass);var d=g.create("i",{className:c});b!=null&&g.setContent(d,g.create("u",null,b));return d}d=g.create("img",{className:c,src:a.uri});b!=null&&d.setAttribute("alt",b);a.width&&d.setAttribute("width",a.width);a.height&&d.setAttribute("height",a.height);return d}e.exports=a}),null);
__d("MReactionsBlingBar",["MLiveData","Stratcom","SubscriptionsHandler","UFIReactionIcons","UFIReactionTypes","createIxElement","cx","fbt"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){__p&&__p();var o=k.ordering.reduce(function(a,b,c){a[b]=c;return a},{});function p(a){"use strict";var b=g.get(a.feedbackTargetID),c=new i();c.addSubscriptions(h.listen("m:page:unload",null,this.onUnload.bind(this)),b.listen("change",this.onChange.bind(this)));var d=a.elements;this.container=d.container;this.feedbackTarget=b;this.isPermalink=a.isPermalink;this.requestID=a.requestID;this.subscriptions=c}p.prototype.onChange=function(){"use strict";__p&&__p();var a=this.feedbackTarget.getData(),b=a.reactioncountmap,c=a.request_id;if(c===this.requestID||!b)return;c=k.ordering.filter(function(a){a=b[a];return a&&a["default"]>0}).sort(function(a,c){var d=b[a]["default"],e=b[c]["default"];return d===e?o[a]-o[c]:e-d}).slice(0,3).map(function(a,b){var c=document.createElement("div");c.className="_1g05";c.style.zIndex=3-b;c.appendChild(l(j[a][16]));return c});c=c.reduce(function(a,b){a.appendChild(b);return a},document.createElement("span"));c.className="_qfz";var d=document.createElement("div");d.className="_1w1k";d.appendChild(c);c=a.comment_count;var e=a.share_count,f=a.reactionsentences.current&&a.reactionsentences.current.text,g=document.createElement("div");g.className="_1g06";g.setAttribute("aria-label",n._("{count} reacted",[n._param("count",f)]));g.textContent=f;d.appendChild(g);g=this.container;var h=document.createElement("div");h.className="_1fnt";if(!this.isPermalink){if(c>0){var i=document.createElement("span");i.className="_1j-c";i.textContent=c===1?n._("1 Comment"):n._("{count} Comments",[n._param("count",a.reduced_comment_count)]);h.appendChild(i)}if(e>0){i=document.createElement("span");i.className="_1j-c";i.textContent=e===1?n._("1 Share"):n._("{count} Shares",[n._param("count",a.reduced_share_count)]);h.appendChild(i)}}while(g.hasChildNodes())g.removeChild(g.firstChild);if(f||c||e){a=document.createDocumentFragment();a.appendChild(d);a.appendChild(h);g.appendChild(a)}};p.prototype.onUnload=function(){"use strict";this.subscriptions.release(),this.subscriptions=null};e.exports={init:function(a){new p(a)}}}),null);
__d("UFIReactionsUtils",[],(function(a,b,c,d,e,f){__p&&__p();a={getReactionData:function(a,b,c,d){__p&&__p();b=parseInt(b,10);var e=!!b,f=a.reactorids?a.reactorids.slice(0):[],g=f.indexOf(c),h=0;e?g<0&&(c&&f.unshift(c),h=1):g>-1&&(f.splice(g,1),h=-1);g=Math.max(a.reactioncount+h,0);h=a.reactioncountreduced;h&&!isNaN(h)&&(d?h=d(g):h=g.toString());d=a.reactioncountmap||{};var i,j=a.viewerreaction;j&&d[j]&&(d[j]["default"]=Math.max((d[j]["default"]||0)-1,0),i=d[j].reduced,i&&!isNaN(i)&&(d[j].reduced=d[j]["default"].toString()));e&&d[b]&&(d[b]["default"]=(d[b]["default"]||0)+1,i=d[b].reduced,i&&!isNaN(i)&&(d[b].reduced=d[b]["default"].toString()));i=a.userreactions;(!i||Array.isArray(i))&&(i={});c&&(e?i[c]=b:delete i[c]);e=null;if(a.reactionsentences){c=!(j&&b);e={current:a.reactionsentences[c?"alternate":"current"],alternate:a.reactionsentences[c?"current":"alternate"]}}return{reactioncount:g,reactioncountmap:d,reactioncountreduced:h,reactionsentences:e,reactorids:f,userreactions:i,viewerreaction:b}},getReactionCountMapFromSummary:function(a){var b={};if(!a)return b;for(var c=0;c<a.length;c++){var d=a[c],e=d.feedback_reaction.key;b[e]={"default":d.reactors&&d.reactors.count,reduced:d.reactors&&d.reactors.display_count}}return b}};e.exports=a}),null);
__d("MUFIReactionsUtils",["BackgroundSyncParameters","DateConsts","QE2Logger","UFIReactionsUtils"],(function(a,b,c,d,e,f,g,h,i,j){__p&&__p();var k=[null,null],l=1,m=0;a={getReactionData:function(a,b){var c=a.viewerreaction||a.has_viewer_liked?l:m,d=a.like_count,e=a.like_counts||k,f=a.like_friend_sentences||k,g=a.like_sentences||k;c&&!b?d--:!c&&b&&d++;var h=a.reduced_like_count;isNaN(h)||(h=d.toString());(c&&!b||!c&&b)&&(e=[e[1],e[0]],f=[f[1],f[0]],g=[g[1],g[0]]);return Object.assign({has_viewer_liked:!!b,like_count:d,like_counts:e,like_friend_sentences:f,like_sentences:g,reduced_like_count:h},j.getReactionData(a,b,a.actor_for_post))},getReactionDataForComment:function(a,b){var c=a.reactioncount,d=a.reactioncountreduced;a.viewerreaction&&!b?c--:!a.viewerreaction&&b&&c++;c=Math.max(c,0);d&&!isNaN(d)&&(d=c.toString());a=this.getReactionData(a,b);return{has_viewer_liked:a.has_viewer_liked,like_count:a.like_count,reactioncount:c,reactioncountmap:a.reactioncountmap,reactioncountreduced:d,viewerreaction:a.viewerreaction}},getConfigForBackgroundRetry:function(a){if(!navigator.serviceWorker||!navigator.serviceWorker.controller)return undefined;i.logExposureForUser(g.recoverReactionsQe);return g.shouldRecoverReactions?{request_id:"react_"+a,ttl:2*h.SEC_PER_HOUR,max_retry:1}:undefined}};e.exports=a}),null);
__d("XUFIReactionController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ufi/reaction/",{client_id:{type:"String"},ft_ent_identifier:{type:"String"},reaction_type:{type:"Enum",enumType:0},story_render_location:{type:"Enum",enumType:1},is_inline:{type:"Bool",defaultValue:!1},is_comment:{type:"Bool",defaultValue:!1},is_permalink:{type:"Bool",defaultValue:!1},action_source:{type:"String"},feedback_source:{type:"Int"},feedback_referrer:{type:"String"},is_sponsored:{type:"Bool",defaultValue:!1},basic_origin_uri:{type:"String"},basic_reload:{type:"Exists",defaultValue:!1},on_demand_content_time_offset:{type:"Int"},live_content_time_offset:{type:"Int"},bgsync_id:{type:"String"},aftercursor:{type:"String"},tab:{type:"String"},av:{type:"Int"},_ft_:{type:"String"}})}),null);
__d("MReactionsFlyout",["ActorURI","BanzaiLogger","CancelableEventListener","CSS","DOM","MAudioController","MBlockingTouchable","MLegacyDataStore","MLiveData","MParent","MUFIConfig","MUFIReactionsUtils","MUFIRequest","Stratcom","SubscriptionsHandler","TouchEventType","URI","XUFIReactionController","cx","fbt","gkx"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A){__p&&__p();var B=[1,2,4,3,7,8],C=17,D={top:.3,bottom:.6},E,F=[];function G(a){"use strict";__p&&__p();this.autoHideOnScroll=function(event){__p&&__p();var a=this.flyout;if(!a||!a.isShown()){t.removeCurrentListener();return}var b;window.innerHeight?b=window.innerHeight:document.body&&(b=document.body.clientHeight);if(!b)return;var c=a.getContext().getBoundingClientRect().top,d=b*D.top,e=b*D.bottom;(c<d||c>e)&&a.hide()}.bind(this);this.onUnload=function(){this.onHide(),this.pageSubscriptions.release()}.bind(this);this.onClick=function(event){var a=event.getNode("reaction-item");a instanceof HTMLElement&&this.select(a)}.bind(this);this.onScreenReaderTrigger=function(event){__p&&__p();var a=event.getTarget();if(!a)return;a=a.previousSibling;if(!a)return;this.flyout.setContext(a);this.setSupported();this.flyout.show();this.flyoutSubscriptions.addSubscriptions(t.listen("click","reaction-item",this.onClick));a=o.get(n.get(this.flyout.getContext()).feedbackTarget).getData();a=a.viewerreaction;var b=null;for(var c=0,d=this.reactionElements.length;c<d;c++){var e=n.get(this.reactionElements[c]);e=e.reaction;e===a&&(b=this.reactionElements[c])}b||(b=this.reactionElements[0]);b.focus()}.bind(this);this.onClickTrigger=function(event){__p&&__p();var a=event.getTarget();if(!(a instanceof HTMLElement))return;var b=this.flyout;if(b.isShown()){b.hide();return}t.hasSigil(a,"like-reaction-flyout")||(a=p.bySigil(a,"like-reaction-flyout"));a&&this.setupFlyout(b,a)}.bind(this);this.onClickCapture=function(event){__p&&__p();var a=this.flyout;if(a){var b=n.get(a.getContext());b=b.kaiOSReactions;if(b&&a.isShown()){a.hide();return}}event.stop()}.bind(this);this.onTouchStart=function(event){var a=this.flyout;a.isShown()||(this.touchStartX=event.getTouch().clientX,this.timing.touchStartTime=Date.now(),this.preventScrollTimeout=setTimeout(function(){this.canScroll=!1}.bind(this),200),this.longpressTimeout=setTimeout(function(){this.timing.shownTime=Date.now();var b=event.getTarget();if(!(b instanceof HTMLElement))return;t.hasSigil(b,"like-reaction-flyout")||(b=p.bySigil(b,"like-reaction-flyout"));b&&this.setupFlyout(a,b)}.bind(this),300))}.bind(this);this.onTouchMove=function(event){__p&&__p();var a=this.flyout,b=a.getContext()&&n.get(a.getContext()).isComment;this.canScroll||(b?event.kill():event.prevent());if(!a.isShown())return;var c=event.getTouch(),d=c.clientX;c=c.clientY;c=document.elementFromPoint(d,c);if(c){var e=c.nodeName==="I"||c.nodeName==="IMG";if(!(e||this.canScrub)){this.canScrub=Math.abs(this.touchStartX-d)>=25;return}a.getContentRoot().setAttribute("data-longpress",!0);if(a.getContentRoot().contains(c)){if(e){c=(d=c)!=null?(d=d.parentNode)!=null?d.parentNode:d:d}if(this.active!==c&&n.get(c).reaction){this.isUpdatedDock||b?this.showOverlay(this.overlay&&this.overlay.slide):this.showOverlay(this.overlay&&this.overlay.dots);this.removeActive();this.active=c;c&&c.setAttribute("data-active","true");if(A("AT4-aeIvHRlRmJA0m4c6JmBGpzhUsh9l5-KUlHEj5Tiuk08tySt3jGojCJ2-w8ahMF9czLQIyz4pAgS0iMSEkmzG")){a=c.parentElement;a&&a.classList.add("mReactionInAnimation")}}}else(!this.overlay||!this.overlay.container.contains(c))&&(this.removeActive(),this.showOverlay(this.overlay&&this.overlay.release))}}.bind(this);this.onTouchEnd=function(event){__p&&__p();var a=this.active;if(a)this.log({finalReaction:n.get(a).reaction,viaScrubbing:!0}),this.select(a);else{a=event.getTouch();var b=a.clientX;a=a.clientY;b=document.elementFromPoint(b,a);a=this.flyout;b&&!(a.getContentRoot().contains(b)||a.getContext().contains(b)||this.overlay&&this.overlay.container.contains(b))&&a.hide()}}.bind(this);this.onWindowClick=function(event){var a,b=event.getNode("reaction-item");b&&(a=n.get(b).reaction);this.log({finalReaction:a,viaScrubbing:!1})}.bind(this);this.onWindowTouchEnd=function(){var a=this.flyout;a.isShown()?(this.timing.touchEndTime=Date.now(),a.getContentRoot().removeAttribute("data-longpress")):(this.canScroll=!0,clearTimeout(this.longpressTimeout),clearTimeout(this.preventScrollTimeout))}.bind(this);this.onHide=function(){this.canScroll=!0,this.canScrub=!1,this.removeActive(),this.removeUFIOverlay(),this.flyout.hide(),this.flyoutSubscriptions.release(),this.flyoutSubscriptions=new u()}.bind(this);this.onWindowTouchMove=function(){this.flyout.isShown()||(this.canScroll=!0,clearTimeout(this.longpressTimeout),clearTimeout(this.preventScrollTimeout))}.bind(this);this.flyout=a;this.active=null;this.canScroll=!0;this.canScrub=!1;this.preventScrollTimeout=null;this.longpressTimeout=null;this.nuxTooltip=null;this.overlay=null;this.reactionElements=document.getElementsByClassName("_1-kd");this.timing={touchStartTime:null,touchEndTime:null,shownTime:null};this.touchStartX=0;this.isUpdatedDock=q.hasUpdatedDock;if(A("AT4-aeIvHRlRmJA0m4c6JmBGpzhUsh9l5-KUlHEj5Tiuk08tySt3jGojCJ2-w8ahMF9czLQIyz4pAgS0iMSEkmzG")){var b=this.reactionElements[0].parentElement;b&&b.classList.add("mAnimatedReaction")}this.pageSubscriptions=new u();this.flyoutSubscriptions=new u();Array.prototype.forEach.call(this.reactionElements,function(a){return m.init(a)});this.pageSubscriptions.addSubscriptions(a.addListener("hide",this.onHide),t.listen("m:page:unload",null,this.onUnload),t.listen("m:viewport:orientation-change",null,this.onHide),t.listen(v.END,null,this.onWindowTouchEnd),t.listen("click","screenreader-reactions-trigger",this.onScreenReaderTrigger),i.listen(a.getContentRoot(),"touchmove","reaction-item",this.onTouchMove));F.forEach(function(a){return this.addAnchor(a)}.bind(this));E&&this.setNUXTooltip(E);q.hasIEMobileFixes?this.pageSubscriptions.addSubscriptions(t.listen("touchcancel",null,this.onWindowTouchEnd)):this.pageSubscriptions.addSubscriptions(t.listen("touchmove",null,this.onWindowTouchMove))}G.prototype.addAnchor=function(a){"use strict";var b=t.hasSigil(a,"kaios-like-react-trigger");b?this.pageSubscriptions.addSubscriptions(i.listen(a,"click",null,this.onClickTrigger)):this.pageSubscriptions.addSubscriptions(i.listen(a,v.START,null,this.onTouchStart));q.hasIEMobileFixes||this.pageSubscriptions.addSubscriptions(i.listen(a,"touchmove","like-reaction-flyout",this.onTouchMove),i.listen(a,"touchmove","reaction-item",this.onTouchMove))};G.prototype.setupFlyout=function(a,b){"use strict";__p&&__p();A("AT40lEHlW1W1GcOBl4c2kgQjHs0w2XXrcq0xqcVmpsvPM5HZOaApLUCfuEs6a-qW7HzScKadE9YYd3UaaKChGMFl")&&l.play("reactions","openReactionsFlyout");var c=n.get(b);a.setContext(b);this.setSupported();b=this.nuxTooltip;b&&b.hide();b=a.getContentRoot();b=p.bySigil(b,"m-layer-root");b&&(this.isUpdatedDock&&!c.isComment&&(this.applyMultilineFlyout(),j.addClass(b,"_5xt_")),c.isComment&&j.addClass(b,"_31rl"));a.show();b=n.get(a.getContext());b=b.kaiOSReactions;b||this.createUFIOverlay();this.isUpdatedDock||c.isComment?this.showOverlay(this.overlay&&this.overlay.tap):this.showOverlay(this.overlay&&this.overlay.dots);this.flyoutSubscriptions.addSubscriptions(t.listen("click","reaction-item",this.onClick),t.listenCapture("click","like-reaction-flyout",this.onClickCapture),t.listenCapture("click",null,this.onWindowClick));b=n.get(a.getContext());c=b.kaiOSAutoHideReactions;c&&this.flyoutSubscriptions.addSubscriptions(t.listen("scroll",null,this.autoHideOnScroll));q.hasIEMobileFixes||this.flyoutSubscriptions.addSubscriptions(t.listen("touchend","like-reaction-flyout",this.onTouchEnd),t.listen("touchend","reaction-item",this.onTouchEnd))};G.prototype.select=function(a){"use strict";__p&&__p();var b=this.flyout;b.hide();A("AT40lEHlW1W1GcOBl4c2kgQjHs0w2XXrcq0xqcVmpsvPM5HZOaApLUCfuEs6a-qW7HzScKadE9YYd3UaaKChGMFl")&&l.play("reactions","selectReactionFromFlyout");if(!a)return;a=n.get(a);a=a.reaction;b=b.getContext();var c=n.get(b),d=c.feedbackTarget;c=c.isComment;var e=o.get(d).getData();if(e.viewerreaction===a)return;if(c){c=b.getAttribute("data-uri")||b.getAttribute("href");c=s.getURI(c);c.addQueryData("reaction_comment_id",d.split("_")[1]);c.addQueryData("viewer_reaction",a);s.send(d,r.getReactionDataForComment(e,a),c)}else{c=e.actor_for_post;c!==0&&!c&&(c=null);var f=p.bySigil(b,"story-div");s.send(d,r.getReactionData(e,a),x.getURIBuilder().getURI(),(e={},e[g.PARAMETER_ACTOR]=c,e.$1=f?n.get(f).linkdata:null,e.ft_ent_identifier=d,e.reaction_type=a,e.feedback_source=new w(b.getAttribute("data-uri")).getQueryData().feedback_source,e),r.getConfigForBackgroundRetry(d))}};G.prototype.removeActive=function(){"use strict";var a=this.active;if(a){this.active=null;a.removeAttribute("data-active");a=a.parentElement;a&&a.classList.remove("mReactionInAnimation")}};G.prototype.applyMultilineFlyout=function(){"use strict";__p&&__p();var a=this.flyout,b=a.getContext();b=p.bySigil(b,"mufi-inline");a=a.getContentRoot();b=k.scry(b,"div","reactions-bling-bar");if(b.length==0){j.addClass(a,"_5xu1");return}b=b[0].getBoundingClientRect().height;b>C?j.addClass(a,"_5xu0"):b<C?j.addClass(a,"_5xu1"):(j.removeClass(a,"_5xu0"),j.removeClass(a,"_5xu1"))};G.prototype.showOverlay=function(a){"use strict";var b=this.overlay;if(b&&a){j.show(a);for(var c in b){var d=b[c];d!=a&&d!=b.container&&j.hide(d)}}};G.prototype.log=function(a){"use strict";var b=o.get(n.get(this.flyout.getContext()).feedbackTarget).getData(),c=b.ft_ent_identifier;b=b.viewerreaction;var d=this.timing,e=d.touchEndTime,f=d.touchStartTime;d=d.shownTime;if(!e||!f||!d)return;e=e-f;h.log("UserReactionsLoggerConfig",{feedback_id:c,final_reaction:a.finalReaction||b,initial_reaction:b,"interface":"mTouch",long_press_duration:e>0?e:0,time_spent:Date.now()-d,via_scrubbing:a.viaScrubbing})};G.prototype.createUFIOverlay=function(){"use strict";__p&&__p();var a=this.flyout.getContext(),b=n.get(a),c=b.feedbackTarget;b=b.isComment;c=o.get(c).getData().supportedreactions||B;var d=document.createElement("div");d.style.display="none";d.className="_403o";c=Math.round(c.length*1.3);for(var e=0;e<c;++e){var f=document.createElement("div");f.className="_403p";d.appendChild(f).className="_403p"}f=document.createElement("div");f.style.display="none";f.className="_5xu2";f.textContent=z._("Tap to Pick Your Reaction").toString();e=document.createElement("div");e.style.display="none";e.className="_5xu2";e.textContent=z._("Slide Finger Across").toString();c=document.createElement("div");c.style.display="none";c.className="_5xu2";c.textContent=z._("Release to Cancel").toString();var g=document.createElement("div");g.className="_403n";b&&j.addClass(g,"_31ru");g.appendChild(d);g.appendChild(c);(this.isUpdatedDock||b)&&(g.appendChild(f),g.appendChild(e));b=p.bySigil(a,"ufi-inline-actions");b||(b=p.bySigil(a,"ufi-inline-comment-actions"));b?(b.insertBefore(g,b.firstChild),this.overlay={container:g,tap:f,slide:e,release:c,dots:d}):this.overlay=null};G.prototype.removeUFIOverlay=function(){"use strict";var a=this.overlay;if(a){a=a.container;a.parentNode&&a.parentNode.removeChild(a);this.overlay=null}};G.prototype.setSupported=function(){"use strict";var a=n.get(this.flyout.getContext());a=o.get(a.feedbackTarget).getData().supportedreactions||B;var b=this.reactionElements;for(var c=0,d=b.length;c<d;++c){var e=b[c],f=n.get(e);f=f.reaction;j.conditionShow(e,a.indexOf(f)>=0)}};G.prototype.setNUXTooltip=function(a){"use strict";this.nuxTooltip=a};var H;e.exports={init:function(a){H=new G(a)},addAnchor:function(a){if(H){H.addAnchor(a);return}F.push(a)},initNUX:function(a){E=a,H&&H.setNUXTooltip(a)}}}),null);
__d("SaveState",[],(function(a,b,c,d,e,f){a={SAVING:"saving",SAVED:"saved",UNSAVING:"unsaving",UNSAVED:"unsaved"};e.exports=a}),null);
__d("SaveStateHandler",["SaveState"],(function(a,b,c,d,e,f,g){__p&&__p();var h=null;function i(){"use strict";this.$1={},this.$2={}}i.prototype.addListener=function(a,b){"use strict";this.$1[a]||(this.$1[a]=[]),this.$1[a].push(b)};i.prototype.setState=function(a,b){"use strict";a.forEach(function(a){this.$2[a]=b;if(!this.$1[a])return;a=this.$1[a];a.forEach(function(a){try{a.call(window,b)}catch(a){}})},this)};i.prototype.getState=function(a){"use strict";return this.$2[a]};i.$3=function(){"use strict";h||(h=new i());return h};i.listen=function(a,b){"use strict";this.$3().addListener(a,b)};i.getState=function(a){"use strict";return this.$3().getState(a)};i.saving=function(a){"use strict";this.$3().setState(a,g.SAVING)};i.saved=function(a){"use strict";this.$3().setState(a,g.SAVED)};i.unsaving=function(a){"use strict";this.$3().setState(a,g.UNSAVING)};i.unsaved=function(a){"use strict";this.$3().setState(a,g.UNSAVED)};i.isSaveAction=function(a){"use strict";a=this.$3().getState(a);return a==g.UNSAVED||a==g.UNSAVING};i.isInTransition=function(a){"use strict";a=this.$3().getState(a);return a==g.SAVING||a==g.UNSAVING};e.exports=i}),null);
__d("ShareAudience",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=Object.freeze({EVERYONE:"everyone",FRIENDS:"friends",FOF:"fof",SELF:"self",CUSTOM:"custom",PAGE:"page",GROUP:"group",MESSENGER:"messenger",FRIEND_TIMELINE:"friend_timeline",UNKNOWN:"unknown",fromPrivacyString:function(a){switch(a){case null:case undefined:case g.UNKNOWN:return g.UNKNOWN;case"286958161406148":return g.SELF;case"300645083384735":return g.EVERYONE;case"368493386561757":case"275425949243301":return g.FOF;case"123780391104836":case"291667064279714":return g.FRIENDS;default:return g.CUSTOM}}});e.exports=g}),null);
__d("ShareMenuEventShareType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({SHARE_FLOW_STARTED:"share_flow_started",SHARE_OPTION_SELECTED:"share_option_selected",SHARE_CREATED:"share_created",SHARE_ABANDONED:"share_abandoned",SHARE_FAILURE:"share_failure"})}),null);
__d("ShareSignificance",[],(function(a,b,c,d,e,f){"use strict";var g=Object.freeze({SIGNIFICANT:"significant",NOT_SIGNIFICANT:"not_significant",NO_TEXT:"no_text",calculate:function(a){if(!a)return g.NO_TEXT;var b=new Set();(a||"").toLowerCase().split(" ").forEach(function(a){return b.add(a)});return b.size>5?g.SIGNIFICANT:g.NOT_SIGNIFICANT}});e.exports=g}),null);
__d("MFeedShareAnalytics",["ShareAudience","ShareMenuEventShareType","ShareMenuTypedLogger","ShareModeConst","ShareSignificance","Stratcom"],(function(a,b,c,d,e,f,g,h,i,j,k,l){"use strict";__p&&__p();var m="feed_share_action";a={_listeners:[],_initShareMode:null,_currentShareMode:null,_entryPointFromShareMode:function(a){switch(a){case j.FRIEND:return"share_to_friend_timeline";case j.GROUP:return"share_to_group";case j.MESSAGE:return"send_in_message";case j.ONE_CLICK:return"share_now";case j.OWN_POST:case j.SELF_POST:return"write_post";case j.PAGE:case j.SELF_PAGE:return"page";default:return"unknown"}},init:function(){this._cleanupListeners(),this._registerListeners(),this._initShareMode=null,this._currentShareMode=null},_onTearDown:function(){this._currentShareMode&&this.onShareAbandoned()},_registerListeners:function(){this._listeners.push(l.listen("m:sharemode:selected",null,function(a){a=a.getData();a&&a.sharemode&&(this._currentShareMode=a.sharemode)}.bind(this))),this._listeners.push(l.listen("m:page:unload",null,function(){this._onTearDown()}.bind(this)))},_cleanupListeners:function(){this._onTearDown();while(this._listeners.length>0){var a=this._listeners.pop();a&&a.remove&&a.remove()}},onMenuOpened:function(){this._initShareMode=null,this._currentShareMode=null,new i().setName(m).setFbShareType(h.SHARE_FLOW_STARTED).log()},onMenuOptionSelected:function(a){this._initShareMode=a;this._currentShareMode=a;a=this._entryPointFromShareMode(a);new i().setName(m).setFbShareType(h.SHARE_OPTION_SELECTED).setFbEntryPoint(a).log()},_getShareTextArea:function(){var a=document.getElementById("share_msg_input");return a instanceof HTMLTextAreaElement?a:null},_getAudienceFromCurrentState:function(){__p&&__p();var a=document.getElementsByName("privacyx")[1];if(!a||!(a instanceof HTMLInputElement))return g.UNKNOWN;switch(this._currentShareMode){case j.FRIEND:return g.FRIEND_TIMELINE;case j.GROUP:return g.GROUP;case j.MESSAGE:return g.MESSENGER;case j.PAGE:case j.SELF_PAGE:return g.PAGE;case j.SELF_POST:case j.OWN_POST:return g.fromPrivacyString(a.value);default:return j.UNKNOWN}},onShareAbandoned:function(){__p&&__p();var a=null,b=null,c=null;if(this._initShareMode){a=this._entryPointFromShareMode(this._initShareMode);var d=this._getShareTextArea();d&&(b=k.calculate(d.value));c=this._getAudienceFromCurrentState()}new i().setName(m).setFbShareType(h.SHARE_ABANDONED).setFbEntryPoint(a).setFbAudience(c).setFbSignificance(b).log();this._initShareMode=null;this._currentShareMode=null}};e.exports=a}),null);
__d("MShareAngoraAttachment",["Stratcom"],(function(a,b,c,d,e,f,g){__p&&__p();var h=!1;a=function(a){if(h)return;h=!0;window.addEventListener("error",function(event){if(event.target.nodeName=="IMG"){for(var a=event.target;a!=document.body&&!g.hasSigil(a,"shareAngoraAttachmentMedia");a=a.parentNode);a!=document.body&&(a.style.display="none")}},!0)};f.registerDeadImageListener=a}),null);
__d("MExposeMore",["CSS","DOM","Stratcom"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=[];function k(){while(j.length)j.pop().remove()}var l="expose";i.listen("click",[l,"more"],function(event){var a=event.getNode(l);g.conditionClass(a,"text_exposed",!0);event.prevent()});a={showMessageSuffixOnClick:function(a,b){if(b.children.length!==0){j.length||j.push(i.listen("m:page:unload",null,k));a=h.scry(a,"*","more")[0];a&&j.push(h.listen(a,"click",null,function(event){g.show(b),event.prevent()}))}}};e.exports=a}),null);
__d("MTaggingCounterEvent",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({GEO_PANEL_LOAD:"geo_panel_load",GEO_PANEL_ACCEPT:"geo_panel_accept",GEO_PANEL_DENY:"geo_panel_deny",GEO_PANEL_FAIL:"geo_panel_fail",GEO_PANEL_SUCCESS:"geo_panel_success",GEO_POPUP_LOAD:"geo_popup_load",GEO_POPUP_FAIL:"geo_popup_fail",GEO_POPUP_SUCCESS:"geo_popup_success"})}),null);
__d("ViewerLocationSource",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({AURA:"aura",GET_PARAM:"get_param",INTERN_TOOL:"intern_tool",LAST_LOCATION:"last_location",LOGIN:"login",PLACEBOOK:"placebook",PLACES_FQL:"places_fql",TEST:"test",MSITE_LOCATION_PROMPT:"msite_location_prompt",MSITE_PERSISTENT_LOCATION:"msite_persistent_location",MSITE_PLACES:"msite_places",MSITE_UNKNOWN:"msite_unknown",CORE_GQL_MUTATION:"core_graphql_mutation",MULTIFEED_PARAM:"multifeed_param",LOCATION_PROFILE_FRAMES:"location_profile_frames",PR_LOCATION_EFFECTS:"pr_location_effects",MESSENGER_LIVE_LOCATION:"messenger_live_location",VISIT_STATE:"visit_state",WIFI_FINGERPRINT:"wifi_fingerprint",INFERRED_WIFI:"inferred_wifi",INSTA_GEO_IMPLICIT:"insta_geo_implicit",AURA_TOO_FAST:"aura_too_fast",AURA_TOO_OLD:"aura_old",AURA_FAILED_MGI:"aura_failed_mgi",SEARCH:"search"})}),null);
__d("XPlacesUpdateLocationController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/places/location_update/",{json_location:{type:"String"},source:{type:"Enum",defaultValue:"msite_unknown",enumType:1}})}),null);
__d("MLocationPrompt",["DOM","MRequest","MTaggingCounter","MTaggingCounterEvent","Stratcom","ViewerLocationSource","WebStorage","XPlacesUpdateLocationController"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){__p&&__p();var o=["latitude","longitude","accuracy","altitude","altitudeAccuracy","heading","speed"],p={enableHighAccuracy:!0,timeout:6e4,maximumAge:3e5},q=6e4;r.init=function(a,b,c,d){"use strict";return new r(a,b,c,d)};r.getCoords=function(){"use strict";return r.coords};r.isLocationAvailable=function(){"use strict";return r.locationAvailable};function r(a,b,c,d){"use strict";this.lastUpdateTime=0;this.container=a;this.question=b;this.loading=c;this.errored=d;a=m.getLocalStorage();a&&a.getItem(r.GEOLOCATION_KEY)==="1"?this.$1():(r.locationAvailable=!1,g.show(this.question),g.hide(this.loading),g.hide(this.errored),g.show(this.container),k.invoke("m:jewel-set:notifications-jewel:refresh-flyout"),i.logEvent(j.GEO_PANEL_LOAD));this.listeners=[k.listen("click","accept-location",this.$2.bind(this)),k.listen("click","deny-location",this.$3.bind(this)),k.listen("m:page:unload",null,this.$4.bind(this))]}r.prototype.clearWatch=function(){"use strict";if(!this.watchID)return;navigator.geolocation.clearWatch(this.watchID);this.watchID=null};r.prototype.$2=function(){"use strict";i.logEvent(j.GEO_PANEL_ACCEPT),this.$1(!0)};r.prototype.$1=function(a){"use strict";__p&&__p();r.locationAvailable=!0;var b=m.getLocalStorage();b&&b.setItem(r.GEOLOCATION_KEY,"1");g.show(this.container);g.hide(this.question);g.show(this.loading);g.hide(this.errored);k.invoke("m:jewel-set:notifications-jewel:refresh-flyout");var c=setTimeout(this.$5,p.timeout);this.watchID=navigator.geolocation.watchPosition(function(b){a&&i.logEvent(j.GEO_PANEL_SUCCESS),clearTimeout(c),this.$6(b)}.bind(this),function(b){a&&i.logEvent(j.GEO_PANEL_FAIL),clearTimeout(c),this.$5(b)}.bind(this),p);k.invoke(r.STRATCOM_ACCEPT)};r.prototype.$3=function(){"use strict";r.locationAvailable=!1,i.logEvent(j.GEO_PANEL_DENY),g.hide(this.container),k.invoke("m:jewel-set:notifications-jewel:refresh-flyout"),k.invoke(r.STRATCOM_DENY)};r.prototype.$6=function(a){"use strict";__p&&__p();r.locationAvailable=!0;if(a){var b={},c;for(var d=0;d<o.length;d++)c=o[d],a.coords[c]&&(b[c]=a.coords[c]);a.timestamp&&(b.timestamp=a.timestamp/1e3);this.$7(JSON.stringify(b));g.hide(this.container);r.coords=b;k.invoke("m:jewel-set:notifications-jewel:refresh-flyout");k.invoke(r.STRATCOM_UPDATE,null,{position:a})}};r.prototype.$5=function(a){"use strict";__p&&__p();r.locationAvailable=!1;this.clearWatch();var b=m.getLocalStorage();b&&b.setItem(r.GEOLOCATION_KEY,"0");g.show(this.container);g.hide(this.question);g.hide(this.loading);g.show(this.errored);k.invoke("m:jewel-set:notifications-jewel:refresh-flyout");k.invoke(r.STRATCOM_FAIL,null,{error:a});i.logEvent(j.GEO_PANEL_FAIL)};r.prototype.$7=function(a){"use strict";var b=Date.now();if(b-this.lastUpdateTime>q){this.lastUpdateTime=b;b=n.getURIBuilder().setString("json_location",a).setEnum("source",l.MSITE_LOCATION_PROMPT).getURI();new h(b).setMethod("POST").send()}};r.prototype.$4=function(){"use strict";if(!this.listeners)return;for(var a=0;a<this.listeners.length;a++)this.listeners[a].remove();this.listeners=[]};Object.assign(r,{STRATCOM_ACCEPT:"MLocationPrompt/accept",STRATCOM_DENY:"MLocationPrompt/deny",STRATCOM_UPDATE:"MLocationPrompt/update",STRATCOM_FAIL:"MLocationPrompt/fail",GEOLOCATION_KEY:"authorizeGeolocation",locationAvailable:undefined});e.exports=r}),null);
__d("MComposerTypes",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ACTIVITY:"activity",CHECKIN:"checkin",EDIT:"edit",GROUP_SELL:"group_sell",PHOTO:"photo",RECOMMENDATION:"recommendation",SHARE:"share",STATUS:"status"})}),null);
__d("MCompositionConfigFields",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({OPENED_AT:"opened_at",SESSION_ID:"csid",ACTION:"action",COMPOSER_TITLE:"composertitle",COMPOSER_TYPE:"composer_type",INPUT_NAME:"inputname",PLACEHOLDER:"placeholder",BUTTON_TEXT_SUBMIT:"button_text_submit",TARGET_ID:"targetid",CANCEL_CONFIRMATION_MESSAGE:"cancel_confirm_message",POST_ID:"postid",DISABLE_MENTIONS:"disable_mentions",DISABLE_OG_TAG:"disable_og_tags",DISABLE_OG_TAG_PREVIEW:"disable_og_tags_preview",DISABLE_PEOPLE_TAGS:"disable_people_tags",DISABLE_PHOTOS:"disable_photos",DISABLE_LINK:"disable_link",DISABLE_ALBUM:"disable_album",DISABLE_ALBUM_INFO:"disable_album_info",DISABLE_PLACE_TAG:"disable_place_tag",DISABLE_PRIVACY:"disable_privacy",DISABLE_VOICE_SELECTOR:"disable_voice_selector",DISABLE_SLIDESHOW:"disable_slideshow",ACTOR_ID:"actor_id",DISABLE_SUBMIT_REQUEST:"disable_submit_request",FORCE_ASYNC:"forceasync",SYNC_SUBMIT:"syncsubmit",MAX_PHOTOS_ALLOWED:"max_photos_allowed",PIN_PLACE:"pinplace",PIN_PRIVACY:"pinprivacy",SHOW_POST_TYPE_SELECTOR:"showposttypeselector",CONTEXTUAL_MESSAGE:"contextualmessage",SKIP_FOCUS:"skip_focus",WITH_LINK_PROMPT:"withlinkprompt",LOGGING_SURFACE:"logging_surface"})}),null);
__d("MCompositionShareFields",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ID:"ID",APP_ID:"APP_ID",INTERNAL_EXTRA:"INTERNAL_EXTRA",FEEDBACK_SOURCE:"FEEDBACK_SOURCE",DISABLED_LINKS:"DISABLED_LINKS",SHARE_URI:"SHARE_URI",LINK_NO_CHANGE:"LINK_NO_CHANGE"})}),null);
__d("MShareFlyout",["DOM","MComposerEntry","MComposerTypes","MComposition","MCompositionConfigFields","MCompositionShareFields","MCompositionStoreID","MFeedShareAnalytics","MLegacyDataStore","MModalDialog","MParent","MRequest","MViewport","NTAnnounceSubscription","ShareModeConst","Stratcom","URI","Vector","cx","fbt","ge","promiseFinally","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g,h,i,aa,j,k,l,m,n,o,p,ba,q,ca,r,s,t,u,da,v,ea,fa,w){"use strict";__p&&__p();var x="mufi-inline",y="share-one-click-button",z="share-post-one-click-button",ga="share-with-message-button",ha="share-in-a-private-message-button",A="oneClickShareResult",B=6e3,ia="share-to-page-button",ja="page_share_content_action",ka="share-to-group-button",la="/a/sharer.php",C="/sharer-dialog.php",D,E,F,G,H,I,J,K={},L={},M=[],N,O,P,Q,R,S;function a(a,b,c,d,e){__p&&__p();if(D)return;Z();N=b;D=a;E=a.getRoot();O=c;b=d||{};R=b.bluebarNoOverlapBuffer;o.init();m.init();qa(e)}function b(a){return}function T(a){m.onMenuOptionSelected(a),S=!0}function U(a){o.isOpen()?o.load(a):o.open(a,ma)}function ma(a){!!a&&a.canceled&&m.onShareAbandoned()}function V(){var a=new ba(la);a.setMethod("POST");a.addData({m:r.ONE_CLICK,privacyx:N,sid:G,shareID:G,fs:H,fr:I,internal_preview_image_id:F,should_share_post:Q,direct:!0,_ft_:J});a.send();T(r.ONE_CLICK);D.hide()}function na(){__p&&__p();if(O){var a={};a[k.ID]=G;a[k.FEEDBACK_SOURCE]=H;a[k.FEEDBACK_REFERRER]=I;var b={};b[j.COMPOSER_TYPE]=i.SHARE;b[j.COMPOSER_TITLE]=v._("Share");b[j.CONTEXTUAL_MESSAGE]=v._("Share on your timeline");b[j.PLACEHOLDER]=v._("Write something...");b[j.DISABLE_PHOTOS]=!0;var c=q.getScrollTop();fa(h.invoke(new aa().setStoreData(l.CONFIG,b).setStoreData(l.SHARE,a)),function(){return q.scrollTo(0,c)})}else U(new t(C).setQueryData({fs:H,fr:I,sid:G,_ft_:J,internal_preview_image_id:F}).toString()),T(r.SELF_POST),D.hide()}function W(a){U(new t(C).setQueryData({fs:H,fr:I,m:a,sid:G,_ft_:J,internal_preview_image_id:F,selected_page_id:P}).toString()),T(a),D.hide()}function oa(){U(new t(C).setQueryData({fs:H,fr:I,m:r.MESSAGE,sid:G,u:window.location.href,internal_preview_image_id:F}).toString()),T(r.MESSAGE),D.hide()}function X(a){a&&g.hide(a)}function Y(a){a&&g.show(a)}function pa(a,b){b=b&&b.is_comment_share;var c=g.scry(a,"a",z)[0];a=g.scry(a,"a",y)[0];b&&!K[G]?(X(c),X(a)):Q?(Y(c),X(a)):(Y(a),X(c))}function qa(a){__p&&__p();M=[D.addListener("beforeshow",function(){__p&&__p();if(R!=null){var b=q.getScrollTop();b<R&&ea("header")?D.setAutoflipTopOffset(R-b):D.setAutoflipTopOffset(0)}b=D.getContext();var c=n.get(b);Q=c.reshare_post;G=c&&c.share_id;H=c&&c.feedback_source;I=c&&c.feedback_referrer;F=c&&c.internal_preview_image_id;var d=p.bySigil(b,"story-div");a?J=a:J=d?n.get(d).linkdata:null;G&&(K[G]=ra(b));m.onMenuOpened();S=!1;pa(E,c)}),D.addListener("hide",function(){S||m.onShareAbandoned()}),s.listen("click",y,V),s.listen("click",z,V),s.listen("click",ga,na),s.listen("click",ha,oa),s.listen("click",ia,function(){W("page")}),s.listen("click",ka,function(){W("group")}),s.listen("m:page:unload",null,Z),ca.subscribe(ja,function(a){a=JSON.parse(a),G=a.content_id,P=a.page_id,W("page")})]}function Z(){D=null;for(var a in L)clearTimeout(L[a]);L={};while(M.length){var b=M.pop();b&&b.remove&&b.remove()}}function ra(a){if(!a||a===document||a instanceof DocumentFragment)return null;return s.hasSigil(a,x)?a:p.bySigil(a,x)}function $(a,b){var c=g.scry(a,"div",A);c[0]&&g.remove(c[0]);c=g.create("div",{className:"_4_m7"},b);s.addSigil(c,A);g.appendContent(a,c);return c}function c(b,a){__p&&__p();var c=K[a];delete K[a];if(!c)return;var d=$(c,b);b=u.getPos(c);c=u.getDim(c).y;var e=q.getScrollTop(),f=q.getScrollHeight();(b.y<e||b.y+c>e+f)&&q.scrollTo(b.x,b.y-250);L[a]=w(function(){delete L[a],g.remove(d)},B)}function d(b,a){var c=K[a];delete K[a];if(!c)return;if(u.getPos(c).y>=q.getScrollTop()){var d=$(c,b);L[a]=w(function(){delete L[a],u.getPos(c).y>=q.getScrollTop()&&g.remove(d)},B)}}f.init=a;f.initMisinfo=b;f.onSuccess=d;f.onFailure=c}),null);
__d("MMoreItemAutomatic",["MLocationPrompt","MPageCache","MPageControllerPath","MRequest","MRequestGateway","MRequestTypes","MResponseData","MStopNGo","MURI","MViewport","Stratcom","Vector","throttle"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){__p&&__p();function t(a){"use strict";__p&&__p();this.$27=function(){this.$4?this.$28():!this.$5&&!this.$17&&this.$29()}.bind(this);this.$3=a.href;this.$21=a.sendGeolocation;this.$15=a.proximity_pages||7;this.$8=a.logger_id;this.$9=a.logger_name;this.$7=a.load_first_immediately;this.$18=a.retryOnError;this.$1=a.addToCache;this.$2=a.alwaysProcess;this.$20=a.scrollPrefetchThrottleFreq||0;this.$4=a.insertWhileScrolling;this.$17=!1;this.$16=!0;this.$12=0;this.$11=!1;this.$5=!1;this.$23=0;this.$6=null;this.$10=null;this.$13=!1;this.$14=null;var b=document.getElementById(a.id);b?(this.$23=r.getPos(b).y,this.$10=b,this.$13=a.persist_on_reload,this.$24()):this.uninstall()}t.prototype.isElementVisible=function(){"use strict";__p&&__p();if(!this.$25())return!1;var a=this.$10;if(a&&"getBoundingClientRect"in a){var b=a.getBoundingClientRect(),c=b.width/10,d=b.height/10,e=b.left,f=b.right,g=b.top;b=b.bottom;var h=!1;while(!h&&e<=f&&g<=b){e=Math.round(e+c);g=Math.round(g+d);var i=document.elementFromPoint(e,g);h=a.contains(i)}i=h}else{c=r.getPos(a).y;d=c+r.getDim(a).y;e=p.getScrollTop();f=e+p.getUseableHeight();i=c<=f&&d>=e}return i};t.prototype.$26=function(){"use strict";var a=this.$10;a&&(this.$23-p.getScrollTop()<0&&(q.invoke("m:more_item_automatic:items_visible",this.$8),this.uninstall()))};t.prototype.$28=function(){"use strict";!this.$5?(this.$16=!0,this.isElementVisible()&&q.invoke("m:more_item_automatic:spinner_visible",this.$8,this.$9),!this.$17?this.$29():this.$30()):this.$26()};t.prototype.$31=function(){"use strict";this.$5||(this.$16=!1)};t.prototype.$32=function(){"use strict";!this.$17&&(this.$7||this.isElementVisible())&&(this.$33(),this.$7=!1)};t.prototype.$24=function(){"use strict";!this.$17&&(this.$7||this.isElementVisible())&&(this.$33(),this.$7=!1),this.$6=[],this.$20>0&&this.$6.push(q.listen(["m:page:render:complete","scroll"],null,s.withBlocking(this.$27,this.$20,this))),this.$4||this.$6.push(n.listen("go",this.$28.bind(this)),n.listen("stop",this.$31.bind(this))),this.$6.push(q.listen("m:ajax:complete",null,this.$32.bind(this)))};t.prototype.$34=function(){"use strict";var a=this.$10;if(a){var b=document;b=b.documentElement;if(b)return b.contains(a)}return!1};t.prototype.uninstall=function(){"use strict";while(this.$6&&this.$6.length)this.$6.pop().remove();this.$17=!1;this.$14=null;this.$10=null;this.$13=!1;clearTimeout(this.$19);clearTimeout(this.$22)};t.prototype.withinProximity=function(){"use strict";var a=this.$10;return!!a&&r.getPos(a).y-p.getScrollTop()<p.getUseableHeight()*(1+this.$15)};t.prototype.$30=function(){"use strict";var a=this.$14;a&&(this.$34()&&(a.process(),this.$1&&h.addCachedIUIResponse(i.getRequestPath(),a)),q.invoke("m:more_item_automatic:items_loaded",this.$8,this.$9),this.$5=!0)};t.prototype.$25=function(){"use strict";var a=this.$10;return!a||!a.offsetHeight?!1:!0};t.prototype.$29=function(){"use strict";(this.isElementVisible()||this.$25()&&p.getScrollTop()>100&&this.withinProximity())&&this.$33()};t.prototype.$33=function(){"use strict";__p&&__p();var a=g.getCoords();this.$21&&a&&(this.$3=new o(this.$3).addQueryData("lat",a.latitude).addQueryData("long",a.longitude).toString());a=new j(new o(this.$3).toString());this.$2?a.setType(l.INDEPENDENT):a.setType(l.DEPENDENT);a.setAutoProcess(!1);var b=[],c=!1,d=function(){!c&&b.length&&(c=!0,b.shift().process())};this.$18&&(a.setTimeout(k.ERROR_TIMEOUT),a.listen("error",function(a,b){this.$19=setTimeout(function(){navigator.onLine&&(b.reset(),b.addData({is_retry:1}),b.sendAfterProcessing())},t.TRY_AGAIN_DELAY)}));a.listen("response",function(a){__p&&__p();a=new m(a);a.listen("complete",function(){c=!1,d()});if(a.isPagelet()){b.push(a);d();return}c=!0;this.$14=a;this.$16&&this.$30()}.bind(this));a.send();this.$17=!0};t.prototype.getPersistOnReload=function(){"use strict";return this.$13};t.TRY_AGAIN_DELAY=1500;e.exports=t}),null);
__d("InitMMoreItemAutomatic",["MMoreItemAutomatic","Stratcom"],(function(a,b,c,d,e,f,g,h){var i;a=function(a){i||(i={},h.listen("m:page:loading",null,function(a){for(var b in i)i[b].getPersistOnReload()||(i[b].uninstall(),delete i[b])}));var b=a.id;i[b]&&i[b].uninstall();i[b]=new g(a)};f.main=a}),null);
__d("MMoreItemAutomaticLogger",["MarauderLogger","Stratcom"],(function(a,b,c,d,e,f,g,h){__p&&__p();function i(a,b){this._loggerName=a,this._loggerID=b,this._listeners=[h.listen("m:page:unload",null,this._pageUnload.bind(this)),h.listen("m:more_item_automatic:spinner_visible",null,this._onSpinnerVisible.bind(this)),h.listen("m:more_item_automatic:items_loaded",null,this._onItemsLoaded.bind(this)),h.listen("m:more_item_automatic:items_visible",null,this._onItemsVisible.bind(this))]}Object.assign(i.prototype,{_loggerName:"",_loggerID:"",_spinnerUnloaded:!1,_spinnerVisible:!1,_spinnerStartTime:null,_cleanup:function(){while(this._listeners&&this._listeners.length)this._listeners.pop().remove()},_pageUnload:function(){this._spinnerVisible&&(this._spinnerUnloaded=!0,this._logLoadingSpinnerTime(this._getTimeSpan(),!0)),this._cleanup()},_onSpinnerVisible:function(event){event.getPath()[0]===this._loggerID&&!this._spinnerVisible&&(this._spinnerVisible=!0,this._spinnerStartTime=Date.now())},_onItemsLoaded:function(event){event.getPath()[0]===this._loggerID&&!this._spinnerUnloaded&&(this._logLoadingSpinnerTime(this._getTimeSpan(),!1),this._spinnerVisible=!1,this._spinnerStartTime=null)},_onItemsVisible:function(event){event.getPath()[0]===this._loggerID&&this._logItemsVisible()},_getTimeSpan:function(){return this._spinnerVisible?Date.now()-this._spinnerStartTime:0},_logLoadingSpinnerTime:function(a,b){g.log("m_more_items_automatic_spinner_visible_time",undefined,{name:this._loggerName,id:this._loggerID,visible_time:a,spinner_unloaded:b})},_logItemsVisible:function(){g.log("m_more_items_automatic_fetched_items_visible",undefined,{name:this._loggerName,id:this._loggerID}),this._cleanup()}});i.init=function(a,b){new i(a,b)};e.exports=i}),null);
__d("MLtgTranslationBootloader",["Bootloader","Stratcom"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();function i(a){g.loadModules(["MLtgTranslation"],function(b){b.seeTranslatePostButtonClick(a)},"MLtgTranslationBootloader")}function j(a){g.loadModules(["MLtgTranslation"],function(b){b.seeTranslatePostClick(a)},"MLtgTranslationBootloader")}function k(a){g.loadModules(["MLtgTranslation"],function(b){b.seeTranslateCommentClick(a)},"MLtgTranslationBootloader")}var l=!1;a={listenOnSeeTranslate:function(){if(l)return;h.listen("click","m-see-translate-button",i);h.listen("click","m-see-translate-link",j);h.listen("click","m-see-translate-link-comment",k);l=!0}};e.exports=a}),null);
__d("MLayerDestroyOnHide",[],(function(a,b,c,d,e,f){__p&&__p();function a(a){"use strict";this.$1=a,this.$2}a.prototype.enable=function(){"use strict";this.$2=this.$1.addListener("hide",this.$1.destroy.bind(this.$1))};a.prototype.disable=function(){"use strict";this.$1=null,this.$2.remove(),this.$2=null};e.exports=a}),null);
__d("MLayerHideOnTouch",["CancelableEventListener","TouchEventType"],(function(a,b,c,d,e,f,g,h){__p&&__p();function a(a){"use strict";this.$1=null,this.$2=a}a.prototype.enable=function(){"use strict";this.$1=[this.$2.addListener("show",this.$3.bind(this)),this.$2.addListener("hide",this.$4.bind(this))],this.$2.isShown()&&this.$3()};a.prototype.disable=function(){"use strict";this.$4();while(this.$1.length)this.$1.pop().remove();this.$1=null};a.prototype.$4=function(){"use strict";this.$5&&this.$5.remove(),this.$5=null};a.prototype.$3=function(){"use strict";this.$5=g.listen(document.body,h.START,null,function(event){this.$2.getContentRoot().contains(event.getTarget())||(this.$2.hide(),event.prevent())}.bind(this))};e.exports=a}),null);
__d("MInputFocus",["DOM","MViewport","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g,h,i){a={scrollTo:function(a,b){i(function(){g.hide(a),h.scrollTo(0,b),g.show(a),a.setSelectionRange(a.selectionEnd,a.selectionEnd)},0)}};e.exports=a}),null);
__d("intlSummarizeNumber",["FbtNumberType","IntlCompactDecimalNumberFormatConfig","IntlVariations","intlNumUtils"],(function(a,b,c,d,e,f,g,h,i,j){__p&&__p();var k=3,l=14,m={ROUND:"ROUND",TRUNCATE:"TRUNCATE"},n={SHORT:"SHORT",LONG:"LONG"};function a(a,b,c,d){__p&&__p();c===void 0&&(c=n.SHORT);d===void 0&&(d=m.ROUND);c=h[c==n.SHORT?"short_patterns":"long_patterns"];var e=a===0?0:Math.floor(Math.log10(Math.abs(a)));e>l&&(e=l);var f=o(a,e,b,d,c),p=f[0],q=f[1];f=f[2];if(f){e+=1;f=o(a,e,b,d,c);p=f[0];q=f[1];f[2]}d=g.getNumberVariationType(p)||i.NUMBER_OTHER;f=e.toString();f=(c=c)!=null?(c=c[f])!=null?c[d.toString()]:c:c;if(!f||e<k||f.positive_prefix_pattern===""&&f.positive_suffix_pattern===""){d=b===undefined?0:b;return j.formatNumberWithThousandDelimiters(a,d)}return f&&f.min_integer_digits===0&&p===1?f.positive_prefix_pattern+f.positive_suffix_pattern:(f&&f.positive_prefix_pattern||"")+j.formatNumberWithThousandDelimiters(p,q)+(f&&f.positive_suffix_pattern||"")}function o(a,b,c,d,e){__p&&__p();var f=b.toString();f=(e=e)!=null?(e=e[f])!=null?e[i.NUMBER_OTHER.toString()]:e:e;e=f&&f.min_integer_digits||b+1;var g=b-e+1;g=Math.abs(a)/Math.pow(10,g);var h=c!=null;c=h?c:f&&f.min_fraction_digits;c==null&&(c=b>2?1:0);f=d==m.TRUNCATE?j.truncateLongNumber(g.toString(),c):g.toFixed(c);d=parseFloat(f)*(a<0?-1:1);return[d,d%1===0&&!h?0:c,f.length>e+(c>0?c+1:0)+(g>=0?0:1)&&b<l]}e.exports=a}),null);
__d("MUFI",["BanzaiLogger","ClientIDs","MLiveData","Stratcom","UFICommentLikeSubscription","UFICommentSimpleSubscription","UFICommentSubscription","UFILikeSubscription","UFIReactionsUtils","URI","destroyOnUnload","intlSummarizeNumber"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){__p&&__p();var s="m_live_ufi",t,u=[],v=function(event){var a=event.getData();a&&G(a,!0)},w=function(a,b){g.log("LiveWWWFeedbackLoggerConfig",{event:"receive_payload",is_m_site:!0,mechanism:"graphql_subscriptions",time_since_sub:b,update_type:a})},x=function(a,b){var c=k.subscribe(a,function(c){B(a,c,Date.now()-b)});u.push(c)},y=function(a,b){var c=n.subscribe(a,function(c){C(a,c,Date.now()-b)});u.push(c)},z=function(a,b){var c=m.subscribe(a,function(c){D(a,c,Date.now()-b)});u.push(c)},A=function(a,b){var c=l.subscribe(a,function(c){E(a,c,Date.now()-b)});u.push(c)},B=function(a,b,c){w("comment_like",c);a=b&&b.comment_like_subscribe&&b.comment_like_subscribe.feedback;if(!a)return;G({action_data:{action_type:"m-action-like-comment",client_id:b.comment_like_subscribe.client_mutation_id},feedback_data:{ft_ent_identifier:a.legacy_comment_token,has_viewer_liked:a.does_viewer_like,like_count:a.likers?a.likers.count:0,request_id:null}})},C=function(a,b,c){w("like",c);c=b&&b.feedback_like_subscribe&&b.feedback_like_subscribe.feedback;if(!c)return;var d=c.viewer_feedback_reaction_info?c.viewer_feedback_reaction_info.key:0,e=c.viewer_likes_count&&c.viewer_likes_count.text,f=c.viewer_does_not_like_count&&c.viewer_does_not_like_count.text,g=c.viewer_likes_sentence,h=c.viewer_does_not_like_sentence,i=c.viewer_likes_reaction_sentence,j=c.viewer_does_not_like_reaction_sentence,k=o.getReactionCountMapFromSummary(c.reactions_summary),l,m,n={};c.does_viewer_like?(m=[g,h],l=[e,f],n.current=i,n.alternate=j):(m=[h,g],l=[f,e],n.current=j,n.alternate=i);G({action_data:{action_type:"m-action-like",client_id:b.feedback_like_subscribe.client_mutation_id},feedback_data:{ft_ent_identifier:a,has_viewer_liked:c.does_viewer_like,like_count:c.likers?c.likers.count:0,like_fallback:!0,like_sentences:m,like_friend_sentences:l,like_counts:l,request_id:null,viewerreaction:d,reactioncount:c.reactors?c.reactors.count:0,reactionsentences:n,reactioncountmap:k}})},D=function(a,b,c){__p&&__p();w("comment",c);c=b&&b.comment_create_subscribe&&b.comment_create_subscribe.feedback;var d=b&&b.comment_create_subscribe&&b.comment_create_subscribe.comment;if(!c||!d)return;var e=d.author,f=b.comment_create_subscribe.viewer;if(!e||!f)return;f=f.account_user?f.account_user.id:null;f={id:e.id,is_friend:e.is_viewer_friend,is_viewer:!!(f&&e.id===f),name:e.name,short_name:e.short_name,profile_pic:e.prof_pic&&e.prof_pic.uri,profile_pic_2x:e.prof_pic_2x&&e.prof_pic_2x.uri,uri:e.url};e=null;if(d.attachments.length){var g=d.attachments[0],h=g.style_list;if(h&&h.length&&h[0]=="sticker"){var i=g.target;e={metadata:{source_uri:i.img.uri,source_uri_2x:i.img_2x.uri,width:i.img.width,height:i.img.height,frameCount:i.frame_count,frameRate:i.frame_rate,framesPerCol:i.frames_per_column,framesPerRow:i.frames_per_row,sprite_uri:i.sprite_img&&i.sprite_img.uri,sprite_uri_2x:i.sprite_img_2x&&i.sprite_img_2x.uri},type:"sticker"}}else if(h&&h.length&&h[0]=="photo"){i=g.target;e={metadata:{source_uri:i.photo_img&&i.photo_img.uri,width:i.photo_img.width,height:i.photo_img.height,href:i.url},type:"photo"}}else h&&h.length&&h[0]=="share"&&(e={type:"share",metadata:{}})}g=d.m_edit_uri?new p(d.m_edit_uri).removeQueryData("redirect").toString():null;i=null;d.m_inline_reply_data&&(i={composer_id:d.m_inline_reply_data.composer_id,placeholder_id:d.m_inline_reply_data.placeholder_id,load_composer_uri:d.m_inline_reply_data.load_uri_raw,logging_target_fbid:d.m_inline_reply_data.logging_id});h={};if(d.feedback.reactions_summary){var j=d.feedback;h.can_react=j.can_viewer_react;h.reactioncount=j.reactors.count;h.reactioncountmap=o.getReactionCountMapFromSummary(j.reactions_summary);h.reactioncountreduced=j.reaction_count_reduced?j.reaction_count_reduced:j.reactors.count;h.viewerreaction=j.viewer_feedback_reaction_info?j.viewer_feedback_reaction_info.key:0}j=c.comments;var k=c.comment_count_reduced;c=c.top_level_comments;j=j&&j.count;var l=c.count;c=c.display_count;j!=null&&(l=j,k!=null?c=k:c=r(j));G({action_data:babelHelpers["extends"]({action_type:"m-action-add-comment",author:f,attachment:e,body:d.body,can_edit:d.can_viewer_edit,can_like:d.feedback.can_viewer_like,can_remove:d.can_viewer_delete,can_reply:d.feedback.can_viewer_comment,can_report:d.can_viewer_report,can_share:d.can_viewer_share,client_id:b.comment_create_subscribe.client_mutation_id,comment_fbid:d.legacy_fbid,comment_id:d.legacy_token,ft_ent_identifier:a,has_viewer_liked:d.feedback.does_viewer_like,is_featured:d.is_featured,is_hidden:d.is_hidden_by_viewer||d.spam_display_mode==="spam",is_reply:!!d.parent_comment,is_translatable:d.translation_available_for_viewer,like_count:d.feedback.likers.count,timestamp:d.created_time,like_uri:d.m_like_uri,replies_uri:d.m_replies_uri,report_uri:d.m_report_uri,delete_uri:d.m_delete_uri,edit_uri:g,hide_uri:d.m_hide_uri,inline_reply_data:i},h),feedback_data:{ft_ent_identifier:a,comment_count:l,reduced_comment_count:c,request_id:null}})},E=function(a,b,c){__p&&__p();w("comment",c);c=b&&b.comment_create_subscribe&&b.comment_create_subscribe.comment;if(!c||!a)return;var d=c.legacy_token;b=b.comment_create_subscribe.client_mutation_id;b=b&&h.isExistingClientID(b);if(b)return;b=!!c.comment_parent;if(b)return;c=Object.keys(i.get(d).getData()).length;if(c!==0)return;j.invoke("m:ufi:live-comments:new-comment",null,{commentToken:d,feedbackTargetID:a})},F=function(){for(var a=0;a<u.length;a++){var b=u[a];b&&b.unsubscribe()}u=[]};function G(a,b){__p&&__p();var c=a.feedback_data,d=c&&c.ft_ent_identifier;if(d){a=a.action_data;if(a){var e=a.action_type,f=a.client_id&&h.isExistingClientID(a.client_id);if(b){b=null;e==="m-action-add-comment"?b="comment":e==="m-action-like-comment"?b="comment_like":(e==="m-action-like"||e==="m-action-reaction")&&(b="like");b&&g.log("LiveWWWFeedbackLoggerConfig",{event:"receive_payload",is_m_site:!0,mechanism:"livesend",originated_locally:f,update_type:b})}if(f)return;delete a.client_id;if(e==="m-action-add-comment"&&!a.is_reply){b=Object.keys(i.get(a.comment_id).getData()).length;if(b!==0)return;f=i.get(d).getData().comments||[];f.push(a.comment_id);c.comments=f;i.set(a.comment_id,a)}}i.update(d,c)}}function a(a,b){if(!b.gqls)t||(t=j.listen(s,null,v));else{var c=Date.now();b.likes&&y(a,c);b.comments&&(b.simple_comments?A(a,c):z(a,c));b.comment_likes&&x(a,c);q(F)}}e.exports={addAction:G,init:a}}),null);
__d("MUFIComposerFocus",["DOM","MLegacyDataStore","MParent","Parent","Stratcom"],(function(a,b,c,d,e,f,g,h,i,j,k){"use strict";__p&&__p();var l="mufi-composer-focus",m;function n(a){var b=a.parentNode,c=[];while(b)c.unshift(a),a=b,b=a.parentNode;return c}function o(a,b){var c=Math.min(a.length,b.length)-1;for(var c=c;c>=0;c--)if(a[c]===b[c])return c;return-1}function p(a){__p&&__p();if(!a)return null;var b=i.bySigil(a,"story-div")||i.bySigil(a,"snowflake-root")||i.bySigil(a,"notes-root");if(!b)return null;b=g.scry(b,"*","mufi-composer").filter(function(a){return!i.bySigil(a,"m-inline-reply-composer")});if(b.length===1)return b[0];var c=n(a);a=b.reduce(function(a,b,d){d=n(b);d=o(c,d);return d>=a[0]?[d,b]:a},[-1,null]);return a[1]}function q(event){var a=event.getNode(l);if(!(a instanceof HTMLElement))return;a=p(a);a&&(event.prevent(),a.focus())}function a(a){if(!a||!m)return!1;a=k.hasSigil(a,l)?a:i.bySigil(a,l);return!!p(a)}function r(event){__p&&__p();var a=event.getNode(l);if(!(a instanceof HTMLElement))return;var b=p(a);if(b){var c=i.bySigil(a,"touchable");c&&(h.get(c).nativeClick=!0);c=j.byTag(a,"a");c instanceof HTMLAnchorElement&&(c.href="#"+g.uniqID(b))}}function b(){m||(k.listen("touchstart",l,r),k.listen("click",l,q),m=!0)}e.exports={init:b,isInitialized:function(){return m},isComposerFocusTrigger:a}}),null);
__d("MUFILikeButton",["ActorURI","CSS","DOM","MLegacyDataStore","MLiveData","MParent","MUFIReactionsUtils","MUFIRequest","Stratcom","SubscriptionsHandler","cx","emptyFunction"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){__p&&__p();var s={is_like:1},t={is_like:0};function a(a,b,c,d){"use strict";this.$1=a,this.$2=k.get(b),this.$4=b,this.$5=c||{log:r},this.$6=d,this.$7=m.getConfigForBackgroundRetry(b),this.$3=new p(),this.$3.addSubscriptions(i.listen(this.$1,"click",null,this.onClick.bind(this)),this.$2.listen("change",this.onChange.bind(this)),o.listen("m:page:unload",null,this.onUnload.bind(this)))}a.prototype.onChange=function(){"use strict";var a=this.$2.getData();if(a.request_id===this.$6)return;a=a.has_viewer_liked;h.conditionClass(this.$1,"_2q8z",a);o.removeSigil(this.$1,a?"like":"unlike");o.addSigil(this.$1,a?"unlike":"like")};a.prototype.getFeedbackData=function(){"use strict";var a=this.$2.getData(),b=a.has_viewer_liked,c=b?a.like_count-1:a.like_count+1,d=a.reduced_like_count;isNaN(d)||(d=c.toString());return{has_viewer_liked:!b,like_count:c,like_counts:[a.like_counts[1]||null,a.like_counts[0]],like_friend_sentences:[a.like_friend_sentences[1]||null,a.like_friend_sentences[0]],like_sentences:[a.like_sentences[1]||null,a.like_sentences[0]],reduced_like_count:d}};a.prototype.getRequestData=function(){"use strict";return null};a.prototype.onClick=function(event){"use strict";__p&&__p();event.prevent();var a=event.getNode("tag:a");a||(a=event.getNode("tag:div"));if(!a)return;a=n.getURI(a.getAttribute("href")||a.getAttribute("data-uri"));this.$2.getData().has_viewer_liked?(a.addQueryData("ul",!0),a.removeQueryData("reaction_type")):a.removeQueryData(["ul","reaction_type"]);var b=l.bySigil(this.$1,"feed-ufi-metadata");if(b){b=j.get(b).actor_id;b&&(a=g.create(a,String(b)))}n.send(this.$4,this.getFeedbackData(),a,this.getRequestData(),this.$7);this.$5.log("like",undefined,this.$2.getData().has_viewer_liked?t:s)};a.prototype.onUnload=function(){"use strict";this.$3.release(),this.$3=null};e.exports=a}),null);
__d("UFIUIEvents",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ActionAddComment:"UFIUIEvents/ufiActionAddComment",ActionLinkLike:"UFIUIEvents/ufiActionLinkLike",Blur:"ufi/blur",Changed:"ufi/changed",Comment:"ufi/comment",CommentChanged:"ufi/commentChanged",CommentPager:"CommentUFI.Pager",CommentPivot:"ufi/comment_pivot",Focus:"ufi/focus",InputHeightChanged:"ufi/inputHeightChanged",PageCleared:"ufi/page_cleared",PhotoPreviewHeightChanged:"ufi/photoPreviewHightChanged",TranslationRendered:"ufi/translationRendered",ReactionButtonClicked:"ufi/reactionButtonClicked"})}),null);
__d("MUFIReactionButton",["CSS","DOM","MAudioController","MLiveData","MUFILikeButton","MUFIReactionsUtils","Stratcom","Style","UFIReactionIcons","UFIReactionTypes","UFIUIEvents","createIxElement","cx","fbt","gkx"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){__p&&__p();var v,w=1,x=0,y=16;b=babelHelpers.inherits(a,k);v=b&&b.prototype;function a(a,b,c,d,e,f,g){"use strict";v.constructor.call(this,a,b,c,d),this.$MUFIReactionButton1=a,this.$MUFIReactionButton2=j.get(b),this.$MUFIReactionButton3=b,this.$MUFIReactionButton4=d,this.$MUFIReactionButton5=e||y,this.$MUFIReactionButton6=f,this.$MUFIReactionButton7=!!g,a.href&&a.setAttribute("data-uri",a.href),a.removeAttribute("href")}a.prototype.onChange=function(){"use strict";__p&&__p();var a=this.$MUFIReactionButton2.getData();if(a.request_id===this.$MUFIReactionButton4)return;var b,c;a=a.viewerreaction;var d=!!a;a&&!p.reactions[a]&&(a=null);if(!a)b="inherit",this.$MUFIReactionButton6?c=this.$MUFIReactionButton6:c=t._("Like"),this.$MUFIReactionButton7&&(c="");else{var e=null;if(a!==w){var f=o[a][this.$MUFIReactionButton5];f||(f=o[a][y]);e=r(f);g.addClass(e,"_4h-b")}b=p.reactions[a].color;this.$MUFIReactionButton6?c=this.$MUFIReactionButton7?"":this.$MUFIReactionButton6:c=[e,this.$MUFIReactionButton7?"":p.reactions[a].display_name]}h.setContent(this.$MUFIReactionButton1,c);this.$MUFIReactionButton1.setAttribute("aria-pressed",d);g.conditionClass(this.$MUFIReactionButton1,"_1boq",d&&a!==w);g.conditionClass(this.$MUFIReactionButton1,"_2q8z",d&&a===w);n.set(this.$MUFIReactionButton1,"color",b);m.removeSigil(this.$MUFIReactionButton1,d?"like":"unlike");m.addSigil(this.$MUFIReactionButton1,d?"unlike":"like");m.invoke(q.ReactionButtonClicked,null,this.getRequestData())};a.prototype.getFeedbackData=function(){"use strict";var a=this.$MUFIReactionButton2.getData();return l.getReactionData(a,a.has_viewer_liked||a.viewerreaction?x:w)};a.prototype.getRequestData=function(){"use strict";var a=this.$MUFIReactionButton2.getData(),b=a.has_viewer_liked||a.viewerreaction;return{reaction_type:b?x:w,ft_ent_identifier:a.ft_ent_identifier}};a.prototype.onClick=function(event){"use strict";var a=this.$MUFIReactionButton2.getData().viewerreaction;a===x&&(u("AT40lEHlW1W1GcOBl4c2kgQjHs0w2XXrcq0xqcVmpsvPM5HZOaApLUCfuEs6a-qW7HzScKadE9YYd3UaaKChGMFl")&&i.play("reactions","like"));if(m.hasSigil(this.$MUFIReactionButton1,"kaios-like-react-trigger")){a=this.$MUFIReactionButton2.getData();a.viewerreaction&&event.stop()}v.onClick.call(this,event)};e.exports=a}),null);
__d("MActionBubbleHelper",["BanzaiODS","CSS","Stratcom","cx"],(function(a,b,c,d,e,f,g,h,i,j){var k="enabled_action";e.exports.toggleActionBubbleItem=function(a,b,c,d){g.bumpEntityKey("rrsurfaces","action_bubble.toggle_action."+String(b)+"."+c+"."+d),h.conditionClass(a,"_58a0",b),b?i.addSigil(a,k):i.removeSigil(a,k)}}),null);
__d("prefetchImage",[],(function(a,b,c,d,e,f){__p&&__p();function a(a,b){__p&&__p();var c=!0,d=new Image();d.onload=function(){c=!1,b&&b()};d.src=a;return{cancel:function(){if(!c)return;c=!1;d.onload=null;d.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}}}e.exports=a}),null);