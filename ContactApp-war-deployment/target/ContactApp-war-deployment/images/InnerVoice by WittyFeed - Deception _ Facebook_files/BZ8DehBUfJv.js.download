if (self.CavalryLogger) { CavalryLogger.start_js(["jSbj3"]); }

__d("MGDPRRedirect",["goURI"],(function(a,b,c,d,e,f,g){"use strict";e.exports={forceRedirectTo:function(a){g(a,!0)}}}),null);
__d("MCurationOneClickButton",["CSS","DOM","MLegacyDataStore","MRequest","SaveState","SaveStateHandler","Stratcom","cx","destroyOnUnload"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){__p&&__p();var p="curation-one-click-save-button",q="curation-one-click-unsave-button",r="MCurationOneClickButton_instance",s="_5qgu",t="_5qgv",u=null;function v(a,b,c,d,e,f,h){"use strict";__p&&__p();this.$1=a,this.$2=c,this.$3=d,this.$4=e,this.$5=f,this.$6=!1,this.$7(this.$1,p),this.$7(this.$1,q),this.$8(a),v.$9(),l.listen(b,function(b){__p&&__p();switch(b){case k.SAVING:g.removeClass(a,s);g.addClass(a,t);this.$6=!0;break;case k.SAVED:g.removeClass(a,s);g.removeClass(a,t);this.$6=!1;break;case k.UNSAVING:g.addClass(a,s);g.addClass(a,t);this.$6=!0;break;case k.UNSAVED:g.addClass(a,s);g.removeClass(a,t);this.$6=!1;break}}.bind(this))}v.prototype.$7=function(a,b){"use strict";var c={};c[r]=this;a=h.find(a,"*",b);i.set(a,c)};v.prototype.$10=function(){"use strict";this.$11();if(!this.$6){l.saving(this.$2);var a=function(){l.unsaved(this.$2)}.bind(this);this.$12(this.$3,a)}};v.prototype.$13=function(){"use strict";this.$11(),this.$6||(this.$12(this.$4,function(){l.saved(this.$2)}.bind(this)),l.unsaving(this.$2))};v.prototype.$12=function(a,b){"use strict";a=new j(a);a.listen("error",b);a.send()};v.prototype.$11=function(){"use strict";this.$5&&this.$5.disableNux()};v.prototype.$8=function(a){"use strict";function b(event){event.stopPropagation()}a.addEventListener("click",b);o(function(){return a.removeEventListener("click",b)})};v.handleSave=function(a){"use strict";a=a.getNode(p);a=i.get(a)[r];a&&a.$10()};v.handleUnsave=function(a){"use strict";a=a.getNode(q);a=i.get(a)[r];a&&a.$13()};v.$9=function(){"use strict";__p&&__p();if(u)return;u=[m.listen("click",p,function(a){v.handleSave(a)}),m.listen("click",q,function(a){v.handleUnsave(a)})];o(function(){while(u.length)u.pop().remove();u=null})};e.exports=v}),null);