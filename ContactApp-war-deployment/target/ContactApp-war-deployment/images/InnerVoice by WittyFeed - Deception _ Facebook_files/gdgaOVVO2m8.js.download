if (self.CavalryLogger) { CavalryLogger.start_js(["Y2CpO"]); }

__d("VideoViewabilityKeyEvents",[],(function(a,b,c,d,e,f){e.exports={Events:["entered_fs","exited_fs","finished_playing","paused","player_format_changed","started_playing","unpaused"]}}),null);
__d("MCustomDialog",["DOM","cx","ge"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();a={show:function(a){__p&&__p();var b=g.create("div",{className:"_3uug"},null),c=g.create("div",{className:"_3uuh"},g.create("h2",null,a.titleString)),d=g.create("div",{className:"_3uui"},g.create("p",null,a.descriptionString)),e=g.create("p",{className:"_3uuj"},a.dismissButtonString),f=g.create("div",{className:"_3uuk"},e);g.appendContent(b,c);g.appendContent(b,d);g.appendContent(b,f);if(a.confirmButtonString&&a.confirmButtonCallback){var h=g.create("p",{className:"_3uuj"},a.confirmButtonString);g.prependContent(f,h)}var j=g.create("div",{className:"_3uul"},b);e.addEventListener("click",function(){g.remove(j),a.dismissButtonCallback&&a.dismissButtonCallback()});h&&h.addEventListener("click",function(){g.remove(j),a.confirmButtonCallback&&a.confirmButtonCallback()});c=i("root");c&&g.prependContent(c,j)}};e.exports=a}),null);
__d("MFullScreen",[],(function(a,b,c,d,e,f){__p&&__p();a={debounce:function(a,b,c){var d;return function(){var e=this,f=arguments,g=function(){d=null,c||a.apply(e,f)},h=c&&!d;clearTimeout(d);d=setTimeout(g,b);h&&a.apply(e,f)}},isSupported:function(){var a=document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled||document.fullscreenEnabled,b=document.webkitCancelFullScreen||document.mozCancelFullScreen||document.msExitFullscreen||document.cancelFullScreen||document.exitFullScreen;return a&&b},isFullScreen:function(){return document.webkitIsFullScreen||document.fullScreen||document.mozFullScreen||document.msFullscreenElement||document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement},enableFullScreen:function(a){a.webkitRequestFullScreen?a.webkitRequestFullScreen():a.mozRequestFullScreen?a.mozRequestFullScreen():a.msRequestFullscreen?a.msRequestFullscreen():a.requestFullScreen?a.requestFullScreen():a.requestFullscreen?a.requestFullscreen():a.webkitRequestFullscreen&&a.webkitRequestFullscreen()},disableFullScreen:function(){document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen?document.msExitFullscreen():document.cancelFullScreen?document.cancelFullScreen():document.exitFullScreen&&document.exitFullScreen()},listenForFullScreenEvent:function(a,b){var c=this.debounce(b,500),d=["webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange","fullscreenchange"];d.forEach(function(b){return a.addEventListener(b,c)});return{remove:function(){d.forEach(function(b){return a.removeEventListener(b,c)})}}},removeFullScreenEventListeners:function(a,b){var c=this.debounce(b,500);a.removeEventListener("webkitfullscreenchange",b);a.removeEventListener("mozfullscreenchange",b);a.removeEventListener("MSFullscreenChange",b);a.removeEventListener("fullscreenchange",c)}};e.exports=a}),null);
__d("oz-player/loggings/OzLoggingUtils",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,b,c){a=a.getOperationLogger(b).start();try{b=c(a);return b}catch(b){a.setError(b);throw b}finally{a.log()}}function b(a,b,c,d,e){__p&&__p();d===void 0&&(d=function(){});e===void 0&&(e=function(){});var f=b.getOperationLogger(c).start();d(f);return a.then(function(a){e(f);f.log();return a})["catch"](function(a){f.setError(a);e(f);f.log();throw a})}e.exports={executeOperationAndLog:a,monitorPromiseAndLogOperation:b}}),null);
__d("oz-player/loggings/OzOperationLoggerBase",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){this.$1=a}a.prototype.start=function(){this.getClientTimeBegin()||this.setClientTimeBegin(Date.now());return this};a.prototype.log=function(){this.getClientTimeEnd()||this.setClientTimeEnd(Date.now())};a.prototype.setError=function(a){this.$2=a;return this};a.prototype.setResult=function(a){this.$3=a;return this};a.prototype.setType=function(a){this.$4=a;return this};a.prototype.setClientTimeBegin=function(a){this.$5=a;return this};a.prototype.setClientTimeEnd=function(a){this.$6=a;return this};a.prototype.setResource=function(a){this.$7=a;return this};a.prototype.setSegmentStartTime=function(a){this.$8=a;return this};a.prototype.setSegmentEndTime=function(a){this.$9=a;return this};a.prototype.setLength=function(a){this.$10=a;return this};a.prototype.setInitiator=function(a){this.$11=a;return this};a.prototype.setPreloadTime=function(a){this.$12=a;return this};a.prototype.setConcluder=function(a){this.$13=a;return this};a.prototype.getError=function(){return this.$2};a.prototype.getResult=function(){return this.$3};a.prototype.getType=function(){return this.$4};a.prototype.getClientTimeBegin=function(){return this.$5};a.prototype.getClientTimeEnd=function(){return this.$6};a.prototype.getResource=function(){return this.$7};a.prototype.getOperationName=function(){return this.$1};a.prototype.getSegmentStartTime=function(){return this.$8};a.prototype.getSegmentEndTime=function(){return this.$9};a.prototype.getLength=function(){return this.$10};a.prototype.getInitiator=function(){return this.$11};a.prototype.getPreloadTime=function(){return this.$12};a.prototype.getConcluder=function(){return this.$13};e.exports=a}),null);
__d("oz-player/loggings/OzPerfLoggerProviderBase",["oz-player/loggings/OzOperationLoggerBase"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a.prototype.cloneContext=function(){var a=this.createLoggerProvider();this.$6(a);return a};a.prototype.setType=function(a){this.$1=a;return this};a.prototype.setInitiator=function(a){this.$2=a;return this};a.prototype.setResource=function(a){this.$3=a;return this};a.prototype.setSegmentStartTime=function(a){this.$4=a;return this};a.prototype.setSegmentEndTime=function(a){this.$5=a;return this};a.prototype.getType=function(){return this.$1};a.prototype.getInitiator=function(){return this.$2};a.prototype.getResource=function(){return this.$3};a.prototype.getSegmentStartTime=function(){return this.$4};a.prototype.getSegmentEndTime=function(){return this.$5};a.prototype.getOperationLogger=function(a){a=this.createOperationLogger(a);return this.setOperationContext(a)};a.prototype.setOperationContext=function(a){this.$6(a);return a};a.prototype.createOperationLogger=function(a){throw new Error("Not implemented")};a.prototype.createLoggerProvider=function(){throw new Error("Not implemented")};a.prototype.$6=function(a){this.getType()&&a.setType(this.getType()),this.getInitiator()&&a.setInitiator(this.getInitiator()),this.getResource()&&a.setResource(this.getResource()),typeof this.getSegmentStartTime()==="number"&&a.setSegmentStartTime(this.getSegmentStartTime()),typeof this.getSegmentEndTime()==="number"&&a.setSegmentEndTime(this.getSegmentEndTime())};function a(){}e.exports=a}),null);
__d("oz-player/shims/OzEventEmitter",["EventEmitter"],(function(a,b,c,d,e,f){"use strict";e.exports=b("EventEmitter")}),null);
__d("oz-player/loggings/OzPreInitLogger",["oz-player/shims/OzEventEmitter","oz-player/loggings/OzOperationLoggerBase","oz-player/loggings/OzPerfLoggerProviderBase"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;a=babelHelpers.inherits(l,h);j=a&&a.prototype;function l(a,b){j.constructor.call(this,a),this.$OzPreInitOperationLogger1=b}l.prototype.log=function(){j.log.call(this),this.$OzPreInitOperationLogger1(this)};b=babelHelpers.inherits(m,i);k=b&&b.prototype;function m(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=k.constructor).call.apply(a,[this].concat(d)),this.$OzPreInitLoggerProvider1=!1,this.$OzPreInitLoggerProvider2=[],this.$OzPreInitLoggerProvider3=new g(),b}m.prototype.activate=function(){this.$OzPreInitLoggerProvider1=!0,this.$OzPreInitLoggerProvider2.forEach(function(a){this.$OzPreInitLoggerProvider3.emit("operation_logged",a)}.bind(this)),this.$OzPreInitLoggerProvider2=[]};m.prototype.setOperationLoggedListener=function(a){return this.$OzPreInitLoggerProvider3.addListener("operation_logged",function(b){a(b)})};m.prototype.createOperationLogger=function(a){a=new l(a,function(a){this.$OzPreInitLoggerProvider1?this.$OzPreInitLoggerProvider3.emit("operation_logged",a):this.$OzPreInitLoggerProvider2.push(a)}.bind(this));return a};m.prototype.createLoggerProvider=function(){return new m()};e.exports={OzPreInitLoggerProvider:m}}),null);
__d("oz-player/loggings/OzMultiDestinationPerfLogger",["oz-player/loggings/OzOperationLoggerBase","oz-player/loggings/OzPerfLoggerProviderBase"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;a=babelHelpers.inherits(k,h);i=a&&a.prototype;function k(a){i.constructor.call(this),this.$OzMultiDestinationPerfLoggerProvider1=a}k.prototype.createOperationLogger=function(a){var b=new l(a,this.$OzMultiDestinationPerfLoggerProvider1.map(function(b){return b.getOperationLogger(a)}));return b};k.prototype.createLoggerProvider=function(){return new k(this.$OzMultiDestinationPerfLoggerProvider1)};b=babelHelpers.inherits(l,g);j=b&&b.prototype;function l(a,b){j.constructor.call(this,a),this.$OzMultiDestinationOperationLogger1=b}l.prototype.start=function(){j.start.call(this);this.$OzMultiDestinationOperationLogger1.forEach(function(a){return a.start()});return this};l.prototype.setResult=function(a){j.setResult.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setResult(a)});return this};l.prototype.setError=function(a){j.setError.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setError(a)});return this};l.prototype.setType=function(a){j.setType.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setType(a)});return this};l.prototype.setClientTimeEnd=function(a){j.setClientTimeEnd.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setClientTimeEnd(a)});return this};l.prototype.setClientTimeBegin=function(a){j.setClientTimeBegin.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setClientTimeBegin(a)});return this};l.prototype.setResource=function(a){j.setResource.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setResource(a)});return this};l.prototype.setSegmentStartTime=function(a){j.setSegmentStartTime.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setSegmentStartTime(a)});return this};l.prototype.setSegmentEndTime=function(a){j.setSegmentEndTime.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setSegmentEndTime(a)});return this};l.prototype.setLength=function(a){j.setLength.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setLength(a)});return this};l.prototype.setInitiator=function(a){j.setInitiator.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setInitiator(a)});return this};l.prototype.setPreloadTime=function(a){j.setPreloadTime.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setPreloadTime(a)});return this};l.prototype.setConcluder=function(a){j.setConcluder.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setConcluder(a)});return this};l.prototype.log=function(){j.log.call(this),this.$OzMultiDestinationOperationLogger1.forEach(function(a){return a.log()})};e.exports={OzMultiDestinationPerfLoggerProvider:k}}),null);
__d("oz-player/shims/OzDeferred",["Deferred"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Deferred")}),null);
__d("oz-player/shims/OzEventListener",["EventListener"],(function(a,b,c,d,e,f){"use strict";e.exports=b("EventListener")}),null);
__d("MaybeNativePromise",["Promise"],(function(a,b,c,d,e,f,g){"use strict";b=a.Promise||g;g.resolve();e.exports=b}),null);
__d("oz-player/shims/OzMaybeNativePromise",["Promise","MOzExperiments","MaybeNativePromise"],(function(a,b,c,d,e,f,g,h){"use strict";g.resolve(),e.exports=h.use_native_promise?b("MaybeNativePromise"):g}),null);
__d("oz-player/shims/OzSubscriptionsHandler",["SubscriptionsHandler"],(function(a,b,c,d,e,f){"use strict";e.exports=b("SubscriptionsHandler")}),null);
__d("oz-player/states/OzObservedSourceBufferState",["oz-player/shims/OzEventListener","oz-player/shims/OzSubscriptionsHandler"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();function a(a){this.$2=new h(),this.$3=[],this.$4=function(){var a=[];for(var b=0;b<this.$1.buffered.length;b++)a.push({startTime:this.$1.buffered.start(b),endTime:this.$1.buffered.end(b)});this.$3=a}.bind(this),this.$1=a,this.$2.addSubscriptions(g.listen(this.$1,"updateend",this.$4),g.listen(this.$1,"error",this.$4))}a.prototype.getBufferedRanges=function(){return this.$3};a.prototype.addEventListener=function(event,a){return g.listen(this.$1,"updateend",a)};a.prototype.destroy=function(){this.$2.release(),this.$2.engage()};e.exports=a}),null);
__d("oz-player/utils/ozConcatArrayBuffer",[],(function(a,b,c,d,e,f){"use strict";a=function(a,b){var c=new Uint8Array(a.byteLength+b.byteLength);c.set(new Uint8Array(a),0);c.set(new Uint8Array(b),a.byteLength);return c.buffer};e.exports=a}),null);
__d("oz-player/media_source/SourceBufferManager",["oz-player/loggings/OzLoggingUtils","oz-player/shims/OzDeferred","oz-player/shims/OzEventListener","oz-player/shims/OzMaybeNativePromise","oz-player/shims/OzSubscriptionsHandler","oz-player/states/OzObservedSourceBufferState","oz-player/utils/ozConcatArrayBuffer"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m){"use strict";__p&&__p();var n=g.monitorPromiseAndLogOperation;function a(a){this.$2=null,this.$3=new k(),this.$5=!1,this.$6=[],this.$8=function(){this.$2&&this.$2.resolve(),this.$2=null}.bind(this),this.$9=function(){if(this.$2){var a=new Error("SourceBuffer append error");a.name="source_buffer_append";this.$2.reject(a)}this.$2=null}.bind(this),this.$1=a,this.$3.addSubscriptions(i.listen(this.$1,"updateend",this.$8),i.listen(this.$1,"error",this.$9)),this.$7=new l(this.$1)}a.prototype.queueData=function(a,b,c){b===void 0&&(b=null);c===void 0&&(c=0);var d=new h(j);this.$6.push({data:a,deferred:d,loggerProvider:b,appendTarget:c});a=d.getPromise();this.$5||this.$10();return a};a.prototype.cancelOperationAndCleanQueue=function(){__p&&__p();var a=this.$11();this.$6.forEach(function(b){b=b.deferred;b.reject(a)});this.$6=[];this.$1.abort();var b=j.resolve();this.$2&&(b=this.$2.getPromise());this.$4&&(this.$4.reject(a),this.$4=null);return b};a.prototype.getSourceBufferState=function(){return this.$7};a.prototype.$12=function(a,b){__p&&__p();if(this.$2!==null)return j.reject(this.$13("cannot have concurrent appends"));var c=this.$2=new h(j);try{this.$1.appendBuffer(a)}catch(a){this.$2=null,c.reject(a)}c=c.getPromise();b&&n(c,b,"append",function(b){b.setLength(a.byteLength)});return c};a.prototype.$10=function(){__p&&__p();if(this.$5)return j.reject(this.$13("Another unit of queued data is being appended."));var a=this.$6.shift();if(!a){this.$5=!1;return j.resolve()}var b=a.data,c=a.deferred,d=a.loggerProvider;a=a.appendTarget;this.$5=!0;a=b instanceof ReadableStream?this.$14(b,d,a):this.$12(b,d);return a["catch"](function(a){c.reject(a)}).then(function(){c.resolve(),this.$5=!1,this.$10()}.bind(this))};a.prototype.$14=function(a,b,c){__p&&__p();var d=new ArrayBuffer(0),e=a.getReader(),f=function(){__p&&__p();var a=new h(j);this.$4=a;e.read().then(function(b){a.resolve(b),this.$4=null}.bind(this))["catch"](function(b){a.reject(b),this.$4=null}.bind(this));return a.getPromise().then(function(a){__p&&__p();var e=a.done;a=a.value;if(e)return d.byteLength>0?this.$12(d,b):j.resolve();e=a;c>0&&(a instanceof Uint8Array&&(a=a.buffer),d=m(d,a),e=d);if(e&&e.byteLength>=c){d=new ArrayBuffer(0);return this.$12(e,b).then(f)}return f()}.bind(this))}.bind(this);return f()};a.prototype.$13=function(a){a=new Error(a);a.name="invariant_violation";return a};a.prototype.$11=function(){var a=new Error("operation is cancelled");a.name="cancelled";return a};a.prototype.destroy=function(){this.$2&&this.$2.reject(this.$11()),this.$2=null,this.$3.release(),this.$3=new k(),this.$7.destroy()};e.exports=a}),null);
__d("oz-player/media_source/MediaSourceManager",["oz-player/shims/OzMaybeNativePromise","oz-player/loggings/OzLoggingUtils","oz-player/loggings/OzMultiDestinationPerfLogger","oz-player/shims/OzDeferred","oz-player/shims/OzEventListener","oz-player/shims/OzSubscriptionsHandler","oz-player/media_source/SourceBufferManager"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m){"use strict";__p&&__p();var n=h.monitorPromiseAndLogOperation,o=i.OzMultiDestinationPerfLoggerProvider;function a(a,b){b===void 0&&(b=new o([])),this.$2=null,this.$4=new l(),this.$6=[],this.$7=[],this.$9=function(){if(this.$10()||this.$3.readyState!=="open")return;this.$7.forEach(function(a){a(this.$3)}.bind(this));this.$7=[]}.bind(this),this.$5=b,this.$1=a,this.$3=new MediaSource(),this.$1.src=window.URL.createObjectURL(this.$3),n(this.$8(),this.$5,"media_source_open")}a.prototype.$8=function(){if(this.$3.readyState==="open")return g.resolve();var a=new j(g);this.$4.addSubscriptions(k.listen(this.$3,"sourceopen",function(){a.resolve(),this.$9()}.bind(this)));return a.getPromise()};a.prototype.createSourceBufferManager=function(a){return this.$8().then(function(){var b=this.$3.addSourceBuffer(a);this.$6.push(b);this.$4.addSubscriptions(k.listen(b,"updateend",this.$9));return new m(b)}.bind(this))};a.prototype.getMediaSource=function(){return this.$3};a.prototype.updateDuration=function(a){!this.$10()?this.$3.duration=a:this.$7.push(function(b){b.duration=a})};a.prototype.detach=function(){this.$1.removeAttribute("src");for(var a=0;a<this.$3.sourceBuffers.length;a++){var b=this.$3.sourceBuffers[a];this.$3.removeSourceBuffer(b)}this.$4.release();this.$4.engage()};a.prototype.$10=function(){return this.$6.some(function(a){return a.updating})};e.exports=a}),null);
__d("oz-player/shims/ozvariant",["invariant"],(function(a,b,c,d,e,f){e.exports=b("invariant")}),null);
__d("oz-player/utils/convertRequestPromiseToReadableStream",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){var b=new ReadableStream({start:function(b){a.then(function(a){a=new Uint8Array(a.response);b.enqueue(a);b.close()})["catch"](function(a){b.error(a)})}});return b}e.exports=a}),null);
__d("oz-player/media_source/OzQuickStarter",["oz-player/loggings/OzPreInitLogger","oz-player/utils/convertRequestPromiseToReadableStream","oz-player/media_source/MediaSourceManager","oz-player/loggings/OzLoggingUtils","oz-player/shims/ozvariant"],(function(a,b,c,d,e,f,g,h,i,j,k){"use strict";__p&&__p();var l=g.OzPreInitLoggerProvider,m=j.monitorPromiseAndLogOperation;function a(a,b){b===void 0&&(b=[]),this.$4=new Map(),this.$5=[],this.$7=new Map(),this.$2=a,this.$6=new l(),this.$6.setInitiator("quick_starter"),this.$5.push(this.$6),this.$1=new i(this.$2,this.$6),this.$3=new Map(),b.forEach(function(a){return this.addPrefetchTrack(a)}.bind(this))}a.prototype.addPrefetchTrack=function(a){__p&&__p();var b=a.mimeCodec,c=this.$8(b);if(!c)return;var d=this.$8(b),e=this.$9(this.$6).setType(d),f=this.$9(this.$6).setType(d+";init");this.$4.set(c,a.segmentPromise?1:0);d=this.$1.createSourceBufferManager(b).then(function(b){__p&&__p();var c=h(a.initializationPromise);m(a.initializationPromise,f,"fetch_stream");b.queueData(c,f);c=a.segmentPromise;if(c){var d=h(c);m(c,e,"fetch_stream");b.queueData(d,e)}return b});this.$3.set(c,d);a.representationID&&this.$7.set(c,a.representationID)};a.prototype.getSourceBufferManagerPromise=function(a){a=this.$8(a);return this.$3.get(a)};a.prototype.getPrependedSegmentsCount=function(a){var b=this.$8(a);if(!b)return 0;b=this.$4.get(b)||0;return this.getSourceBufferManagerPromise(a)?b:0};a.prototype.getRepresentationId=function(a){a=this.$8(a);return!a?null:this.$7.get(a)||null};a.prototype.getVideoNode=function(){return this.$2};a.prototype.getMediaSourceManager=function(){return this.$1};a.prototype.getObservedOperationLoggers=function(){return this.$5};a.prototype.$9=function(a){a=a.cloneContext();a instanceof l||k(0);this.$5.push(a);return a};a.prototype.$8=function(a){return(a.split("/")[0]||"").trim()};e.exports=a}),null);
__d("MMediaFactory",["MOzExperiments","MVideoUtils","oz-player/media_source/OzQuickStarter","setImmediate"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k=[];function l(){return window.MediaSource&&window.fetch&&window.ReadableStream}function m(){var a=h.createVideoNode(),b;l()&&g.use_quick_starter&&(b=new i(a,[]));return{node:a,quickStarter:b}}var n;function a(){g.precreate_cache_size>0&&!n&&(n=j(o));if(k.length>0)return k.shift();else return m()}function o(){n=null;var a=k.length;if(g.precreate_cache_size&&a>=g.precreate_cache_size)return;a=g.precreate_cache_size-a;for(var b=0;b<a;b++)k.push(m())}e.exports={get:a,populate:o}}),null);
__d("VideoAkamaiRequestHelper",["URI"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function a(a){return a.toLowerCase().indexOf("akamai")!==-1}function h(a){var b=a.startByte;a=a.endByte;if(b!=undefined&&!(b===0&&a==undefined)){b="bytes="+b+"-"+(a==undefined?"":a);return{Range:b}}return null}function b(a){var b=new g(a);b=b.getQueryData();var c=b.startByte;b=b.endByte;return h({baseUrl:a,startByte:c,endByte:b})}e.exports={isAkamai:a,getRequestHeaders:h,getRequestHeadersFromUrl:b}}),null);
__d("regeneratorRuntime",["Promise"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=Object.prototype.hasOwnProperty,i=typeof Symbol==="function"&&(typeof Symbol==="function"?Symbol.iterator:"@@iterator")||"@@iterator",j=e.exports;function k(a,b,c,d){b=Object.create((b||r).prototype);d=new A(d||[]);b._invoke=x(a,c,d);return b}j.wrap=k;function l(a,b,c){try{return{type:"normal",arg:a.call(b,c)}}catch(a){return{type:"throw",arg:a}}}var m="suspendedStart",n="suspendedYield",o="executing",p="completed",q={};function r(){}function s(){}function t(){}var u=t.prototype=r.prototype;s.prototype=u.constructor=t;t.constructor=s;s.displayName="GeneratorFunction";function a(a){["next","throw","return"].forEach(function(b){a[b]=function(a){return this._invoke(b,a)}})}j.isGeneratorFunction=function(a){a=typeof a==="function"&&a.constructor;return a?a===s||(a.displayName||a.name)==="GeneratorFunction":!1};j.mark=function(a){Object.setPrototypeOf?Object.setPrototypeOf(a,t):Object.assign(a,t);a.prototype=Object.create(u);return a};j.awrap=function(a){return new v(a)};function v(a){this.arg=a}function w(a){__p&&__p();function b(b,e){var f=a[b](e);b=f.value;return b instanceof v?g.resolve(b.arg).then(c,d):g.resolve(b).then(function(a){f.value=a;return f})}typeof process==="object"&&process.domain&&(b=process.domain.bind(b));var c=b.bind(a,"next"),d=b.bind(a,"throw");b.bind(a,"return");var e;function f(a,c){var d=e?e.then(function(){return b(a,c)}):new g(function(d){d(b(a,c))});e=d["catch"](function(a){});return d}this._invoke=f}a(w.prototype);j.async=function(a,b,c,d){var e=new w(k(a,b,c,d));return j.isGeneratorFunction(b)?e:e.next().then(function(a){return a.done?a.value:e.next()})};function x(a,b,c){__p&&__p();var d=m;return function(e,f){__p&&__p();if(d===o)throw new Error("Generator is already running");if(d===p){if(e==="throw")throw f;return C()}while(!0){var g=c.delegate;if(g){if(e==="return"||e==="throw"&&g.iterator[e]===undefined){c.delegate=null;var h=g.iterator["return"];if(h){h=l(h,g.iterator,f);if(h.type==="throw"){e="throw";f=h.arg;continue}}if(e==="return")continue}h=l(g.iterator[e],g.iterator,f);if(h.type==="throw"){c.delegate=null;e="throw";f=h.arg;continue}e="next";f=undefined;var i=h.arg;if(i.done)c[g.resultName]=i.value,c.next=g.nextLoc;else{d=n;return i}c.delegate=null}if(e==="next")d===n?c.sent=f:c.sent=undefined;else if(e==="throw"){if(d===m){d=p;throw f}c.dispatchException(f)&&(e="next",f=undefined)}else e==="return"&&c.abrupt("return",f);d=o;h=l(a,b,c);if(h.type==="normal"){d=c.done?p:n;var i={value:h.arg,done:c.done};if(h.arg===q)c.delegate&&e==="next"&&(f=undefined);else return i}else h.type==="throw"&&(d=p,e="throw",f=h.arg)}}}a(u);u[i]=function(){return this};u.toString=function(){return"[object Generator]"};function y(a){var b={tryLoc:a[0]};1 in a&&(b.catchLoc=a[1]);2 in a&&(b.finallyLoc=a[2],b.afterLoc=a[3]);this.tryEntries.push(b)}function z(a){var b=a.completion||{};b.type="normal";delete b.arg;a.completion=b}function A(a){this.tryEntries=[{tryLoc:"root"}],a.forEach(y,this),this.reset(!0)}j.keys=function(a){__p&&__p();var b=[];for(var c in a)b.push(c);b.reverse();return function c(){__p&&__p();while(b.length){var d=b.pop();if(d in a){c.value=d;c.done=!1;return c}}c.done=!0;return c}};function B(a){__p&&__p();if(a){var b=a[i];if(b)return b.call(a);if(typeof a.next==="function")return a;if(!isNaN(a.length)){var c=-1;b=function b(){while(++c<a.length)if(h.call(a,c)){b.value=a[c];b.done=!1;return b}b.value=undefined;b.done=!0;return b};return b.next=b}}return{next:C}}j.values=B;function C(){return{value:undefined,done:!0}}A.prototype={constructor:A,reset:function(a){this.prev=0;this.next=0;this.sent=undefined;this.done=!1;this.delegate=null;this.tryEntries.forEach(z);if(!a)for(var b in this)b.charAt(0)==="t"&&h.call(this,b)&&!isNaN(+b.slice(1))&&(this[b]=undefined)},stop:function(){this.done=!0;var a=this.tryEntries[0];a=a.completion;if(a.type==="throw")throw a.arg;return this.rval},dispatchException:function(a){__p&&__p();if(this.done)throw a;var b=this;function c(c,d){f.type="throw";f.arg=a;b.next=c;return!!d}for(var d=this.tryEntries.length-1;d>=0;--d){var e=this.tryEntries[d],f=e.completion;if(e.tryLoc==="root")return c("end");if(e.tryLoc<=this.prev){var g=h.call(e,"catchLoc"),i=h.call(e,"finallyLoc");if(g&&i){if(this.prev<e.catchLoc)return c(e.catchLoc,!0);else if(this.prev<e.finallyLoc)return c(e.finallyLoc)}else if(g){if(this.prev<e.catchLoc)return c(e.catchLoc,!0)}else if(i){if(this.prev<e.finallyLoc)return c(e.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(a,b){__p&&__p();for(var c=this.tryEntries.length-1;c>=0;--c){var d=this.tryEntries[c];if(d.tryLoc<=this.prev&&h.call(d,"finallyLoc")&&this.prev<d.finallyLoc){var e=d;break}}e&&(a==="break"||a==="continue")&&e.tryLoc<=b&&b<=e.finallyLoc&&(e=null);d=e?e.completion:{};d.type=a;d.arg=b;e?this.next=e.finallyLoc:this.complete(d);return q},complete:function(a,b){if(a.type==="throw")throw a.arg;a.type==="break"||a.type==="continue"?this.next=a.arg:a.type==="return"?(this.rval=a.arg,this.next="end"):a.type==="normal"&&b&&(this.next=b)},finish:function(a){for(var b=this.tryEntries.length-1;b>=0;--b){var c=this.tryEntries[b];if(c.finallyLoc===a){this.complete(c.completion,c.afterLoc);z(c);return q}}},"catch":function(a){__p&&__p();for(var b=this.tryEntries.length-1;b>=0;--b){var c=this.tryEntries[b];if(c.tryLoc===a){var d=c.completion;if(d.type==="throw"){var e=d.arg;z(c)}return e}}throw new Error("illegal catch attempt")},delegateYield:function(a,b,c){this.delegate={iterator:B(a),resultName:b,nextLoc:c};return q}}}),null);
__d("MVideoDashPrefetchCache",["regeneratorRuntime","Promise","BanzaiODS","Deferred","MaybeNativePromise","MOzExperiments","Run","URI","VideoAkamaiRequestHelper","XHRRequest","getCrossOriginTransport"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){__p&&__p();var r={maxPrefetchVideosNum:0,consolidateFragmentedPrefetchRequest:!1,fixPrefetchCacheAbort:!0,disablePrefetchCache:!1,enableGlobalSchedulerForPrefetch:!1,prefetchPriority:1,switchPrefetchTaskToHighPriWhenPlayed:!1};function s(a,b,c){var d=a.errorCode;a={name:a.errorType,message:a.errorMsg,type:c,url:b,status:d};return a}function t(a){return a.audio.length+a.video.length+a.manifest.length}function u(a,b){i.bumpEntityKey("mtouch_video_playback","prefetch."+a,b)}function v(a){var b="aborted",c={status:0},d=new Error("Prefetch request aborted.");return Object.assign(d,{type:b,url:a,xhr:c})}function w(a){var b=a.getURI(),c=b.toString();if(o.isAkamai(c)){var d=o.getRequestHeadersFromUrl(c);c=b.removeQueryData(["bytestart","byteend"]);a.setURI(c);d&&Object.keys(d).forEach(function(b){a.setRequestHeader(b,d[b])})}return a}var x=null,y=new Map();function z(a){a=new n(a);a=a.getDomain();return a.endsWith("fbcdn.net")&&!a.startsWith("interncache")&&!a.endsWith("ak.fbcdn.net")}function A(a,b){b===void 0&&(b=!1);return b&&z(a)?q.withCredentials:q}function B(a){return z(a.url)}function C(a,b,c){return{response:a.slice(b.start+0,b.end+1),responseTime:c}}function D(a){__p&&__p();var b=new n(a);if(b.getDomain()){b=b.removeQueryData(["oh"]);b=b.removeQueryData("__gda__");var c=Object.keys(b.getQueryData());for(var d=0;d<c.length;d++){var e=c[d];e.startsWith("_nc")&&(b=b.removeQueryData(e))}return b.toString()}return a}function E(){"use strict";this.$2=new Map(),this.$1=new Map(),this.$3=[],this.$4=[],this.$5=0,this.$6=r.maxPrefetchVideosNum,this.$7=r.consolidateFragmentedPrefetchRequest}E.prototype.$9=function(a,b){__p&&__p();b===void 0&&(b=!1);var c=a,d=new p(c).setMethod("GET").setResponseType("arraybuffer").setTransportBuilder(A(c,b));w(d);var e=new k(function(b,f){d.setErrorHandler(function(a){this.$10(d),f(s(a,c,"preload"))}.bind(this)),d.setResponseHandler(function(a){d.response=a,this.$10(d),b(d)}.bind(this)),d.setAbortHandler(function(){if(r.fixPrefetchCacheAbort){this.$10(d);var b=v(a);f(b)}else f(e,new Error("Request promise aborted"))}.bind(this))}.bind(this));this.$11(a,e);this.$3.push(d);this.$8?this.$8.push(d):d.send();return e};E.prototype.genPrefetchMpdNow=function(a){"use strict";__p&&__p();return g.async(function(b){while(1)switch(b.prev=b.next){case 0:if(!this.has(a)){b.next=2;break}return b.abrupt("return",null);case 2:return b.abrupt("return",this.$9(a));case 3:case"end":return b.stop()}},null,this)};E.prototype.$12=function(a,b,c){__p&&__p();b===void 0&&(b=!1);c===void 0&&(c=null);var d=[];for(var e=0;e<a.length;e++){var f=E.createQueryStringURL(a[e]);this.has(f)||(d.push(this.$9(f,b).then(function(a){u("received",1);return a})),c!=null&&this.$2.set(f,c))}u("sent",d.length);return d};E.prototype.$13=function(a){"use strict";__p&&__p();var b=E.getConsolidatedURL(a);if(b==null)return this.$12(a);var c=new p(b).setMethod("GET").setResponseType("arraybuffer").setTransportBuilder(A(b));w(c);var d=Date.now(),e=[];for(var f=0;f<a.length;f++){var g=E.createQueryStringURL(a[f]),i=new j();this.has(g)||this.$11(g,i.getPromise());e.push(i)}c.setErrorHandler(function(d){this.$10(c);for(var a=0;a<e.length;a++)e[a].reject(s(d,b,"preload"))}.bind(this));c.setResponseHandler(function(f){var g=Date.now()-d;for(var b=0;b<a.length;b++){var h=e[b],i=a[b];h.resolve(C(f,i,g))}this.$10(c)}.bind(this));c.setAbortHandler(function(){for(var b=0;b<a.length;b++){var c=e[b];c.reject(new Error("Request aborted."))}});this.$3.push(c);c.send();u("consolidated.sent",1);u("sent",e.length);g=e.map(function(a){return a.getPromise().then(function(a){u("received",1);return a})});h.all(g).then(function(){return u("consolidated.received",1)});return g};E.prototype.$14=function(a){"use strict";__p&&__p();var b=a.useCredentials,c=a.connectionQualityLevel;this.$5++;var d=this.$7&&!b;r.enableGlobalSchedulerForPrefetch&&(this.$8=[]);var e=d?this.$13(a.video):this.$12(a.video,b,c);d=d?this.$13(a.audio):this.$12(a.audio,b,c);c=this.$12(a.manifest,b);var f=e.concat(d,c);if(this.$8){var g=this.$8||[];this.$8=null;var h=""+a.videoID;b={name:"prefetch task, "+h,run:function(){h&&y["delete"](h);g.forEach(function(a){return a.send()});return k.all(f).then(function(){})["catch"](function(){})},cancel:function(){}};b.run();k.all(f).then(function(){return this.$15()}.bind(this))["catch"](function(){return this.$15()}.bind(this))}else k.all(f).then(function(){return this.$15()}.bind(this))["catch"](function(){return this.$15()}.bind(this))};E.prototype.$11=function(a,b){"use strict";a=D(a),this.$1.values().next().done&&m.onLeave(function(){for(var a=0;a<this.$3.length;a++)this.$3[a].abort();this.$3=[];this.$4=[];this.$5=0;this.$1.clear()}.bind(this)),this.$1.set(a,b)};E.prototype.$10=function(a){"use strict";a=this.$3.indexOf(a);a>-1&&this.$3.splice(a,1)};E.prototype.$15=function(){"use strict";this.$5--;var a=this.$4.shift();a&&this.$14(a)};E.prototype.has=function(a){"use strict";a=D(a);return this.$1.has(a)};E.prototype.getConnectionQualityLevel=function(a){"use strict";return this.$2.get(a)};E.prototype.get=function(a){"use strict";a=D(a);var b=this.$1.get(a);b?u("cache.hit",1):u("cache.miss",1);l.mtouch_reuse_cache_values||this.$1["delete"](a);u("retrieve",1);return b};E.prototype.$16=function(a){"use strict";a=D(a);a=this.$1.get(a);return a};E.prototype.queueRequestBatch=function(a){"use strict";this.$6===0||this.$5<this.$6?this.$14(a):(u("queued",t(a)),this.$4.push(a))};E.getInstance=function(){"use strict";x===null&&(x=new E());return x};E.createQueryStringURL=function(a){"use strict";var b=a.url,c=a.start;a=a.end;c!==null&&c!==undefined&&a!==null&&a!==undefined&&(b=new n(b).addQueryData({bytestart:c,byteend:a}));return b.toString()};E.getConsolidatedURL=function(a){"use strict";__p&&__p();var b="",c=Infinity,d=0;for(var e=0;e<a.length;e++){var f=a[e],g=f.url,h=f.start;f=f.end;if(g==null||h==null||f==null)return null;if(b==="")b=g;else if(b!==g)return null;c=Math.min(c,h);d=Math.max(d,f)}return E.createQueryStringURL({url:b,start:c,end:d})};E.loadVideo=function(a,b,c){"use strict";b=!!b;if(r.disablePrefetchCache||l.disable_prefetch)return;var d=E.getInstance();a.manifest||(a.manifest=[]);d.queueRequestBatch({manifest:a.manifest.filter(B),video:a.video.filter(B),audio:a.audio.filter(B),videoID:a.videoID,useCredentials:b,connectionQualityLevel:c})};E.getCacheValue=function(a){"use strict";var b=E.getInstance().get(a),c=!1;a=a.match(/bytestart=(\d+)/);if(a){a=parseInt(a[1],10);a<5e3&&(c=!0)}c&&u("consume."+(b?"hit":"miss"),1);return b};E.getConnectionQualityLevel=function(a){"use strict";return E.getInstance().getConnectionQualityLevel(a)};E.hasCacheValue=function(a){"use strict";return E.getInstance().has(a)};E.getPrefetchTaskByID=function(a){"use strict";a=y.get(a)||null;return a};e.exports=E}),null);
__d("VideoPlayerLoggerEvent",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({AUTOPLAY_PREFERENCE_CHANGED:"autoplay_preference_changed",END_STALL_TIME:"end_stall_time",AUTOPLAY_PREFERENCE_STATUS:"autoplay_preference_status",ERROR_ALERT_SHOWN:"video_error_alert_shown",COMMERCIAL_BREAK_OFFSCREEN:"commercial_break_offscreen",COMMERCIAL_BREAK_ONSCREEN:"commercial_break_onscreen",NOT_AUTOPLAYING:"not_autoplaying",VIDEO_CHANNEL_NO_RELATED_VIDEO:"video_channel_no_related_video",VIDEO_ORIENTATION_CHANGED:"video_orientation_changed",AD_BREAK_STARTING_INDICATOR:"ad_break_starting_indicator",AD_BREAK_NON_INTERRUPTIVE_AD_START:"ad_break_non_interruptive_ad_start",AD_BREAK_NON_INTERRUPTIVE_AD_CLICK:"ad_break_non_interruptive_ad_click",AD_BREAK_PRE_ROLL_AD_START:"ad_break_pre_roll_ad_start",AD_BREAK_TAP_ON_TRAILER:"ad_break_tap_on_trailer",AD_BREAK_TAP_START_FROM_TRAILER:"ad_break_tap_start_from_trailer",ASSETS_LOADED:"assets_loaded",BUFFERED:"buffered",CANCELLED_REQUESTED_PLAYING:"cancelled_requested_playing",CAPTION_CHANGE:"caption_change",CAROUSEL_CHANGE:"carousel_change",CHROMECAST_AVAILABILITY_CHECKED:"chromecast_availabilty_checked",CHROMECAST_CAST_CLICKED:"chromecast_button_clicked",CHROMECAST_CAST_CONNECTED:"chromecast_connected",CHROMECAST_CAST_DISABLED:"chromecast_button_disabled",CHROMECAST_CAST_DISCONNECTED:"chromecast_disconnected",CHROMECAST_CAST_RECONNECTED:"chromecast_reconnected",CHROMECAST_CAST_VISIBLE:"chromecast_button_visible",CHROMECAST_NOT_SUPPORTED:"chromecast_not_supported",CLICK:"click",DISPLAYED:"displayed",ENTERED_FALLBACK:"entered_fallback",ENTERED_FS:"entered_fs",ENTERED_HD:"entered_hd",ERROR:"error",EXITED_FS:"exited_fs",EXITED_HD:"exited_hd",FINISHED_LOADING:"finished_loading",FINISHED_PLAYING:"finished_playing",HEADSET_CONNECTED:"headset_connected",HEADSET_DISCONNECTED:"headset_disconnected",HEART_BEAT:"heart_beat",HOST_ERROR:"host_error",HTTP_STATUS_UPDATE:"http_status_update",IMPRESSION:"impression",INLINE_CLICK_TO_PLAY:"inline_click_to_play",INVALID_URL:"invalid_url",MUTED:"muted",NO_SURFACE_UPDATE:"no_surface_update",PAUSED:"paused",PLAY_REQUESTED:"play_requested",PLAY_REQUESTED_OOB:"play_requested_oob",PLAYER_ALLOCATED:"player_allocated",PLAYER_FORMAT_CHANGED:"player_format_changed",PLAYER_LOADED:"player_loaded",PLAYING_LIVE_STARTED:"playing_live_started",PLAYING_LIVE_STOPPED:"playing_live_stopped",POP_FAILOVER:"pop_failover",PROGRESS:"progress",QUALITY_CHANGE:"quality_change",R2D2_SUMMARY:"r2d2_summary",R2D2_EVENT_VALIDATION:"r2d2_event_validation",READY_TO_PLAY:"ready_to_play",REPLAYED:"replayed",REPRESENTATION_ENDED:"representation_ended",REPRESENTATION_FIRST_ENDED:"representation_first_ended",REQUESTED:"requested",REQUESTED_PLAYING:"requested_playing",SCRUBBED:"scrubbed",SEEKED:"seeked",SPLASH_DISPLAYED:"splash_displayed",STALE:"stale",STARTED_PLAYING:"started_playing",STARTED_RECEIVING_BYTES:"started_receiving_bytes",STOPPED_PLAYING:"stopped_playing",STREAM_RESET:"stream_reset",SURFACE_UPDATED:"surface_updated",SWITCHED_IMPLEMENTATION:"switched_implementation",UNMUTED:"unmuted",UNPAUSED:"unpaused",VIDEO_CHAINING_IMPRESSION:"video_chaining_impression",VIDEO_CHAINING_TAP:"video_chaining_tap",VIDEO_CLICKED_WITHIN_PLAYER:"video_clicked_within_player",VIDEO_PLAYER_SERVICE_DISCONNECTED:"video_player_service_disconnected",VIDEO_PLAYER_SERVICE_RECONNECTED:"video_player_service_reconnected",VIDEO_PLAYER_SERVICE_UNAVAILABLE:"video_player_service_unavailable",VIDEO_PLAYING:"video_playing",VIDEO_SKIP_AD:"video_skip_ad",VOLUME_CHANGED:"volume_changed",VOLUME_DECREASE:"volume_decrease",VOLUME_INCREASE:"volume_increase",WATCH_AND_SCROLL_CHANNEL_ENTERED:"watch_and_scroll_channel_entered",WATCH_AND_SCROLL_EXITED:"watch_and_scroll_exited",WATCH_AND_SCROLL_ICON_HIGHLIGHTED:"watch_and_scroll_icon_highlighted",WATCH_AND_SCROLL_ICON_UNHIGHLIGHTED:"watch_and_scroll_icon_unhighlighted",WATCH_AND_SCROLL_PAUSED:"watch_and_scroll_paused",LIVE_SEGMENT_LOAD_ERROR:"live_segment_load_error",MANIFEST_DATA_TYPE_ERROR:"manifest_data_type_error",MANIFEST_LOAD_ERROR:"manifest_load_error",PLAYER_WARNING:"player_warning",PLAYHEAD_FELL_BEHIND_ERROR:"playhead_fell_behind_error",STREAM_SEGMENT_LOAD_ERROR:"stream_segment_load_error",UNEXPECTED_SEGMENT_ERROR:"unexpected_segment_error",NETWORK_TIMEOUT:"network_timeout",VIDEO_LOGGING_SESSION_TIMEOUT:"video_logging_session_timeout",COMPLETION:"completion",VIEW:"view",PLAYED_FOR_THREE_SECONDS:"played_for_three_seconds",GUIDE_ENTERED:"guide_entered",GUIDE_EXITED:"guide_exited",HEADING_RESET:"heading_reset",SPHERICAL_FALLBACK_ENTERED:"spherical_fallback_entered",SPHERICAL_VIDEO_FALLBACK_CTA_CLICKED:"spherical_video_fallback_cta_clicked",VIEWPORT_ROTATED:"viewport_rotated",VIEWPORT_ZOOMED:"viewport_zoomed",BANZAI_OAUTH_GK_ERROR:"banzai_oauth_gk_error",BANZAI_OAUTH_PARSE_ERROR:"banzai_oauth_parse_error",BANZAI_OAUTH_SESSION_ERROR:"banzai_oauth_session_error",VIEWABILITY_CHANGED:"viewability_changed"})}),null);
__d("dangerouslyOverrideMediaElementEndedProperty",[],(function(a,b,c,d,e,f){function a(a){a===void 0&&(a={});a.dangerouslyOverrideMediaElementEndedProperty=!0;return a}a.isEnded=function(event){return!!(event&&event.detail&&event.detail.dangerouslyOverrideMediaElementEndedProperty)};e.exports=a}),null);
__d("HTMLMediaElementReadyStates",[],(function(a,b,c,d,e,f){a={HAVE_NOTHING:0,HAVE_METADATA:1,HAVE_CURRENT_DATA:2,HAVE_FUTURE_DATA:3,HAVE_ENOUGH_DATA:4};e.exports=a}),null);
__d("getHTMLMediaElementMutedState",["HTMLMediaElementReadyStates"],(function(a,b,c,d,e,f,g){function a(a){if(a.readyState>=g.HAVE_METADATA)return a.muted;else return a.hasAttribute("muted")||a.muted}e.exports=a}),null);
__d("HVideoPlayerMixin",["EventListener","UserAgent","VideoPlayerHTML5Experiments","VideoPlayerLoggerEvent","dangerouslyOverrideMediaElementEndedProperty","getHTMLMediaElementMutedState"],(function(a,b,c,d,e,f,g,h,i,j,k,l){__p&&__p();var m=-1,n=!!(window.performance&&window.performance.now&&window.performance.timing&&window.performance.timing.navigationStart);function o(a,event){__p&&__p();a.time_ms=Date.now();var b=event.timeStamp;if(b&&n){var c=Math.floor(b).toString().length,d=Date.now().toString().length,e=window.performance.now();if(c===d+3)b=Math.floor(b/1e3),a.time_ms=b;else if(c===d)a.time_ms=b;else if(b<=e){c=window.performance.timing.navigationStart;a.time_ms=c+Math.floor(b)}}return a}a={initLogger:function(a,b,c){__p&&__p();this._loggedEvents={};this._logFunction=a;this._useEventTime=b;a=this.getVideoElement();c&&(this._overwriteVideoCurrentTimeProperty(a),this._didOverwriteVideoCurrentTimeProperty||(this.preventSeekLoggingInMixin=!0));this._lastStartTimePosition=m;this._muted=l(a);this._pausedPosition=m;this._seeking=!1;this._seekSourceTimePosition=m;this._currentTimeAtSeekStart=m;this._volume=a.volume;this._hasBlockedPausedRepresentationEnded=!1;this._logNextPlayingEvent=!0;this._lastPlayedTime=m;b=!1;a.readyState>=a.HAVE_FUTURE_DATA?this._logReadyToPlay():b=!0;if(this.skipSubscriptions())return;c=this.getSubscriptions();b&&c.addSubscriptions(g.listen(a,"canplay",this._logReadyToPlay.bind(this)));c.addSubscriptions(g.listen(a,"ended",this.onEnded.bind(this)),g.listen(a,"pause",this.onPause.bind(this)),g.listen(a,"playing",this.onPlaying.bind(this)),g.listen(a,"seeked",this.onSeeked.bind(this)),g.listen(a,"seeking",this.onSeeking.bind(this)),g.listen(a,"play",this.onPlay.bind(this)),g.listen(a,"loadedmetadata",this.onLoadedMetadata.bind(this)),g.listen(a,"timeupdate",this.onTimeUpdate.bind(this)),g.listen(a,"volumechange",this.onVolumeChange.bind(this)))},skipSubscriptions:function(){return!1},onCanPlay:function(a){this._logReadyToPlay(a)},onPlay:function(a){this._logNextPlayingEvent=!0,this._ignoreNextPlaying=!1,this._pendingPlayRequest=!0},logHeartbeat:function(){if(i.heartbeatUpdateWatchTime){this._logEvent(j.HEART_BEAT,this._getWatchTimeClosingLogData({}));var a=this._getVideoCurrentTime();this._lastStartTimePosition=a;this._lastPlayedTime=a}else this._logEvent(j.HEART_BEAT)},_getWatchTimeClosingLogData:function(a){this._lastPlayedTime=this._getVideoCurrentTime();return this._amendEventTime(babelHelpers["extends"]({video_last_start_time_position:this._lastStartTimePosition===m?this._lastPlayedTime:this._lastStartTimePosition,video_time_position:this._lastPlayedTime},a))},_logOnce:function(event,a){if(this._loggedEvents[event])return;this._logEvent(event,a)},_logEvent:function(event,a){__p&&__p();this._loggedEvents[event]=!0;a=a?a:{};a.video_id=this.getVideoID();a.has_blocked_paused_representation_ended=this._hasBlockedPausedRepresentationEnded;Object.prototype.hasOwnProperty.call(a,"video_time_position")||(a.video_time_position=this._getVideoCurrentTime());a.time_ms||(a.time_ms=Date.now());a.time=Math.round(a.time_ms/1e3);if(this.getAdClientToken){var b=this.getAdClientToken();b&&(a.ad_client_token=b)}this.getPlayerFormat&&(a.player_format=this.getPlayerFormat());this.getPlayerOrigin&&(a.player_origin=this.getPlayerOrigin());this.getPlayerSuborigin&&(a.player_suborigin=this.getPlayerSuborigin());if(this.getExternalLogIDAndType){b=this.getExternalLogIDAndType();var c=b.externalLogID;b=b.externalLogType;a.external_log_id=c;a.external_log_type=b}this._logFunction(event,a)},_logReadyToPlay:function(){this._logOnce(j.READY_TO_PLAY)},onPause:function(a){__p&&__p();this._logNextPlayingEvent=!0;var b=this.getVideoElement();if(this._pendingPlayRequest){var c={debug_reason:this.getLastPlayReason()};this._pendingPlayRequest=!1;this._logEvent(j.CANCELLED_REQUESTED_PLAYING,c);return}c=!!this._getVideoPlayerShakaConfig()&&this._getVideoPlayerShakaConfig().getBool("abort_loading_decisioning_logic",!1);var event=b.ended||c&&k.isEnded(a)?j.FINISHED_PLAYING:j.PAUSED;c=this._getVideoCurrentTime();c&&(this._lastPlayedTime=c);c=this._lastPlayedTime;var d=this._lastStartTimePosition===m?this._lastPlayedTime:this._lastStartTimePosition;i.preventNegativeTimePositions&&(this._lastPlayedTime<0&&(c=0,this._lastStartTimePosition<0&&(d=0)));var e=a.lastPauseReason;if(event===j.FINISHED_PLAYING)c=Math.max(c,b.duration);else if(this.preventPauseLoggingInMixin===!0)return;else this.preventPauseLoggingInMixin===!1&&(e=e||"unloaded");this._logEvent(event,this._amendEventTime({video_last_start_time_position:d,video_time_position:c,debug_reason:e},a));this._lastStartTimePosition=m},onEnded:function(){this._logNextPlayingEvent=!0,this._lastStartTimePosition!==m&&h.isBrowser("IE")&&this.onPause({})},onBlockedPausedRepresentationEnded:function(){this._hasBlockedPausedRepresentationEnded=!0},logRepresentationEnded:function(a){__p&&__p();if(a){a={representation_id:a.representationID,next_representation_id:a.nextRepresentationID,stream_switch_reason:a.streamSwitchReason};i.newStateChangeCalculation&&(a=this._getWatchTimeClosingLogData(a));this._logEvent(j.REPRESENTATION_ENDED,a);if(i.newStateChangeCalculation){a=this._getVideoCurrentTime();this._lastStartTimePosition=a;this._lastPlayedTime=a}}},addWatchTimeData:function(a){this._lastStartTimePosition!=m&&this._lastPlayedTime!=m&&(a.video_last_start_time_position=this._lastStartTimePosition,a.video_time_position=this._lastPlayedTime,this._lastStartTimePosition=m);return a},getLastPlayReason:function(){return null},getVideoPlayReason:function(){return null},onPlaying:function(a){__p&&__p();if(!this._logNextPlayingEvent)return;i.superficialUnpauseEventsFix&&(this._logNextPlayingEvent=!1);if(this._ignoreNextPlaying){this._ignoreNextPlaying=!1;return}var b=this.getLastPlayReason();this._pendingPlayRequest=!1;var event=this._loggedEvents[j.STARTED_PLAYING]?j.UNPAUSED:j.STARTED_PLAYING;b=this._amendEventTime({debug_reason:b,video_play_reason:this.getVideoPlayReason()},a);a=this._getVideoCurrentTime();if(i.useCurrentTimeAdjustment){var c=this.getVideoElement().currentTime;c=c-a;b.time_ms-=Math.round(c*1e3)}this._logEvent(event,b);this._lastStartTimePosition=a;this._lastPlayedTime=a;this._currentTimeAtLoadedMetadataCache=null},allowNextSeekInMixin:function(){this._allowNextSeek=!0},onSeeked:function(a){__p&&__p();this._seeking=!1;var b=this._seekSourceTimePosition;this._seekSourceTimePosition=m;if(this.preventSeekLoggingInMixin&&!this._allowNextSeek){this._pendingPlayRequest||(this._ignoreNextPlaying=!0);return}this._allowNextSeek=!1;this._ignoreNextPlaying=!1;var c={video_seek_source_time_position:b,video_last_start_time_position:b};this.preventSeekLoggingInMixin&&(this._lastStartTimePosition!==m?c.video_last_start_time_position=this._lastStartTimePosition:c.video_last_start_time_position=b);this._logEvent(j.SCRUBBED,this._amendEventTime(c,a));b=this.getVideoElement();b.paused?this._lastStartTimePosition=m:this._lastStartTimePosition=this._getVideoCurrentTime()},onSeeking:function(a){this._currentTimeAtLoadedMetadataCache=null,this._seeking||(this._seekSourceTimePosition=this._getVideoCurrentTime(),this._seeking=!0),this._currentTimeAtSeekStart=m},onTimeUpdate:function(a){this._currentTimeAtLoadedMetadataCache=null;a=this.getVideoElement();a.paused||(this._lastPlayedTime=this._getVideoCurrentTime())},onVolumeChange:function(a){__p&&__p();var b=this.getVideoElement(),c={},event=null;if(i.useFixedVolumeLogging){var d=b.muted,e=this._muted,f=b.volume,g=this._volume;c.current_volume=Math.round(f*100);this._volume=f;this._muted=d;d=d||f==0;e=e||g==0;if(e&&d)return;if(e!=d)d?event=j.MUTED:event=j.UNMUTED;else{if(g==f)return;f<g?event=j.VOLUME_DECREASE:event=j.VOLUME_INCREASE}}else b.muted!==this._muted&&b.volume===this._volume&&b.volume>0?event=b.muted?j.MUTED:j.UNMUTED:(event=b.volume>this._volume?j.VOLUME_INCREASE:j.VOLUME_DECREASE,c.current_volume=Math.round(b.volume*100)),this._muted=b.muted,this._volume=b.volume;this._logEvent(event,this._amendEventTime(c,a))},_amendEventTime:function(a,event){var b=this._useEventTime;i.fixEventTimeLogging&&(b=b&&event);if(b)return o(a,event);else a.time_ms=Date.now();return a},_getVideoCurrentTime:function(){var a=this._currentTimeAtSeekStart===m?this.getVideoElement().currentTime:this._currentTimeAtSeekStart;a=a.toFixed(2);i.useCurrentTimeAdjustment&&(this._currentTimeAtLoadedMetadataCache!=null&&(a=this._currentTimeAtLoadedMetadataCache.toFixed(2)));return i.fixCurrentTimeType?+a:a},_getVideoPlayerShakaConfig:function(){return this.getVideoPlayerShakaConfig&&typeof this.getVideoPlayerShakaConfig==="function"?this.getVideoPlayerShakaConfig():null},onLoadedMetadata:function(a){this._currentTimeAtLoadedMetadataCache=this.getVideoElement().currentTime},_overwriteVideoCurrentTimeProperty:function(a){__p&&__p();this._didOverwriteVideoCurrentTimeProperty=!1;try{var b=Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(HTMLMediaElement.prototype,"currentTime");if(!b)return;if(typeof b.get!=="function"||typeof b.set!=="function")return;Object.defineProperty&&Object.defineProperty(a,"currentTime",{get:function(){return b.get.call(this)},set:function(c){this._currentTimeAtSeekStart===m&&(this._currentTimeAtSeekStart=b.get.call(a)),b.set.call(a,c)}.bind(this),configurable:!0,enumerable:!0});this._didOverwriteVideoCurrentTimeProperty=!0}catch(a){}}};e.exports=a}),null);
__d("VideoPlayerInitializationEvent",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({REQUESTED_PLAYING:"requested_playing",STARTED_PLAYING:"started_playing"})}),null);
__d("VideoPlayerLoggerErrorStates",[],(function(a,b,c,d,e,f){e.exports={PLAYBACK_FAILURE:"playback_failure",PLAYER_FAILURE:"player_failure"}}),null);
__d("VideoPlayerLoggerErrors",[],(function(a,b,c,d,e,f){e.exports={ENTERED_FALLBACK:"entered_fallback",ERROR_CALLING_FLASH:"error_calling_flash"}}),null);
__d("VideoPlayerLoggerFallbackReasons",[],(function(a,b,c,d,e,f){e.exports={TIMEOUT:"timeout",FLASH_ERROR:"flash_error",FLASH_UNAVAILABLE:"flash_unavailable"}}),null);
__d("VideoPlayerLoggerPlayerStates",[],(function(a,b,c,d,e,f){e.exports={STARTED:"started",UNPAUSED:"unpaused"}}),null);
__d("VideoPlayerLoggerSource",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ADS:"ads",ANIMATED_IMAGE_SHARE:"animated_image_share",ASSET:"asset",BROADCAST_REQUEST_ATTACHMENT:"broadcast_request_attachment",CAMERA_POST:"camera_post",CHAINED:"chained",CHAINED_SUGGESTION:"chained_suggestion",CHANNEL:"channel",CONTINUE_WATCHING_RECOMMENDATION:"continue_watching_recommendation",EMBEDDED:"embedded",EMBEDDED_PAGE_PLUGIN:"embedded_page_plugin",EMBEDDED_VIDEO:"embedded_video",EMBEDDED_VIDEO_FROM_UFI:"embedded_video_from_ufi",EMBEDDED_VIDEO_PREVIEW:"embedded_video_preview",GAMEROOM_LIVE_VIDEO_HERO_BANNER:"gameroom_live_video_hero_banner",GAMEROOM_LIVE_VIDEO_TAB:"gameroom_live_video_tab",GAMEROOM_LIVE_VIDEO_THUMBNAIL:"gameroom_live_video_thumbnail",GAMES_VIDEO_LIVE_RECOMMENDATION:"games_video_live_recommendation",GAMES_VIDEO_HOME:"games_video_home",GAMES_VIDEO_HOME_HERO:"games_video_home_hero",GAMES_VIDEO_HOME_STREAMER_HUB:"games_video_home_streamer_hub",GAMES_VIDEO_SINGLE_GAME:"games_video_single_game",GAMES_VIDEO_SEARCH_UNIT:"games_video_search_unit",GAMES_VIDEO_SOCIAL_PLUGIN:"games_video_social_plugin",GAMES_VIDEO_HUB:"games_video_hub",GAMES_VIDEO_HUB_REDIRECT_NOTIFICATION:"games_video_hub_redirect_notification",GAMES_VIDEO_HUB_REDIRECT_UNKNOWN:"games_video_hub_redirect_unknown",GROUP_LIVE_VIDEO_MODULE:"group_live_video_module",HTML5:"html5",INLINE:"inline",INSIGHTS:"insights",ISSUES_MODULE:"issues_module",LIVE_BEEPER:"live_beeper",LIVE_CONTROL_PANEL:"live_control_panel",LIVE_MAP:"live_map",LIVE_MAP_LISTVIEW:"live_map_listview",LIVE_MAP_SIDEBAR:"live_map_sidebar",LIVE_MAP_TOOLTIP:"live_map_tooltip",LIVE_MAP_TOOLTIP_FROM_LISTVIEW:"live_map_tooltip_from_listview",LIVE_MAP_TOOLTIP_FROM_MAP:"live_map_tooltip_from_map",LIVE_MAP_TOOLTIP_FROM_WEBGL:"live_map_tooltip_from_webgl",LIVE_VIDEO_BROADCAST:"live_video_broadcast",LIVE_VIDEO_PREVIEW:"live_video_preview",LIVING_ROOM:"living_room",LIVING_ROOM_RECAP_FULLSCREEN:"living_room_recap_fullscreen",LIVING_ROOM_RECAP_INLINE:"living_room_recap_inline",LOOKBACK:"lookback",MEDIA_COLLAGE:"media_collage",MEMORY_LEAK_TEST:"memory_leak_test",MESSAGING:"messaging",MISC:"misc",MOBILE:"mobile",OFFERS_DETAIL:"offers_detail",PAGE_LIVE_VIDEO_MODULE:"page_live_video_module",PAGES_FINCH_MAIN_VIDEO:"pages_finch_main_video",PAGES_FINCH_THUMBNAIL_VIDEO:"pages_finch_thumbnail_video",PAGES_FINCH_TRAILER:"pages_finch_trailer",PAGES_VIDEO_SET:"pages_video_set",PAGES_COVER:"pages_cover",PAGES_TIMELINE_PAGES_COVER:"pages_timeline_pages_cover",PAGES_COVER_HOVER:"pages_cover_hover",PAGES_HOME_HERO:"pages_home_hero",VIDEO_PAGE_VIDEO_LIST:"video_page_video_list",PERMALINK:"permalink",PROFILE_OVERVIEW:"profile_overview",PROFILE_COVER:"profile_cover",PROFILE_VIDEO:"profile_video",PROFILE_VIDEO_HOVERCARD:"profile_video_hovercard",PROFILE_VIDEO_THUMB:"profile_video_thumb",REPORT_FLOW:"report_flow",REVIEW:"review",SEARCH_LIVE_VIDEO_MODULE:"search_live_video_module",SERP_VIDEOS_TAB:"serp_videos_tab",SLIDESHOW:"slideshow",SNOWLIFT:"snowlift",SRT_REVIEW:"srt_review",TAHOE:"tahoe",TOPIC_CHANNEL_LIVING_ROOM:"topic_channel_living_room",TOPIC_GAMING:"topic_gaming",TRAILER_OG_ATTACHMENT:"trailer_og_attachment",TRAILER_TIMELINE_COLLECTIONS:"trailer_timeline_collections",TRAILER_TIMELINE_UNIT:"trailer_timeline_unit",TRIVIA_GAME_ADMIN_DASHBOARD:"trivia_game_admin_dashboard",TV:"tv",USER_VIDEO_TAB:"user_video_tab",VIDEO_COPYRIGHT_PREVIEW:"video_copyright_preview",VIDEO_HOME_INLINE:"video_home_inline",VIDEO_HOME_EXPLORE:"discover",VIDEO_HOME_WATCHLIST:"watchlist",VIDEO_INLINE_CHAINING:"video_inline_chaining",VIDEOHUB_FEATURED:"videohub_featured",VIDEOHUB_LIVE:"videohub_live",VIDEOHUB_PLAYLIST:"videohub_playlist",WATCH_SCROLL:"watch_scroll",UFI_COMMENT_ATTACHMENT:"ufi_comment_attachment",LIVE_AUTOPLAY_WATCH_AND_SCROLL:"live_autoplay_watch_and_scroll",GAMES_VIDEO_STREAMER_SEARCH_UNIT:"games_video_streamer_unit",GAMES_STREAMER_DASHBOARD:"games_streamer_dashboard"})}),null);
__d("VideoPlayerLogger",["Banzai","FBLogger","VideoPlayerExperiments","VideoPlayerHTML5Experiments","VideoPlayerInitializationEvent","VideoPlayerLoggerErrors","VideoPlayerLoggerErrorStates","VideoPlayerLoggerEvent","VideoPlayerLoggerFallbackReasons","VideoPlayerLoggerPlayerStates","VideoPlayerLoggerSource","invariant","performanceAbsoluteNow"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){"use strict";__p&&__p();var t=j.useBanzaiVitalForLive,u=j.discerningAbandonStallLogging,v="video_player",w=5e3,x=function(){return j.useMonotonicallyIncreasingTimers?s():Date.now()};function a(a,b){this.$2=a,this.$3=null,this.$6={},this.$4=b,this.$8=0,this.$9=0,this.$10=0,this.$11=0,this.$7=[],this.$19=0,this.$20=0,this.$12=0,this.$25=!1,this.$16=!1,this.$26(),this.$27()}a.prototype.updateSource=function(a){this.$2=a};a.prototype.getSource=function(){return this.$2};a.prototype.logEvent=function(event,a){__p&&__p();a=babelHelpers["extends"]({},a,this.$4);a.initial_event=!Object.prototype.hasOwnProperty.call(this.$6,event);Object.prototype.hasOwnProperty.call(a,"time_ms")||(a.time_ms=x());Object.prototype.hasOwnProperty.call(a,"time")||(a.time=Math.round(a.time_ms/1e3));a.is_stalling=this.$28();a.error_user_info=this.$29(a.error_user_info);this.$3&&Object.assign(a,this.$3);switch(event){case n.PAUSED:case n.FINISHED_PLAYING:if(this.$24){var b=this.$24,c=b.getABREvaluation();a.ideal_samples=c.idealSamples;a.conservative_samples=c.conservativeSamples;a.aggressive_samples=c.aggressiveSamples;a.conservative_resolution_constrained_samples=c.conservativeResolutionConstrainedSamples;a.last_quality_switch_reason=c.lastQualitySwitchReason;a.reason&&b.setLastQualitySwitchReason(a.reason)}break}switch(event){case n.STARTED_PLAYING:case n.UNPAUSED:this.$25=!0;break;case n.FINISHED_PLAYING:case n.ERROR:case n.PAUSED:this.$25=!1;break}switch(event){case n.REQUESTED_PLAYING:this.$26();this.$30();this.$6[n.STARTED_PLAYING]?a.state=p.UNPAUSED:a.state=p.STARTED;break;case n.STARTED_PLAYING:case n.UNPAUSED:case n.FINISHED_PLAYING:case n.CANCELLED_REQUESTED_PLAYING:case n.ERROR:case n.PAUSED:case n.REPRESENTATION_ENDED:case n.HEART_BEAT:if(event===n.ERROR&&i.disableStallLoggingForError)break;if(event==n.REPRESENTATION_ENDED&&!this.$6[n.STARTED_PLAYING])break;if(event===n.HEART_BEAT&&(!this.$6[n.STARTED_PLAYING]||!j.heartbeatUpdateWatchTimeV2||this.$28()))break;event===n.HEART_BEAT&&(a.v2_heart_beat=!0);(event===n.STARTED_PLAYING||event===n.UNPAUSED)&&(this.$12=a.time_ms,this.$31());if(event===n.ERROR&&a.state!==m.PLAYBACK_FAILURE)break;event===n.CANCELLED_REQUESTED_PLAYING&&(this.$6[n.STARTED_PLAYING]?a.state=p.UNPAUSED:a.state=p.STARTED);this.$32();this.$33();(event===n.PAUSED||event===n.FINISHED_PLAYING)&&(u&&event===n.FINISHED_PLAYING&&this.$31(),a.recent_stalls_count=this.$34());this.$35();this.$36(a);this.$37(a);this.$27();u&&this.$31();this.$26();break}c={logData:a,event:event,scriptPath:this.$1,source:this.$2};event||h("video").warn("Missing event name");this.$6[event]=!0;if(this.$2===q.ANIMATED_IMAGE_SHARE)return null;a.ad_client_token||t&&a.playback_is_live_streaming?g.post(v,c,g.VITAL):j.useVitalForClosing&&(event===n.PAUSED||event===n.FINISHED_PLAYING||event===n.HEART_BEAT)?g.post(v,c,g.VITAL):j.useVitalForOpening&&(event===n.UNPAUSED||event===n.STARTED_PLAYING)?g.post(v,c,g.VITAL):g.post(v,c);return c};a.prototype.setScriptPath=function(a){this.$1=a};a.prototype.setFTData=function(a){this.$3=a};a.prototype.setABRQualityTracker=function(a){this.$24=a};a.prototype.startBuffering=function(a){this.$30(a)};a.prototype.endBuffering=function(){this.$33(),this.$38(),this.$32(),this.$35()};a.prototype.startInterrupt=function(){this.$39()};a.prototype.endInterrupt=function(){this.$33(),this.$38()};a.prototype.$28=function(){return this.$15>0};a.prototype.$30=function(a){if(this.$28())return;this.$16=this.$25;this.$15=Date.now();a!==undefined&&this.$6[n.STARTED_PLAYING]&&(this.$17=a)};a.prototype.$39=function(){if(this.$40())return;this.$21=Date.now()};a.prototype.$40=function(){return this.$21>0};a.prototype.$41=function(){return!this.$40()?0:Date.now()-this.$21};a.prototype.$42=function(){return this.$28()?Date.now()-this.$15:0};a.prototype.$33=function(){if(this.$40()){var a=this.$41();this.$22+=a;this.$20+=a;this.$23+=1;this.$19+=1}};a.prototype.$38=function(){this.$40()&&(this.$21=0)};a.prototype.$27=function(){this.$22=0,this.$23=0,this.$38()};a.prototype.$32=function(){__p&&__p();if(this.$28()){var a=this.$42();this.$17!==null&&(this.$18=a);this.$14+=a;this.$9+=a;this.$13++;this.$8++;this.$16&&(this.$11+=a,this.$10++,this.$16=!1);u&&this.$7.push(x())}};a.prototype.$35=function(){this.$28()&&(this.$15=0)};a.prototype.$29=function(a){return a&&typeof a==="object"?JSON.stringify(a):a};a.prototype.getCumulativeStallCount=function(){return this.$8};a.prototype.getCumulativeInPlayStallCount=function(){return this.$10};a.prototype.getStallCount=function(){return this.$13};a.prototype.getCumulativeStallTime=function(){return this.$9+this.$42()};a.prototype.getCumulativeInPlayStallTime=function(){return this.$11+(this.$16?this.$42():0)};a.prototype.getCumulativeInterruptCount=function(){return this.$19};a.prototype.getCumulativeInterruptTime=function(){return this.$20+this.$41()};a.prototype.$36=function(a){a.stall_time=Math.max(0,this.$14),a.stall_count=this.$13,this.$18&&(a.first_stall_time=this.$18,a.first_stall_start_position=this.$17)};a.prototype.$37=function(a){a.interrupt_time=Math.max(0,this.$22),a.interrupt_count=this.$23};a.prototype.$34=function(){var a=x(),b=a-w;this.$7=this.$7.filter(function(a){return a>=b});u||this.$13>0&&this.$7.push(a);return this.$7.length};a.prototype.$26=function(){this.$14=0,this.$15=0,this.$13=0,this.$17=null,this.$18=0};a.prototype.$31=function(){this.$7=[]};a.prototype.getFTdata=function(){return this.$3};a.Sources=q;a.Errors=l;a.FallbackReasons=o;a.ErrorStates=m;a.PlayerStates=p;e.exports=a}),null);
__d("HVideoPlayerLoggerMixin",["EventListener","HVideoPlayerMixin","VideoPlayerLogger","VideoPlayerLoggerEvent"],(function(a,b,c,d,e,f,g,h,i,j){__p&&__p();a={};b={initLogger:function(){__p&&__p();g.listen(this.getVideoElement(),"play",function(){return this._onPlayLogUnmute()}.bind(this));this._logger=new i(i.Sources.HTML5);var a=function(event,a){var b=this.getSavedOffline(),c=this.getConnectivityType(),d=this.getResourceUrl();a=babelHelpers["extends"]({},a,{saved_offline:b,connectivity_type:c,resource_url:d});a=this.addVideoViewabilityToKeyEvents(event,a);event===j.UNMUTED&&(this._unmutedWasLogged=!0);a=Object.assign(a,this.getAdditionalLogData(event));this._logger.logEvent(event,a)}.bind(this);h.initLogger.call(this,a)},_onPlayLogUnmute:function(){var a=this.getLastPlayReason();!this._unmutedWasLogged&&this.getVideoElement()&&!this.getVideoElement().muted&&a=="user_initiated"&&this._logEvent(j.UNMUTED)},getLogger:function(){return this._logger},getAdClientToken:function(){if(this.getConfig){var a=this.getConfig();if(a.ad_client_token)return a.ad_client_token}},getSavedOffline:function(){return null},logDisplayed:function(){this._logEvent(j.DISPLAYED,{is_auto_played:!0})},logPauseEvent:function(a){this.onPause(a?a:{})},logEvent:function(event,a){this._logEvent(event,a)}};Object.assign(a,h);Object.assign(a,b);e.exports=a}),null);
__d("MInlineVideoDebugger",["CSS","DOM","MVideoUtils"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();function a(a,b){"use strict";this.$6=b,this.$7(a),this.$8(),this.$9(),this.$10(),this.$11()}a.prototype.$7=function(a){"use strict";this.$1=h.create("div"),g.conditionClass(this.$1,i.DEBUGGER_CLASS,!0),h.insertAfter(a,this.$1)};a.prototype.$8=function(){"use strict";this.$2=h.create("div"),h.appendContent(this.$1,this.$2)};a.prototype.$9=function(){"use strict";this.$3=h.create("div"),h.appendContent(this.$1,this.$3)};a.prototype.$10=function(){"use strict";this.$4=h.create("div"),h.appendContent(this.$1,this.$4)};a.prototype.$11=function(){"use strict";this.$5=h.create("div"),h.appendContent(this.$1,this.$5),this.updateVideoIdDebugger(this.$6.videoID)};a.prototype.updateViewabilityLoggingDebugger=function(a){"use strict";h.setContent(this.$2,"viewability:"+a)};a.prototype.updatePlayerStateDebugger=function(a){"use strict";h.setContent(this.$3,"player state:"+a)};a.prototype.updateLastActionReasonDebugger=function(a){"use strict";h.setContent(this.$4,"lastActionReason:"+a)};a.prototype.updateVideoIdDebugger=function(a){"use strict";h.setContent(this.$5,"video ID:"+a)};a.prototype.cleanUp=function(){"use strict";h.remove(this.$1)};e.exports=a}),null);
__d("SubRipText",[],(function(a,b,c,d,e,f){__p&&__p();var g={size:"90%"};function h(a){__p&&__p();var b=Number(a.substr(0,a.length-1)),c=a.substr(-1);switch(c){case"s":return b;case"m":return b*60;case"h":return b*3600}c=a.split(":");b=Number(c[c.length-1].replace(/,/,"."));c.length>1&&(b+=Number(c[c.length-2])*60);c.length>2&&(b+=Number(c[c.length-3])*3600);return b}function i(a){__p&&__p();a=a.split(/\r\n|\r|\n/).map(function(a){return a.trim()});var b=[],c=0;do{var d=a.indexOf("",c);d<0&&(d=a.length);var e=k(a.slice(c,d));e&&b.push(e);c=d+1}while(c>0&&c<a.length);return b}function j(a){a=a.split("-->");if(a.length!=2)return null;var b=h(a[0].trim());a=h(a[1].trim());return Number.isNaN(a)||Number.isNaN(b)?null:{begin:b,end:a}}function k(a){if(a.length<3)return null;var b=l(a[0]),c=j(a[1]);return!c?null:{counter:b,begin:c.begin,end:c.end,text:a.slice(2,6)}}function l(a){return Number(a.trim())}function m(a){a=a.split(".");return a[0].length<2?"0"+a.join("."):a.join(".")}function n(a){var b=m(Math.floor(a/3600).toString()),c=m(Math.floor(a%3600/60).toString());a=m((a%60).toFixed(3));return b+":"+c+":"+a}function o(a,b,c){var d="";if(c)for(var e in c)d+=" "+e+":"+c[e];return n(a)+" --> "+n(b)+d}function p(a,b){return a.counter+"\n"+o(a.begin,a.end,b)+"\n"+a.text.join("\n")+"\n"}function q(a,b){return"WEBVTT\n\n"+a.map(function(a){return p(a,b)}).join("\n")}function a(a){"use strict";this.$1=i(a),this.$1.sort(function(a,b){return a.counter-b.counter}),this.$2=this.$1.map(function(a,b){return b}).sort(function(a,b){return this.$1[a].begin-this.$1[b].begin}.bind(this)),this.invalidateCache(),this.$6=g}a.prototype.$7=function(a){"use strict";return this.$1[this.$2[a]]};a.prototype.$8=function(a){"use strict";var b=this.$3;while(b<this.$2.length){var c=this.$7(b);if(c.begin<=a)this.$4.push(c),b++;else break}this.$3=b};a.prototype.$9=function(a){"use strict";this.$4=this.$4.filter(function(b){return b.end>a})};a.prototype.invalidateCache=function(){"use strict";this.$5=0,this.$4=[],this.$3=0};a.prototype.setStyle=function(a){"use strict";this.$6=a};a.prototype.getSubtitles=function(a){"use strict";a<this.$5&&this.invalidateCache();this.$5=a;this.$8(a);this.$9(a);return this.$4.reduce(function(a,b){return a.concat(b.text)},[])};a.prototype.renderVTT=function(){"use strict";return q(this.$1,this.$6)};e.exports=a}),null);
__d("MVideoSubtitles",["DOM","EventListener","SubRipText","XHRRequest","emptyFunction","fbt","getCrossOriginTransport"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m){__p&&__p();var n=a.URL||a.webkitURL;function b(a){"use strict";this.$1=a,this.$2=k}b.prototype.$3=function(a){"use strict";a=new i(a);a=new Blob([a.renderVTT()],{type:"text/vtt"});return n.createObjectURL(a)};b.prototype.loadSubtitles=function(a){"use strict";if(!n)return;new j(a).setTransportBuilder(m).setMethod("GET").setResponseHandler(function(a){this.$4(this.$3(a))}.bind(this)).send()};b.prototype.$4=function(a){"use strict";a=g.create("track",{label:l._("On"),kind:"captions",src:a});h.listen(a,"load",function(){this.$2()}.bind(this));g.appendContent(this.$1,a);this.hideSubtitles()};b.prototype.showSubtitles=function(){"use strict";Array.prototype.forEach.call(this.$1.textTracks,function(a){return a.mode="showing"})};b.prototype.hideSubtitles=function(){"use strict";Array.prototype.forEach.call(this.$1.textTracks,function(a){return a.mode="hidden"})};b.prototype.setOnSubtitlesReady=function(a){"use strict";this.$2=a};e.exports=b}),null);
__d("VideoViewabilityPercentage",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({OFFSCREEN:-2,VIEWABLE_UNKNOWN:-1,VIEWABLE_0:0,VIEWABLE_25:25,VIEWABLE_50:50,VIEWABLE_75:75,VIEWABLE_100:100})}),null);
__d("MVideoViewability",["MFullScreen","VideoViewabilityPercentage","getElementPosition","getViewportDimensions"],(function(a,b,c,d,e,f,g,h,i,j){__p&&__p();var k={shouldLog:function(a){return!!a&&a.videoViewabilityLoggingEnabled&&a.videoViewabilityLoggingPollingRate>0},calculateViewabilityPercentage:function(a){__p&&__p();if(g.isFullScreen())return h.VIEWABLE_100;if(document.hasFocus&&!document.hasFocus())return h.OFFSCREEN;a=k.calculateViewabilityPercentageNumber(i(a));if(a===0)return h.OFFSCREEN;else if(a<25)return h.VIEWABLE_0;else if(a<50)return h.VIEWABLE_25;else if(a<75)return h.VIEWABLE_50;else if(a<100)return h.VIEWABLE_75;else return h.VIEWABLE_100},calculateViewabilityPercentageNumber:function(a){var b=j().width,c=j().height;if(a.width===0||a.height===0)return 0;var d=a.x,e=a.x+a.width,f=a.y,g=a.y+a.height;if(e<=0||d>=b||g<=0||f>=c)return 0;e=Math.min(e,b)-Math.max(d,0);b=Math.min(g,c)-Math.max(f,0);return e*b*100/(a.width*a.height)}};e.exports=k}),null);
__d("VideoPlayerLoggerEventField",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ABANDON_IN_STALL:"abandon_in_stall",ACCESS_TOKEN:"access_token",AD_CLIENT_TOKEN:"ad_client_token",AD_ID:"ad_id",API_CONFIG:"api_config",APP_ID:"app_id",APP_VERSION:"app_version",AUDIO_CHANNEL_LAYOUT:"audio_ch_conf",AUTH_FLAG:"auth_flag",AUTOPLAY_ELIGIBLE:"autoplay_eligible",AUTOPLAY_FAILURE_REASONS:"autoplay_failure_reasons",AUTOPLAY_SETTING:"autoplay_setting",AVAILABLE_QUALITIES:"available_qualities",BATTERY_LEVEL:"battery_level",BROADCASTER_ORIGIN:"broadcaster_origin",BUILD_VERSION:"build_version",CAPTION_STATE:"caption_state",CAST_CLIENT_APP_ID:"cast_client_app_id",CAST_CLIENT_APP_VERSION:"cast_client_app_version",CAST_SESSION_ID:"cast_session_id",CHANNEL_ELIGIBILITY:"channel_eligibility",CHROMECAST_RECEIVER_AVAILABLE:"chromecast_receiver_available",CLIENT_UNIX_TIME:"client_unix_time",CONNECTIVITY_SUBTYPE:"connectivity_subtype",CONNECTIVITY_TYPE:"connectivity_type",CREATOR_APP_ID:"creator_app_id",CURRENT_VIEWABILITY_PERCENTAGE:"current_viewability_percentage",VIEWABILITY_DEBUG_REASON:"viewability_debug_reason",CURRENT_VOLUME:"current_volume",DATA_CONNECTION_QUALITY:"data_connection_quality",DEBUG_REASON:"debug_reason",DEVICE_ID:"device_id",DURATION:"duration",ERROR:"error",ERROR_CODE:"error_code",ERROR_DESCRIPTION:"error_description",ERROR_DOMAIN:"error_domain",ERROR_USER_INFO:"error_user_info",EVENT_NAME:"name",EVENT_BATCH:"batch",EVENT_SEQ_NUM:"event_seq_num",EXTERNAL_LOG_ID:"external_log_id",EXTERNAL_LOG_TYPE:"external_log_type",FB_BANDWIDTH:"fb_bandwidth",FEED_POSITION:"feed_position",FEED_AGGREGATION_TYPE:"feed_aggregation_type",FIRST_STALL_START_POSITION:"first_stall_start_position",FIRST_STALL_TIME:"first_stall_time",FT:"ft",GKS:"gks",HAS_BEEN_LIVE:"has_been_live",HAS_BLOCKED_PAUSED_REPRESENTATION_ENDED:"has_blocked_paused_representation_ended",HD:"hd",HEADSET_STATE:"headset_state",HLS_CURRENT_SEGMENT_URI:"current_segment_uri",HLS_LOADING_SEGMENT_URI:"loading_segment_uri",HLS_SEGMENT_URI:"segment_uri",HLS_STREAM_DATA:"stream_data",HOST_VIDEO_ID:"host_video_id",INLINE:"inline",INSTREAM_VIDEO_AD_BREAK_INDEX:"instream_video_ad_break_index",INSTREAM_VIDEO_AD_BREAK_VIDEO_ID:"instream_video_ad_break_video_id",INTERRUPT_COUNT:"interrupt_count",INTERRUPT_TIME:"interrupt_time",IS_ABR_ENABLED:"is_abr_enabled",IS_AUTO_ADVANCED:"is_auto_advanced",IS_DEEPLINK_USER:"is_deeplink_user",IS_FIRST_TIME_USER:"is_first_time_user",IS_FREE:"is_free",IS_HDS:"is_hds",IS_LIVE_STREAMING:"is_live_streaming",IS_LIVE_VIDEO_REWOUND:"is_live_video_rewound",IS_SHOW_VIDEO:"is_show_video",IS_STALLING:"is_stalling",IS_TEMPLATED_MANIFEST:"is_templated_manifest",LAST_VIEWABILITY_PERCENTAGE:"last_viewability_percentage",NEXT_REPRESENTATION_ID:"next_representation_id",ORIGINAL_VIDEO_ID:"original_video_id",OUTER_STORY_IDENTIFIER:"outer_story_identifier",PLAYBACK_BROADCAST_STATUS:"playback_broadcast_status",PLAYBACK_DURATION:"playback_duration",PLAYBACK_IS_LIVE_STREAMING:"playback_is_live_streaming",PLAYER_FORMAT:"player_format",PLAYER_INSTANCE_KEY:"player_instance_key",PLAYER_ORIGIN:"player_origin",PLAYER_STATE:"player_state",PLAYER_SUBORIGIN:"player_suborigin",PLAYER_VERSION:"player_version",POSITION_IN_CHANNEL:"position_in_channel",POSITION_IN_UNIT:"position_in_unit",PROJECTION:"projection",QES:"qes",REACTION_VIDEO_CHANNEL_ID:"video_channel_id",REACTION_VIDEO_CHANNEL_TYPE:"reaction_video_channel_type",REACTION_VIDEO_CHANNEL_SUBTYPE:"reaction_video_channel_subtype",REASON:"reason",RECENT_STALLS_COUNT:"recent_stalls_count",RECENT_STALLS_TOTAL_COUNT:"recent_stalls_total_count",REFERRER:"referrer",REPRESENTATION_ID:"representation_id",RESOURCE_URL:"resource_url",SAVED_OFFLINE:"saved_offline",SEQ_NUM:"seq_num",SESSION_START_TIME:"session_start_time",SHOW_VIDEO_TYPE:"show_video_type",SOURCE:"source",SPHERICAL_FALLBACK_TYPE:"spherical_fallback_type",STALL_COUNT:"stall_count",STALL_INFO_JSON:"stall_info_json",STALL_TIME:"stall_time",STATE:"state",STREAM_TYPE:"stream_type",STREAMING_FORMAT:"streaming_format",TIME:"time",TIME_DELTA:"time_delta",TIME_MS:"time_ms",TIME_SINCE_CREATION:"time_since_creation",TIME_SPENT_ID:"time_spent_id",TIME_UNTIL_INTERRUPT:"time_until_interrupt",TRANSCODING_METHOD:"transcoding_method",TOTAL_STALL_TIME:"total_stall_time",TRACKING:"tracking",TV_SESSION_ID:"tv_session_id",UNIQUE_TIME_SPENT_MS:"unique_time_spent_ms",UNIT_POSITION:"unit_position",UPSTREAM_PLAYER_SOURCE:"upstream_player_source",USER_ASN:"user_asn",USER_ID:"user_id",VIOLATION_FOUND:"violation_found",V2_HEART_BEAT:"v2_heart_beat",VIDEO_BANDWIDTH:"video_bandwidth",VIDEO_CHAINING_DEPTH_LEVEL:"video_chaining_depth_level",VIDEO_CHAINING_SESSION_ID:"video_chaining_session_id",VIDEO_CHANNEL_ID:"video_channel_id",VIDEO_CHANNEL_TYPE:"video_channel_type",VIDEO_CLIP_START_TIME_MS:"video_clip_start_time_ms",VIDEO_HOME_SESSION_ID:"video_home_session_id",VIDEO_ID:"video_id",VIDEO_INIT_SEQ_ID:"video_init_seq_id",VIDEO_LAST_START_TIME_POSITION:"video_last_start_time_position",VIDEO_PLAY_REASON:"video_play_reason",VIDEO_PLAY_SUBREASON:"video_play_subreason",VIDEO_PLAYER_HEIGHT:"video_player_height",VIDEO_PLAYER_WIDTH:"video_player_width",VIDEO_QUALITY:"video_quality",VIDEO_TIME_POSITION:"video_time_position",VIDEO_BUFFER_END_POSITION:"video_buffer_end_position",VIDEO_TIME_RATIO:"video_time_ratio",VIEWABILITY_PERCENTAGE:"viewability_percentage",WATCH_AND_GO_SESSION_ID:"watch_and_go_session_id",AD_BREAK_VIEWER_SESSION_ID:"ad_break_viewer_session_id",SEEK_FROM_VIDEO_TIME_POSITION:"seek_from_video_time_position",LIVING_ROOM_SESSION_ID:"living_room_session_id"})}),null);
__d("VideoPlayerReason",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({AUTOPLAY:"autoplay_initiated",COMMERCIAL_BREAK:"commercial_break",CONNECTION:"host-connection-error",EMBEDDED_VIDEO_API:"embedded_video_api_initiated",FALLBACK_MODE:"fallback_mode",HOVER:"hover",LOOP:"loop_initiated",NETWORK_INTERRUPTED:"network_interrupted",NETWORK_RESUMED:"network_resumed",PAGE_VISIBILITY:"page_visibility_initiated",SEEK:"seek_initiated",SPHERICAL_FALLBACK:"spherical_fallback",SPHERICAL_SWITCH_CANVAS:"spherical_switch_canvas",SPHERICAL_FAILED:"spherical_failed",UNLOADED:"unloaded",USER:"user_initiated",VIDEO_DATA_REPLACED:"video_data_replaced",VIDEO_DATA_SWITCH:"video_data_switch",VIDEO_VISIBILITY:"video_visibility_initiated",VOD_NOT_READY:"vod_not_ready",WARNING_SCREEN_COVER:"warning_screen_cover"})}),null);
__d("VideoPlayerVersions",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({HTML5:"html5",PLEASANTVILLE:"pleasantville",REACT:"react",REACT_PLEASANTVILLE:"react_pleasantville",REACT_SILVERCITY:"react_silvercity",SILVERCITY:"silvercity",OLD_API_EXO:"old_api_exo",OLD_API_EXO_DEPRECATED:"old_api_exo_deprecated",OLD_API_EXO_NEW_LIB:"old_api_exo_new_lib",OLD_API_PSR:"old_api_psr",HEROPLAYER:"heroplayer",FNF:"fnf",LEGACY:"legacy",REFACTORED:"refactored",MBASIC:"mbasic",MTOUCH_SHAKA_LIVE:"mtouch_shaka_live",MTOUCH_SPHERICAL:"mtouch_360",MTOUCH_OZ:"mtouch_oz",CASTING_DEBUG:"casting_debug",CHROMECAST:"chromecast",WEBAPIS_AVPLAY:"webapis_avplay",FBLITE_LEGACY:"fblite_legacy",FBLITE_SURFACE:"fblite_surface",FBLITE_TEXTURE:"fblite_texture",HERO_SURFACE:"hero_surface",HERO_TEXTURE:"hero_texture",UNKNOWN:"unknown"})}),null);
__d("isCdnURI",["CdnAkamaiDomainsConfig"],(function(a,b,c,d,e,f,g){"use strict";function a(a){if(a.getProtocol()!=="http"&&a.getProtocol()!=="https")return!1;var b=a.getPort();if(!!b&&b!==80&&b!==443)return!1;return a.isSubdomainOfDomain("fbcdn.net")?!0:g[a.getDomain()]!=undefined}e.exports=a}),null);
__d("MVideoPlayerApiBase",["Promise","BanzaiODS","Bootloader","CSS","DataAttributeUtils","DOM","EventListener","HVideoPlayerLoggerMixin","MFullScreen","MInlineVideoDebugger","MParent","MVideoCache","MVideoExperiments","MVideoSubtitles","MVideoUtils","MVideoViewability","Stratcom","StratcomManager","SubscriptionsHandler","URI","VideoPlayerLoggerEvent","VideoPlayerLoggerEventField","VideoPlayerReason","VideoPlayerVersions","VideoViewabilityKeyEvents","clearInterval","isCdnURI","setInterval","setTimeoutAcrossTransitions","mixin","throttle","oz-player/loggings/OzPreInitLogger"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L){__p&&__p();var M,N={PLAY:"play",PLAYING:"playing",PAUSE:"pause",ENDED:"ended",WAITING:"waiting",TIMEUPDATE:"timeupdate",SEEKED:"seeked",SEEKING:"seeking",VOLUMECHANGE:"volumechange",CANPLAY:"canplay",LOADEDMETADATA:"loadedmetadata"},O=L.OzPreInitLoggerProvider,P={CONSTRUCTED:"constructed",INIT_DONE:"init_done",CREATED:"created",FIRST_PLAYING:"first_playing",PLAYING:"playing",CANCELLED_REQUEST_PLAYING:"cancelled_request_playing",PAUSE_WITHOUT_PLAY:"pause_without_play",PAUSED:"paused",ENDED:"ended",FIRST_REQUESTED_PLAYING:"first_requested_playing",REQUESTED_PLAYING:"requested_playing",FIRST_VIDEO_PLAY:"first_video_play",VIDEO_PLAY:"video_play",RESCHEDULE_VIDEO_PLAY:"reschedule_video_play",REQUESTED_PAUSE_BEFORE_STARTED_PLAYING:"requested_pause_before_started_playing",REQUESTED_PAUSE:"requested_pause",DESTROYED_REQUESTED_PLAYING:"destroyed_requested_playing",DESTROY:"destroy"},Q=["canplay","play","seeked","seeking"],R=100,S=1e3/15,T=3e4;b=babelHelpers.inherits(a,J(n));M=b&&b.prototype;function a(a,b){"use strict";__p&&__p();M.constructor.call(this);this.$MVideoPlayerApiBase2=C.USER;this.$MVideoPlayerApiBase5=!0;this.$MVideoPlayerApiBase6=!1;this.$MVideoPlayerApiBase7=!1;this.$MVideoPlayerApiBase8=!1;this.$MVideoPlayerApiBase10=null;this.$MVideoPlayerApiBase11=C.USER;this.$MVideoPlayerApiBase13=!1;this.$MVideoPlayerApiBase19=new Set([]);this.$MVideoPlayerApiBase20=!1;this.$MVideoPlayerApiBase21=!1;this.$MVideoPlayerApiBase26=!1;this.$MVideoPlayerApiBase48=function(){w.invoke("m:video:player:fullscreenchange",null,{videoElement:this.$MVideoPlayerApiBase1,player:this.getVideoElement()})}.bind(this);this.$MVideoPlayerApiBase35=function(){w.invoke("m:video:player:play",null,{videoElement:this.$MVideoPlayerApiBase1,player:this.getVideoElement()}),this.toggleClassOnMVideoElement(u.SHOW_PAUSE_CLASS,!1),this.$MVideoPlayerApiBase49()}.bind(this);this.$MVideoPlayerApiBase36=function(){this.$MVideoPlayerApiBase34(P.FIRST_PLAYING),this.$MVideoPlayerApiBase27(P.PLAYING),this.$MVideoPlayerApiBase9=N.PLAYING,w.invoke("m:video:player:playing",null,{videoElement:this.$MVideoPlayerApiBase1,player:this.getVideoElement()}),this.hideLoadingSpinner(),this.$MVideoPlayerApiBase50(),this.$MVideoPlayerApiBase23&&this.$MVideoPlayerApiBase23.log(),this.$MVideoPlayerApiBase23=null,this.heartbeatEnabled()&&this.$MVideoPlayerApiBase51()}.bind(this);this.$MVideoPlayerApiBase37=function(a){this.$MVideoPlayerApiBase52(),this.$MVideoPlayerApiBase9=N.PAUSE,this.$MVideoPlayerApiBase23&&(this.$MVideoPlayerApiBase23.setResult("aborted").log(),this.$MVideoPlayerApiBase23=null),w.invoke("m:video:player:pause",null,{videoElement:this.$MVideoPlayerApiBase1,player:this.getVideoElement(),destroyed:a}),s.mtouch_prevent_consequent_calls||this.$MVideoPlayerApiBase53(!1),this.hideLoadingSpinner(),this.$MVideoPlayerApiBase54(),this.$MVideoPlayerApiBase55(),this.$MVideoPlayerApiBase56(),this.$MVideoPlayerApiBase24&&(this.$MVideoPlayerApiBase24.log(),this.$MVideoPlayerApiBase24=null)}.bind(this);this.$MVideoPlayerApiBase38=function(){this.$MVideoPlayerApiBase27(P.ENDED),w.invoke("m:video:player:ended",null,{videoElement:this.$MVideoPlayerApiBase1,player:this.getVideoElement()}),this.$MVideoPlayerApiBase9=N.ENDED,this.$MVideoPlayerApiBase54(),this.$MVideoPlayerApiBase3.playOnClick&&this.$MVideoPlayerApiBase3.playInFullScreen&&o.isSupported()&&o.disableFullScreen()}.bind(this);this.$MVideoPlayerApiBase39=function(){this.showLoadingSpinner()}.bind(this);this.$MVideoPlayerApiBase41=function(){this.$MVideoPlayerApiBase9=N.SEEKED}.bind(this);this.$MVideoPlayerApiBase42=function(){this.$MVideoPlayerApiBase9=N.SEEKING,this.$MVideoPlayerApiBase7&&(this.$MVideoPlayerApiBase8=this.$MVideoPlayerApiBase7,this.$MVideoPlayerApiBase54(),this.logPauseEvent({lastPauseReason:C.SEEK}))}.bind(this);this.$MVideoPlayerApiBase43=function(){if(this.$MVideoPlayerApiBase26){this.$MVideoPlayerApiBase26=!1;return}w.invoke("m:video:player:volumechange",null,{videoElement:this.$MVideoPlayerApiBase1,player:this.getVideoElement()})}.bind(this);this.$MVideoPlayerApiBase44=function(){this.hideLoadingSpinner()}.bind(this);this.$MVideoPlayerApiBase46=function(){!this.$MVideoPlayerApiBase6&&this.getLastActionReason()===C.PAGE_VISIBILITY&&this.play(C.USER)}.bind(this);this.$MVideoPlayerApiBase47=function(){this.$MVideoPlayerApiBase6&&this.pause(C.PAGE_VISIBILITY)}.bind(this);this.$MVideoPlayerApiBase40=function(){this.$MVideoPlayerApiBase8&&this.$MVideoPlayerApiBase9===N.SEEKED&&(this.$MVideoPlayerApiBase9=N.TIMEUPDATE,this.$MVideoPlayerApiBase58()),this.$MVideoPlayerApiBase16(),this.$MVideoPlayerApiBase17()}.bind(this);this.$MVideoPlayerApiBase45=function(){this.$MVideoPlayerApiBase3.playStartSec&&this.$MVideoPlayerApiBase3.playStartSec>0&&(this.getVideoElement().currentTime=this.$MVideoPlayerApiBase3.playStartSec)}.bind(this);this.$MVideoPlayerApiBase57=function(){var a=v.calculateViewabilityPercentage(this.$MVideoPlayerApiBase1);if(this.$MVideoPlayerApiBase14!==a){var b;this.logEvent(A.VIEWABILITY_CHANGED,(b={},b[B.CURRENT_VIEWABILITY_PERCENTAGE]=a,b));this.$MVideoPlayerApiBase14=a;this.$MVideoPlayerApiBase59()}}.bind(this);this.hideLoadingSpinner=function(){this.toggleClassOnMVideoElement(u.LOADING_CLASS,!1)}.bind(this);this.showLoadingSpinner=function(){this.toggleClassOnMVideoElement(u.LOADING_CLASS,!0)}.bind(this);this.toggleVideoQuality=function(){};this.getVideoQuality=function(){return this.$MVideoPlayerApiBase3.defaultQuality}.bind(this);this.$MVideoPlayerApiBase63=function(){if(!this.$MVideoPlayerApiBase7||!this.getVideoElement()){this.$MVideoPlayerApiBase56();return}this.logHeartbeat()}.bind(this);this.$MVideoPlayerApiBase1=a;b&&(this.$MVideoPlayerApiBase2=b);this.$MVideoPlayerApiBase3=u.getVideoDataFromMVideo(this.$MVideoPlayerApiBase1);this.$MVideoPlayerApiBase27(P.CONSTRUCTED);this.$MVideoPlayerApiBase3.videoInitSeqID===null||this.$MVideoPlayerApiBase3.videoInitSeqID===undefined?this.$MVideoPlayerApiBase3.videoInitSeqID=0:this.$MVideoPlayerApiBase3.videoInitSeqID=1+this.$MVideoPlayerApiBase3.videoInitSeqID;this.$MVideoPlayerApiBase4=new y();this.prepareDOMNode();Q.forEach(function(event){x.enableDispatch(this.getVideoElement(),event)}.bind(this));this.$MVideoPlayerApiBase16=K.withBlocking(this.$MVideoPlayerApiBase28,S,this);this.$MVideoPlayerApiBase17=K.withBlocking(this.$MVideoPlayerApiBase29,S,this);this.initLogger();this.$MVideoPlayerApiBase22=new O();s.mtouch_log_requested_playback_earlier&&(this.$MVideoPlayerApiBase30(b),this.$MVideoPlayerApiBase21=!0);a=q.bySigil(this.$MVideoPlayerApiBase1,"story-div");if(a){b=k.getDataFt(a);a={ft:JSON.parse(b)};this.getLogger().setFTData(a)}this.$MVideoPlayerApiBase31();this.$MVideoPlayerApiBase3.videoDebuggerEnabled&&(this.$MVideoPlayerApiBase10=new p(this.$MVideoPlayerApiBase1,this.$MVideoPlayerApiBase3),this.$MVideoPlayerApiBase10.updateLastActionReasonDebugger(this.getLastActionReason()));this.$MVideoPlayerApiBase13=v.shouldLog(this.$MVideoPlayerApiBase3);this.$MVideoPlayerApiBase3.loop&&(this.getVideoElement().setAttribute("loop","true"),this.getVideoElement().loop=!0);this.$MVideoPlayerApiBase27(P.INIT_DONE);this.postInit();this.$MVideoPlayerApiBase27(P.CREATED)}a.prototype.$MVideoPlayerApiBase32=function(){"use strict";var a;this.$MVideoPlayerApiBase3.videoElement?this.$MVideoPlayerApiBase3.videoElement:(this.$MVideoPlayerApiBase27("create_new_video_node"),a=u.createVideoNode(),this.$MVideoPlayerApiBase3.videoElement=a)};a.prototype.$MVideoPlayerApiBase33=function(a){"use strict";return this.$MVideoPlayerApiBase19.has(a)};a.prototype.$MVideoPlayerApiBase34=function(a){"use strict";this.$MVideoPlayerApiBase27(a,!0)};a.prototype.$MVideoPlayerApiBase27=function(a,b){b===void 0&&(b=!1);if(!s.mtouch_enable_playback_funnel_counters)return;var c=this.getPlayerVersion();this.$MVideoPlayerApiBase20&&h.bumpEntityKey("mtouch_video."+c+"."+this.$MVideoPlayerApiBase2+".after_destroy",a);if(b&&this.$MVideoPlayerApiBase33(a))return;this.$MVideoPlayerApiBase19.add(a);h.bumpEntityKey("mtouch_video."+c+"."+this.$MVideoPlayerApiBase2,a)};a.prototype.postInit=function(){"use strict"};a.prototype.prepareDOMNode=function(){"use strict";this.$MVideoPlayerApiBase3.videoElement&&this.$MVideoPlayerApiBase27("consume_precreated_video_node");this.$MVideoPlayerApiBase32();var a=this.getVideoElement();a.controls=!(s.enableSphericalVideo&&this.$MVideoPlayerApiBase3.spherical)&&!this.$MVideoPlayerApiBase3.disableVideoControls;l.prependContent(this.$MVideoPlayerApiBase1,a);a.setAttribute("playInFullScreen",this.$MVideoPlayerApiBase3.playInFullScreen);!this.$MVideoPlayerApiBase3.playInFullScreen&&this.$MVideoPlayerApiBase3.shouldPlayInline&&a.setAttribute("playsinline","true");this.$MVideoPlayerApiBase3.muted&&(a.muted=!0,this.shouldIgnoreInitialMuteOperation()&&(this.$MVideoPlayerApiBase26=!0))};a.prototype.$MVideoPlayerApiBase31=function(){"use strict";this.$MVideoPlayerApiBase4.addSubscriptions(w.listen("m:page:unload",null,function(){this.release(),w.removeCurrentListener()}.bind(this))),this.$MVideoPlayerApiBase4.addSubscriptions(m.listen(this.getVideoElement(),N.PLAY,this.$MVideoPlayerApiBase35),m.listen(this.getVideoElement(),N.PLAYING,this.$MVideoPlayerApiBase36),m.listen(this.getVideoElement(),N.PAUSE,this.$MVideoPlayerApiBase37),m.listen(this.getVideoElement(),N.ENDED,this.$MVideoPlayerApiBase38),m.listen(this.getVideoElement(),N.WAITING,this.$MVideoPlayerApiBase39),m.listen(this.getVideoElement(),N.TIMEUPDATE,this.$MVideoPlayerApiBase40),m.listen(this.getVideoElement(),N.SEEKED,this.$MVideoPlayerApiBase41),m.listen(this.getVideoElement(),N.SEEKING,this.$MVideoPlayerApiBase42),m.listen(this.getVideoElement(),N.VOLUMECHANGE,this.$MVideoPlayerApiBase43),m.listen(this.getVideoElement(),N.CANPLAY,this.$MVideoPlayerApiBase44),m.listen(this.getVideoElement(),N.LOADEDMETADATA,this.$MVideoPlayerApiBase45),m.listen(this.getVideoElement(),"contextmenu",function(a){a.preventDefault()})),this.$MVideoPlayerApiBase3.videoPlayerPauseWhenBlur&&this.$MVideoPlayerApiBase4.addSubscriptions(m.listen(window,"focus",this.$MVideoPlayerApiBase46),m.listen(window,"blur",this.$MVideoPlayerApiBase47)),o.isSupported()&&this.$MVideoPlayerApiBase4.addSubscriptions(o.listenForFullScreenEvent(window,this.$MVideoPlayerApiBase48))};a.prototype.$MVideoPlayerApiBase52=function(){"use strict";this.$MVideoPlayerApiBase33(P.FIRST_REQUESTED_PLAYING)?this.$MVideoPlayerApiBase33(P.FIRST_PLAYING)||this.$MVideoPlayerApiBase34(P.CANCELLED_REQUEST_PLAYING):this.$MVideoPlayerApiBase27(P.PAUSE_WITHOUT_PLAY),this.$MVideoPlayerApiBase27(P.PAUSED)};a.prototype.$MVideoPlayerApiBase49=function(){"use strict";this.$MVideoPlayerApiBase13&&(this.$MVideoPlayerApiBase15=H(this.$MVideoPlayerApiBase57,this.$MVideoPlayerApiBase3.videoViewabilityLoggingPollingRate))};a.prototype.$MVideoPlayerApiBase55=function(){"use strict";F(this.$MVideoPlayerApiBase15)};a.prototype.$MVideoPlayerApiBase58=function(){"use strict";this.logEvent(A.REQUESTED_PLAYING,{debug_reason:C.SEEK}),this.onPlaying(),this.$MVideoPlayerApiBase50(),this.$MVideoPlayerApiBase8=!1};a.prototype.$MVideoPlayerApiBase50=function(){"use strict";this.$MVideoPlayerApiBase7=!0};a.prototype.$MVideoPlayerApiBase54=function(){"use strict";this.$MVideoPlayerApiBase7=!1};a.prototype.$MVideoPlayerApiBase59=function(){"use strict";this.$MVideoPlayerApiBase10&&this.$MVideoPlayerApiBase10.updateViewabilityLoggingDebugger(this.$MVideoPlayerApiBase14)};a.prototype.$MVideoPlayerApiBase28=function(){"use strict";this.$MVideoPlayerApiBase3.playEndSec&&this.getVideoElement().currentTime>this.$MVideoPlayerApiBase3.playEndSec&&!this.$MVideoPlayerApiBase3.loop&&this.pause()};a.prototype.$MVideoPlayerApiBase29=function(){"use strict";if(this.$MVideoPlayerApiBase3.loop&&(this.$MVideoPlayerApiBase3.playStartSec||this.$MVideoPlayerApiBase3.playEndSec)&&(this.$MVideoPlayerApiBase3.playEndSec&&this.getVideoElement().currentTime>this.$MVideoPlayerApiBase3.playEndSec||this.$MVideoPlayerApiBase3.playStartSec&&this.getVideoElement().currentTime==0)){var a=this.$MVideoPlayerApiBase3.playStartSec||0;this.getVideoElement().currentTime=a}};a.prototype.isVisible=function(){"use strict";return this.$MVideoPlayerApiBase5};a.prototype.show=function(a){a===void 0&&(a=!0),this.$MVideoPlayerApiBase5=!0,j.conditionClass(this.$MVideoPlayerApiBase1,u.SHOWN_CLASS,!0),this.$MVideoPlayerApiBase60(),a&&this.$MVideoPlayerApiBase61()};a.prototype.hide=function(){"use strict";this.$MVideoPlayerApiBase5=!1,j.conditionClass(this.$MVideoPlayerApiBase1,u.SHOWN_CLASS,!1)};a.prototype.$MVideoPlayerApiBase30=function(a){"use strict";this.$MVideoPlayerApiBase34(P.FIRST_REQUESTED_PLAYING),this.$MVideoPlayerApiBase27(P.REQUESTED_PLAYING),this.logEvent(A.REQUESTED_PLAYING,null),this.$MVideoPlayerApiBase23||(this.$MVideoPlayerApiBase23=this.$MVideoPlayerApiBase22.getOperationLogger("requested_playing").start().setInitiator(a))};a.prototype.shouldDisablePlayDelay=function(){"use strict";return!1};a.prototype.shouldIgnoreInitialMuteOperation=function(){"use strict";return!1};a.prototype.play=function(a){"use strict";__p&&__p();if(s.mtouch_prevent_consequent_calls&&this.$MVideoPlayerApiBase6)return;a&&this.setLastActionReason(a);s.mtouch_log_requested_playback_earlier&&this.$MVideoPlayerApiBase21?this.$MVideoPlayerApiBase21=!1:this.$MVideoPlayerApiBase30(a);this.$MVideoPlayerApiBase53(!0);if(s.isKaiOS||this.shouldDisablePlayDelay())this.$MVideoPlayerApiBase34(P.FIRST_VIDEO_PLAY),this.$MVideoPlayerApiBase27(P.VIDEO_PLAY),this.attemptVideoElementPlay();else{if(this.$MVideoPlayerApiBase12)return;this.$MVideoPlayerApiBase12=I(function(){this.$MVideoPlayerApiBase12=null,this.$MVideoPlayerApiBase34(P.FIRST_VIDEO_PLAY),this.$MVideoPlayerApiBase27(P.VIDEO_PLAY),this.attemptVideoElementPlay()}.bind(this),R)}};a.prototype.attemptVideoElementPlay=function(){"use strict";this.getVideoElement().play()};a.prototype.pause=function(a){"use strict";__p&&__p();if(s.mtouch_prevent_consequent_calls&&!this.$MVideoPlayerApiBase6)return;this.$MVideoPlayerApiBase24=this.$MVideoPlayerApiBase22.getOperationLogger("pause").start().setInitiator(a);this.$MVideoPlayerApiBase33(P.FIRST_REQUESTED_PLAYING)&&!this.$MVideoPlayerApiBase33(P.FIRST_PLAYING)&&this.$MVideoPlayerApiBase34(P.REQUESTED_PAUSE_BEFORE_STARTED_PLAYING);this.$MVideoPlayerApiBase27(P.REQUESTED_PAUSE);a&&this.setLastActionReason(a);this.$MVideoPlayerApiBase53(!1);this.getVideoElement().pause();this.$MVideoPlayerApiBase12&&(clearTimeout(this.$MVideoPlayerApiBase12),this.$MVideoPlayerApiBase12=null);this.toggleClassOnMVideoElement(u.SHOW_PAUSE_CLASS,!0)};a.prototype.destroy=function(){"use strict";__p&&__p();this.$MVideoPlayerApiBase33(P.FIRST_REQUESTED_PLAYING)&&!this.$MVideoPlayerApiBase33(P.FIRST_PLAYING)&&this.$MVideoPlayerApiBase27(P.DESTROYED_REQUESTED_PLAYING);this.$MVideoPlayerApiBase37(!0);this.logPauseEvent();this.$MVideoPlayerApiBase62();this.pause(C.UNLOADED);w.invoke("m:video:player:destroy",null,{videoElement:this.$MVideoPlayerApiBase1,player:this.getVideoElement()});var a=this.getVideoElement();this.$MVideoPlayerApiBase3.videoElement=null;this.$MVideoPlayerApiBase10&&(this.$MVideoPlayerApiBase10.cleanUp(),this.$MVideoPlayerApiBase10=null);this.$MVideoPlayerApiBase18&&(this.$MVideoPlayerApiBase18.unload(),this.$MVideoPlayerApiBase18=null);this.release();this.hide();a&&(a.setAttribute("src",""),a.load&&a.load());a=null;this.$MVideoPlayerApiBase27(P.DESTROY);this.$MVideoPlayerApiBase20=!0};a.prototype.isDestroyed=function(){"use strict";return this.$MVideoPlayerApiBase20};a.prototype.$MVideoPlayerApiBase62=function(){"use strict";l.remove(this.getVideoElement());while(this.getVideoElement().hasChildNodes())this.getVideoElement().removeChild(this.getVideoElement().lastChild);this.getVideoElement().removeAttribute("src")};a.prototype.release=function(){"use strict";this.$MVideoPlayerApiBase4.release(),F(this.$MVideoPlayerApiBase15)};a.prototype.getPreInitLoggerProvider=function(){"use strict";return this.$MVideoPlayerApiBase22};a.prototype.$MVideoPlayerApiBase60=function(){"use strict";this.$MVideoPlayerApiBase3.width&&this.getVideoElement().setAttribute("width",this.$MVideoPlayerApiBase3.width),this.$MVideoPlayerApiBase3.height&&this.getVideoElement().setAttribute("height",this.$MVideoPlayerApiBase3.height)};a.prototype.$MVideoPlayerApiBase61=function(){"use strict";if(!G(new z(this.$MVideoPlayerApiBase3.subtitlesSrc)))return;var a=new t(this.getVideoElement());a.setOnSubtitlesReady(function(){return a.showSubtitles()});a.loadSubtitles(this.$MVideoPlayerApiBase3.subtitlesSrc)};a.prototype.toggleClassOnMVideoElement=function(a,b){"use strict";j.conditionClass(this.$MVideoPlayerApiBase1,a,b)};a.prototype.hasActivePlayer=function(){"use strict";return this.$MVideoPlayerApiBase5&&this.getVideoElement().parentNode===this.$MVideoPlayerApiBase1};a.prototype.getVideoData=function(){"use strict";return this.$MVideoPlayerApiBase3};a.prototype.getMVideoElement=function(){"use strict";return this.$MVideoPlayerApiBase1};a.prototype.$MVideoPlayerApiBase53=function(a){"use strict";this.$MVideoPlayerApiBase6=a,this.$MVideoPlayerApiBase10&&this.$MVideoPlayerApiBase10.updatePlayerStateDebugger(this.$MVideoPlayerApiBase6?u.PLAYER_STATE.playing:u.PLAYER_STATE.paused)};a.prototype.isPlayScheduled=function(){"use strict";return this.$MVideoPlayerApiBase6};a.prototype.setPlayerState=function(a){"use strict";this.$MVideoPlayerApiBase53(a===u.PLAYER_STATE.playing)};a.prototype.setLastActionReason=function(a){"use strict";this.$MVideoPlayerApiBase11=a,this.$MVideoPlayerApiBase10&&this.$MVideoPlayerApiBase10.updateLastActionReasonDebugger(a)};a.prototype.getLastActionReason=function(){"use strict";return this.$MVideoPlayerApiBase11};a.prototype.getPlayerFormat=function(){"use strict";return this.$MVideoPlayerApiBase3.playerFormat};a.prototype.getPlayerOrigin=function(){"use strict";return this.$MVideoPlayerApiBase3.playerOrigin};a.prototype.getPlayerSuborigin=function(){"use strict";return this.$MVideoPlayerApiBase3.playerSuborigin};a.prototype.getSubscriptions=function(){"use strict";return this.$MVideoPlayerApiBase4};a.prototype.getVideoElement=function(){"use strict";this.$MVideoPlayerApiBase3.videoElement||this.$MVideoPlayerApiBase32();return this.$MVideoPlayerApiBase3.videoElement};a.prototype.getVideoID=function(){"use strict";return this.$MVideoPlayerApiBase3.videoID};a.prototype.getSavedOffline=function(){"use strict";return r.isVideoDownloaded(this.$MVideoPlayerApiBase3.videoID)};a.prototype.getConnectivityType=function(){"use strict";return u.getConnectivityType()};a.prototype.getLastPlayReason=function(){"use strict";return this.getLastActionReason()};a.prototype.getVideoPlayReason=function(){"use strict";return this.$MVideoPlayerApiBase2};a.prototype.getResourceUrl=function(){"use strict";return s.shouldLogResourceUrl?this.$MVideoPlayerApiBase3.src:null};a.prototype.getExternalLogIDAndType=function(){"use strict";var a=this.$MVideoPlayerApiBase3[B.EXTERNAL_LOG_ID],b=this.$MVideoPlayerApiBase3[B.EXTERNAL_LOG_TYPE];a={externalLogID:a,externalLogType:b};return a};a.prototype.getAdditionalLogData=function(a){"use strict";var b={video_quality:this.getVideoQuality(),player_version:this.getPlayerVersion(),video_init_seq_id:this.getVideoData().videoInitSeqID},c=this.$MVideoPlayerApiBase2;c&&a!==A.DISPLAYED&&(b.video_play_reason=c);return b};a.prototype.getPlayerVersion=function(){"use strict";return D.HTML5};a.prototype.addVideoViewabilityToKeyEvents=function(event,a){"use strict";var b=v.calculateViewabilityPercentage(this.getVideoElement());this.$MVideoPlayerApiBase14=b;this.$MVideoPlayerApiBase59();if(E.Events.includes(event)&&v.shouldLog(this.$MVideoPlayerApiBase3)){var c;return babelHelpers["extends"]({},a,(c={},c[B.CURRENT_VIEWABILITY_PERCENTAGE]=b,c))}return a};a.prototype.getEmbeddedVideoControlsConfig=function(){"use strict";return null};a.prototype.getEmbeddedVideoControls=function(){"use strict";return this.$MVideoPlayerApiBase18};a.prototype.setupControls=function(){"use strict";var a=this.getEmbeddedVideoControlsConfig();return!a?g.resolve():new g(function(b){var c={toggleQuality:this.toggleVideoQuality,getCurrentVideoQuality:this.getVideoQuality};this.$MVideoPlayerApiBase4.addSubscriptions(i.loadModules(["MEmbeddedVideoControls"],function(d){this.$MVideoPlayerApiBase18=new d(this,this.getVideoElement(),this.getMVideoElement(),c,a),b()}.bind(this),"MVideoPlayerApiBase"))}.bind(this))};a.prototype.$MVideoPlayerApiBase51=function(){"use strict";if(this.$MVideoPlayerApiBase25)return;this.$MVideoPlayerApiBase25=H(this.$MVideoPlayerApiBase63,T)};a.prototype.$MVideoPlayerApiBase56=function(){"use strict";F(this.$MVideoPlayerApiBase25),this.$MVideoPlayerApiBase25=null};a.prototype.heartbeatEnabled=function(){"use strict";return!1};e.exports={MVideoPlayerApiBase:a}}),null);
__d("shouldUseOzPlayer",["BanzaiODS","FBLogger","MOzExperiments"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();function a(a,b,c){__p&&__p();c===void 0&&(c=!1);if(!i.mtouch_use_oz_player)return!1;g.bumpEntityKey("MOzVideoPlayerApi","setup");var d,e=function(a){var b=/mimeType=\"([^\"]*)\"\s*codecs=\"([^\"]*)\"/g,c;while(c=b.exec(a)){c=c[1]+'; codecs="'+c[2]+'"';if(!window.MediaSource.isTypeSupported(c)){h("mtouch_video").debug("Unsupported DASH type: %s",c);return!0}}return!1};!a.dashManifest?d="noDashManifest":!window.MediaSource?d="noMediaSourceSupport":!window.fetch?d="noFetch":!window.ReadableStream?d="noReadableStream":e(a.dashManifest)?d="codecNotSupported":b||(d="noDependencies");if(d){c&&g.bumpEntityKey("MOzVideoPlayerApi","fallback."+d);return!1}return!0}e.exports=a}),null);
__d("MOzVideoPlayerApi",["BanzaiODS","EventListener","FBLogger","MMediaFactory","MOzExperiments","MVideoDashPrefetchCache","MVideoPlayerApiBase","MVideoUtils","VideoPlayerLoggerErrorStates","VideoPlayerLoggerEvent","VideoPlayerVersions","guid","shouldUseOzPlayer"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){__p&&__p();var t;a=m.MVideoPlayerApiBase;j.populate();var u,v,w;function x(a){switch(a){case 1:return"The fetching process for the media resource was aborted by the user agent at the users request.";case 2:return"A network error of some description caused the user agent to stop fetching the media resource, after the resource was established to be usable.";case 3:return"An error of some description occurred while decoding the media resource, after the resource was established to be usable.";case 4:return"The media resource indicated by the src attribute was not suitable."}return null}function y(a){switch(a){case 1:return"MEDIA_ERR_ABORTED";case 2:return"MEDIA_ERR_NETWORK";case 3:return"MEDIA_ERR_DECODE";case 4:return"MEDIA_ERR_SRC_NOT_SUPPORTED";default:return"Error code "+a+" is unknown"}}function z(a,b,c){b=l.createQueryStringURL(b);b=l.getCacheValue(b);if(!b){a.push(c);return null}return b}function A(a,b){return a.find(function(a){return a.segment_type===b})}function B(a,b,c){__p&&__p();var d=A(b,"init");b=A(b,"data");if(d){var e=z(a,d,c+" init");if(!e)return null;var f;b&&(f=z(a,b,c+" data"));return{initializationPromise:e,segmentPromise:f,mimeCodec:d.mime_codec,representationID:d.representation_id}}return null}b=babelHelpers.inherits(C,a);t=b&&b.prototype;function C(){__p&&__p();var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=t.constructor).call.apply(a,[this].concat(d)),this.getVideoQuality=function(){return this.$MOzVideoPlayerApi1}.bind(this),this.toggleVideoQuality=function(){__p&&__p();if(!this.$MOzVideoPlayerApi2)return;var a=this.$MOzVideoPlayerApi2.getVideoQualities();if(!a||a.length===1)return;var b=a.indexOf(this.$MOzVideoPlayerApi1);b===-1&&(b=a.length-1);b=b>=a.length-1?0:b+1;a=a[b];this.$MOzVideoPlayerApi2.switchToVideoQuality(a);this.$MOzVideoPlayerApi1=a}.bind(this),b}C.prototype.postInit=function(){"use strict";__p&&__p();try{var a=this.getVideoData().dashManifest;if(!a)throw new Error("No manifest available in VideoData. Aborting.");this.getSubscriptions().addSubscriptions(h.listen(this.getVideoElement(),"error",this.$MOzVideoPlayerApi3.bind(this)));try{var b=[this.getPreInitLoggerProvider()];this.getVideoData().quickStarter&&(b=b.concat(this.getVideoData().quickStarter.getObservedOperationLoggers()));this.$MOzVideoPlayerApi2=new u(this.getVideoData().quickStarter||this.getVideoElement(),new v(k),a,null,{perfLoggerProviders:this.$MOzVideoPlayerApi4(),observedOperationLoggers:b})}catch(a){g.bumpEntityKey("MOzVideoPlayerApi","error.createDashPlayer");throw a}this.$MOzVideoPlayerApi2.onError(function(a){return this.$MOzVideoPlayerApi5(a,"DashPlayer.onError")}.bind(this));this.$MOzVideoPlayerApi2.setupVideoStream()["catch"](function(a){this.isDestroyed()||(g.bumpEntityKey("MOzVideoPlayerApi","failed.setupVideoStream"),this.$MOzVideoPlayerApi5(a,"setupVideoStream"))}.bind(this));this.$MOzVideoPlayerApi2.setupAudioStreamIfExist()["catch"](function(a){this.isDestroyed()||(g.bumpEntityKey("MOzVideoPlayerApi","failed.setupAudioStreamIfExis"),this.$MOzVideoPlayerApi5(a,"setupAudioStreamIfExist"))}.bind(this));a=this.$MOzVideoPlayerApi2.getVideoQualities();a.length>1&&(this.$MOzVideoPlayerApi1=this.$MOzVideoPlayerApi2.getCurrentQuality())}catch(a){g.bumpEntityKey("MOzVideoPlayerApi","failed.exception");this.$MOzVideoPlayerApi5(a,"caught");throw a}};C.prototype.$MOzVideoPlayerApi5=function(a,b,c){__p&&__p();c===void 0&&(c=o.PLAYER_FAILURE);var d="(empty)",e="(empty)";a&&(a.message?d=a.message:a.code?d=x(a.code):d=a.toString(),a.code?e=y(a.code):a.name?e=a.name:e=a.toString());try{a=(b?b+": ":"")+(d?d:"(unknown)")}catch(a){g.bumpEntityKey("MOzVideoPlayerApi","error.prepareToLogEvent");throw a}try{this.logEvent(p.ERROR,{error:e,error_description:a,state:c})}catch(a){i("mtouch_oz").catching(a).warn("logEvent failed to log error for %s",b);g.bumpEntityKey("MOzVideoPlayerApi","error.logEvent");throw a}};C.prototype.getPlayerVersion=function(){"use strict";return q.MTOUCH_OZ};C.prototype.$MOzVideoPlayerApi3=function(a){"use strict";g.bumpEntityKey("MOzVideoPlayerApi","error.onMediaElementError");a=this.getVideoElement().error;a&&this.$MOzVideoPlayerApi5(a,"onError",o.PLAYBACK_FAILURE)};C.prototype.$MOzVideoPlayerApi4=function(){"use strict";var a=[];w&&w.isEnabled&&typeof w.isEnabled==="function"&&w.isEnabled()&&(a.push(new w({videoID:this.getVideoID(),isLive:!1,video:this.getVideoElement(),uniqueID:r(),playerOrigin:this.getPlayerOrigin(),playerSuborigin:this.getPlayerSuborigin(),accessToken:null,representationId:null,preloadTime:this.getVideoData().preloadTime})),this.getVideoData().preloadTime=null);return a};C.prototype.shouldDisablePlayDelay=function(){"use strict";return k.immediate_play};C.prototype.shouldIgnoreInitialMuteOperation=function(){"use strict";return k.ignore_initial_mute_operation};C.prototype.destroy=function(){"use strict";k.fix_call_destroy&&this.$MOzVideoPlayerApi2.destroy();var a=this.getVideoData();a.quickStarter&&(a.quickStarter=null);t.destroy.call(this)};C.prepare=function(a,b,c){"use strict";__p&&__p();a=n.getVideoDataFromMVideo(a);var d=C.hasResolvedDependecies();d=s(a,d);a.preloadTime=Date.now();if(k.precreate_video_node&&d){d=j.get();a.videoElement=d.node;g.bumpEntityKey("MOzVideoPlayerApi","precreate_video_node");if(d.quickStarter){a.quickStarter=d.quickStarter;if(b&&k.feed_quick_starter&&(!k.no_quickstarter_for_ctp||!c||c.isAutoplayable())){d=[];c=B(d,b.prefetch_data.video,"video");if(c){a.quickStarter.addPrefetchTrack(c);c=B(d,b.prefetch_data.audio,"audio");c&&a.quickStarter.addPrefetchTrack(c)}d.length!==0&&!k.no_prefetch_for_ctp&&i("mtouch_oz").mustfix("Unable to feed OzQuickStarter because some of the prefetches are missing: %s",d.join(", "))}}}};C.setJSModules=function(a,b,c){"use strict";if(!a||!b||u&&v)return;u=a;v=b;w=c};C.hasResolvedDependecies=function(){"use strict";return!!u&&!!v};e.exports=C}),null);
__d("MProgressiveVideoPlayerApi",["MVideoPlayerApiBase","VideoPlayerVersions"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i,j;b=g.MVideoPlayerApiBase;i=babelHelpers.inherits(a,b);j=i&&i.prototype;a.prototype.postInit=function(){"use strict";j.postInit.call(this),this.getVideoElement().load()};a.prototype.getAdditionalLogData=function(a){"use strict";a=j.getAdditionalLogData.call(this,a);var b={},c=this.getVideoData().playbackIsLiveStreaming;c&&(b.playback_is_live_streaming=this.getVideoData().playbackIsLiveStreaming);return Object.assign({},a,b)};a.prototype.getPlayerVersion=function(){"use strict";return h.HTML5};function a(){"use strict";i.apply(this,arguments)}e.exports=a}),null);
__d("VideoPlayerShakaPerformanceTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();function a(){this.clear()}a.prototype.log=function(){h.log("vpsp_proxy:VideoPlayerShakaPerformanceLoggerConfig",this.$1,g.BASIC)};a.prototype.logVital=function(){h.log("vpsp_proxy:VideoPlayerShakaPerformanceLoggerConfig",this.$1,g.VITAL)};a.prototype.logImmediately=function(){h.log("vpsp_proxy:VideoPlayerShakaPerformanceLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setAccessToken=function(a){this.$1.access_token=a;return this};a.prototype.setAdditionalBufferedRanges=function(a){this.$1.additional_buffered_ranges=a;return this};a.prototype.setBandwidthEstimate=function(a){this.$1.bandwidth_estimate=a;return this};a.prototype.setClientTimeBegin=function(a){this.$1.client_time_begin=a;return this};a.prototype.setClientTimeEnd=function(a){this.$1.client_time_end=a;return this};a.prototype.setCode=function(a){this.$1.code=a;return this};a.prototype.setConcluder=function(a){this.$1.concluder=a;return this};a.prototype.setConnectionQualityLevel=function(a){this.$1.connection_quality_level=a;return this};a.prototype.setDroppedFrames=function(a){this.$1.dropped_frames=a;return this};a.prototype.setDynamicBitrate=function(a){this.$1.dynamic_bitrate=a;return this};a.prototype.setError=function(a){this.$1.error=a;return this};a.prototype.setEvent=function(a){this.$1.event=a;return this};a.prototype.setExpectedLength=function(a){this.$1.expected_length=a;return this};a.prototype.setInitiator=function(a){this.$1.initiator=a;return this};a.prototype.setIsLive=function(a){this.$1.is_live=a;return this};a.prototype.setIsTemplatedManifest=function(a){this.$1.is_templated_manifest=a;return this};a.prototype.setLastBufferedEnd=function(a){this.$1.last_buffered_end=a;return this};a.prototype.setLastBufferedStart=function(a){this.$1.last_buffered_start=a;return this};a.prototype.setLastBufferingEventEndTime=function(a){this.$1.last_buffering_event_end_time=a;return this};a.prototype.setLastPlayingEventTime=function(a){this.$1.last_playing_event_time=a;return this};a.prototype.setLength=function(a){this.$1.length=a;return this};a.prototype.setLiveheadDelta=function(a){this.$1.livehead_delta=a;return this};a.prototype.setLogicalCpuCount=function(a){this.$1.logical_cpu_count=a;return this};a.prototype.setLowestQualityRepresentationID=function(a){this.$1.lowest_quality_representation_id=a;return this};a.prototype.setManifestType=function(a){this.$1.manifest_type=a;return this};a.prototype.setParentID=function(a){this.$1.parent_id=a;return this};a.prototype.setPlayerOriginCallerSpecified=function(a){this.$1.player_origin_caller_specified=a;return this};a.prototype.setPlayerSuborigin=function(a){this.$1.player_suborigin=a;return this};a.prototype.setPlayhead=function(a){this.$1.playhead=a;return this};a.prototype.setPreloadTime=function(a){this.$1.preload_time=a;return this};a.prototype.setPriorityFloat=function(a){this.$1.priority_float=a;return this};a.prototype.setPushed=function(a){this.$1.pushed=a;return this};a.prototype.setReason=function(a){this.$1.reason=a;return this};a.prototype.setRepresentationID=function(a){this.$1.representation_id=a;return this};a.prototype.setRescheduleCount=function(a){this.$1.reschedule_count=a;return this};a.prototype.setResource=function(a){this.$1.resource=a;return this};a.prototype.setResult=function(a){this.$1.result=a;return this};a.prototype.setScriptPath=function(a){this.$1.script_path=a;return this};a.prototype.setSegmentEndTime=function(a){this.$1.segment_end_time=a;return this};a.prototype.setSegmentStartTime=function(a){this.$1.segment_start_time=a;return this};a.prototype.setSegmentTimeGap=function(a){this.$1.segment_time_gap=a;return this};a.prototype.setSequentialID=function(a){this.$1.sequential_id=a;return this};a.prototype.setSession=function(a){this.$1.session=a;return this};a.prototype.setState=function(a){this.$1.state=a;return this};a.prototype.setStreamSwitchReason=function(a){this.$1.stream_switch_reason=a;return this};a.prototype.setTimeBetweenBytesMax=function(a){this.$1.time_between_bytes_max=a;return this};a.prototype.setTimeToFirstByte=function(a){this.$1.time_to_first_byte=a;return this};a.prototype.setTimeToLastByte=function(a){this.$1.time_to_last_byte=a;return this};a.prototype.setTimeToRequestSent=function(a){this.$1.time_to_request_sent=a;return this};a.prototype.setTimeToRequestStart=function(a){this.$1.time_to_request_start=a;return this};a.prototype.setTotalFrames=function(a){this.$1.total_frames=a;return this};a.prototype.setType=function(a){this.$1.type=a;return this};a.prototype.setUpdatePeriod=function(a){this.$1.update_period=a;return this};a.prototype.setVC=function(a){this.$1.vc=a;return this};a.prototype.setVideoDuration=function(a){this.$1.video_duration=a;return this};a.prototype.setVideoID=function(a){this.$1.video_id=a;return this};a.prototype.setWasDelayed=function(a){this.$1.was_delayed=a;return this};b={access_token:!0,additional_buffered_ranges:!0,bandwidth_estimate:!0,client_time_begin:!0,client_time_end:!0,code:!0,concluder:!0,connection_quality_level:!0,dropped_frames:!0,dynamic_bitrate:!0,error:!0,event:!0,expected_length:!0,initiator:!0,is_live:!0,is_templated_manifest:!0,last_buffered_end:!0,last_buffered_start:!0,last_buffering_event_end_time:!0,last_playing_event_time:!0,length:!0,livehead_delta:!0,logical_cpu_count:!0,lowest_quality_representation_id:!0,manifest_type:!0,parent_id:!0,player_origin_caller_specified:!0,player_suborigin:!0,playhead:!0,preload_time:!0,priority_float:!0,pushed:!0,reason:!0,representation_id:!0,reschedule_count:!0,resource:!0,result:!0,script_path:!0,segment_end_time:!0,segment_start_time:!0,segment_time_gap:!0,sequential_id:!0,session:!0,state:!0,stream_switch_reason:!0,time_between_bytes_max:!0,time_to_first_byte:!0,time_to_last_byte:!0,time_to_request_sent:!0,time_to_request_start:!0,total_frames:!0,type:!0,update_period:!0,vc:!0,video_duration:!0,video_id:!0,was_delayed:!0};e.exports=a}),null);
__d("MVideoPlayerOzEventOperationLogger",["VideoPlayerShakaPerformanceTypedLogger"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i;function j(a){typeof a==="number"&&(a=Math.floor(a));return a}h=babelHelpers.inherits(a,g);i=h&&h.prototype;a.prototype.setState=function(a){this.$MVideoPlayerOzEventOperationLogger1=a;return i.setState.call(this,a)};a.prototype.getState=function(){return this.$MVideoPlayerOzEventOperationLogger1};a.prototype.setSequentialID=function(a){this.$MVideoPlayerOzEventOperationLogger2=a;i.setSequentialID.call(this,a);return this};a.prototype.setParentLogger=function(a){this.setParentID(a.$MVideoPlayerOzEventOperationLogger2);return this};a.prototype.setSegmentEndTime=function(a){i.setSegmentEndTime.call(this,j(a));return this};a.prototype.setSegmentTimeGap=function(a){i.setSegmentTimeGap.call(this,j(a));return this};a.prototype.setSegmentStartTime=function(a){i.setSegmentStartTime.call(this,j(a));return this};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("MVideoPlayerOzPerfLoggerProvider",["MVideoPlayerOzEventOperationLogger","ScriptPath","VideoPlayerShakaPerformanceLoggerConfig","oz-player/loggings/OzPerfLoggerProviderBase"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k;b=babelHelpers.inherits(a,j);k=b&&b.prototype;a.isEnabled=function(){return i.isSampled};function a(a){k.constructor.call(this),this.$MVideoPlayerOzPerfLoggerProvider19=a,this.$MVideoPlayerOzPerfLoggerProvider2=a.videoID,this.$MVideoPlayerOzPerfLoggerProvider4=a.video,this.$MVideoPlayerOzPerfLoggerProvider1=a.uniqueID,this.$MVideoPlayerOzPerfLoggerProvider3=0,this.$MVideoPlayerOzPerfLoggerProvider5=a.representationId,this.$MVideoPlayerOzPerfLoggerProvider10=a.isLive,this.$MVideoPlayerOzPerfLoggerProvider9=null,this.$MVideoPlayerOzPerfLoggerProvider11=a.accessToken,this.$MVideoPlayerOzPerfLoggerProvider12=a.playerOrigin,this.$MVideoPlayerOzPerfLoggerProvider13=a.playerSuborigin,this.$MVideoPlayerOzPerfLoggerProvider18=a.preloadTime}a.prototype.createLoggerProvider=function(){return new self(this.$MVideoPlayerOzPerfLoggerProvider19)};a.prototype.$MVideoPlayerOzPerfLoggerProvider20=function(a){__p&&__p();var b=this.$MVideoPlayerOzPerfLoggerProvider4.buffered;if(b.length>0){var c=b.length-1;a=a.setLastBufferedStart(Math.round(b.start(c)*1e3)).setLastBufferedEnd(Math.round(b.end(c)*1e3))}c=[];for(var d=0;d<b.length-1;d++){var e=Math.round(this.$MVideoPlayerOzPerfLoggerProvider4.buffered.start(d)*1e3),f=Math.round(this.$MVideoPlayerOzPerfLoggerProvider4.buffered.end(d)*1e3);c.push([e,f])}c&&c.length&&(a=a.setAdditionalBufferedRanges(JSON.stringify(c)));return a};a.prototype.setType=function(a){this.$MVideoPlayerOzPerfLoggerProvider17=a;return this};a.prototype.getLiveheadDelta=function(){return this.$MVideoPlayerOzPerfLoggerProvider9?Math.round((this.$MVideoPlayerOzPerfLoggerProvider9-this.$MVideoPlayerOzPerfLoggerProvider4.currentTime)*1e3):null};a.prototype.getVideoID=function(){return this.$MVideoPlayerOzPerfLoggerProvider2};a.prototype.getEventLogger=function(event){__p&&__p();var a=Date.now(),b=new g(),c=this.$MVideoPlayerOzPerfLoggerProvider4.currentTime,d=this.$MVideoPlayerOzPerfLoggerProvider4.duration;this.$MVideoPlayerOzPerfLoggerProvider20(b).setEvent(event).setVideoID(this.$MVideoPlayerOzPerfLoggerProvider2).setLogicalCpuCount(navigator&&navigator.hardwareConcurrency).setPlayerOriginCallerSpecified(this.$MVideoPlayerOzPerfLoggerProvider12).setScriptPath(h.getScriptPath()).setPlayerSuborigin(this.$MVideoPlayerOzPerfLoggerProvider13).setDynamicBitrate(this.$MVideoPlayerOzPerfLoggerProvider16).setRepresentationID(this.$MVideoPlayerOzPerfLoggerProvider5).setLowestQualityRepresentationID(this.$MVideoPlayerOzPerfLoggerProvider15).setPlayhead(Math.round(c*1e3)).setVideoDuration(Math.round(d*1e3)).setIsLive(this.$MVideoPlayerOzPerfLoggerProvider10).setSession(this.$MVideoPlayerOzPerfLoggerProvider1).setManifestType(this.$MVideoPlayerOzPerfLoggerProvider14).setSequentialID(this.$MVideoPlayerOzPerfLoggerProvider3++).setState(this.$MVideoPlayerOzPerfLoggerProvider6).setLastBufferingEventEndTime(this.$MVideoPlayerOzPerfLoggerProvider8).setLastPlayingEventTime(this.$MVideoPlayerOzPerfLoggerProvider7).setLiveheadDelta(this.getLiveheadDelta()).setPushed(0).setResult("success").setAccessToken(this.$MVideoPlayerOzPerfLoggerProvider11).setClientTimeBegin(a).setClientTimeEnd(a).setPreloadTime(this.$MVideoPlayerOzPerfLoggerProvider18);var e=this,f=b.setState;b.setState=function(a){a!==this.$MVideoPlayerOzPerfLoggerProvider6&&a==="playing"?e.$MVideoPlayerOzPerfLoggerProvider7=Date.now():a!=="playing"&&(e.$MVideoPlayerOzPerfLoggerProvider7=null);e.$MVideoPlayerOzPerfLoggerProvider6=a;return f.call(this,a)};b.updateState=function(a){return this.getState()==e.$MVideoPlayerOzPerfLoggerProvider6?this.setState(a):this};var i=b.setError;b.setError=function(a){typeof a==="object"?(a.type==="aborted"||a.type==="delay"?this.setResult("aborted"):a.type==="paused"?this.setResult("paused"):(this.setResult("failed"),i.call(this,a.type)),this.setCode(a.status)):i.call(this,a);return this};var j=b.setManifestType;b.setManifestType=function(a){this.$MVideoPlayerOzPerfLoggerProvider14=a;return j.call(b,a)}.bind(this);return b};a.prototype.getOperationLogger=function(a){a=this.createOperationLogger(a);this.setOperationContext(a);return a};a.prototype.createOperationLogger=function(a){__p&&__p();var b=this.getEventLogger(a),c=b.log,d=this;b.log=function(){var b=this.getData().client_time_end||Date.now();this.setClientTimeEnd(b);a==="buffering"&&(d.$MVideoPlayerOzPerfLoggerProvider8=Date.now());return c.call(this)};b.start=function(){return b};b.setLiveheadPosition=function(a){this.$MVideoPlayerOzPerfLoggerProvider9=a;b.setLiveheadDelta(this.getLiveheadDelta());return b}.bind(this);var e=b.setDynamicBitrate;b.setDynamicBitrate=function(a){a=Number(a)||null;this.$MVideoPlayerOzPerfLoggerProvider16=a;return e.call(b,a)}.bind(this);var f=b.setLowestQualityRepresentationID;b.setLowestQualityRepresentationID=function(a){this.$MVideoPlayerOzPerfLoggerProvider15=a;return f.call(b,a)}.bind(this);return b};a.prototype.setRepresentationID=function(a){this.$MVideoPlayerOzPerfLoggerProvider5=a};a.prototype.setDynamicBitrate=function(a){this.$MVideoPlayerOzPerfLoggerProvider16=a};e.exports=a}),null);
__d("MShakaVideoPlayerApi",["BanzaiODS","MVideoPlayerApiBase","MVideoPlayerOzPerfLoggerProvider","VideoPlayerVersions","guid","promiseDone","requireWeak"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m){__p&&__p();var n;b=h.MVideoPlayerApiBase;var o=null;c=babelHelpers.inherits(a,b);n=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=n.constructor).call.apply(a,[this].concat(d)),this.$MShakaVideoPlayerApi1=!1,this.$MShakaVideoPlayerApi2=!1,b}a.prototype.getAdditionalLogData=function(a){"use strict";a=n.getAdditionalLogData.call(this,a);var b={},c=this.getVideoData().playbackIsLiveStreaming;c&&(b.playback_is_live_streaming=this.getVideoData().playbackIsLiveStreaming);return Object.assign({},a,b)};a.prototype.heartbeatEnabled=function(){"use strict";return!0};a.prototype.postInit=function(){"use strict";m("MOzLivePlayer",function(a){var b=[],c=this.$MShakaVideoPlayerApi3();c&&b.push(c);a.createPlayer(this.getVideoElement(),this.getVideoData().src,{perfLoggerProviders:b,observedOperationLoggers:[this.getPreInitLoggerProvider()]}).then(function(a){o=a,this.$MShakaVideoPlayerApi2=!0,this.$MShakaVideoPlayerApi1&&(this.getVideoElement().play(),this.$MShakaVideoPlayerApi1=!1)}.bind(this))["catch"](function(a){g.bumpEntityKey("MOzLivePlayer","createPlayer.error")});this.getVideoElement().controls=!1;l(this.setupControls())}.bind(this))};a.prototype.attemptVideoElementPlay=function(){"use strict";this.$MShakaVideoPlayerApi2?n.attemptVideoElementPlay.call(this):this.$MShakaVideoPlayerApi1=!0};a.prototype.destroy=function(){"use strict";o&&o.destroy(),o=null,n.destroy.call(this)};a.prototype.getEmbeddedVideoControlsConfig=function(){"use strict";return{playbackControlHidden:!1,scrubberHidden:!0,playbackTimerHidden:!0,fullScreenControlHidden:!1}};a.prototype.getPlayerVersion=function(){"use strict";return j.MTOUCH_SHAKA_LIVE};a.prototype.$MShakaVideoPlayerApi3=function(){"use strict";return!i.isEnabled()?null:new i({videoID:this.getVideoID(),isLive:!0,video:this.getVideoElement(),uniqueID:k(),playerOrigin:this.getPlayerOrigin(),playerSuborigin:this.getPlayerSuborigin(),accessToken:null,representationId:null,preloadTime:null})};e.exports=a}),null);
__d("MSphericalVideoPlayerApi",["Bootloader","MVideoCache","MVideoPlayerApiBase","MVideoUtils","VideoPlayerVersions","promiseDone"],(function(a,b,c,d,e,f,g,h,i,j,k,l){"use strict";__p&&__p();var m;b=i.MVideoPlayerApiBase;c=babelHelpers.inherits(a,b);m=c&&c.prototype;function a(){__p&&__p();var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=m.constructor).call.apply(a,[this].concat(d)),this.getVideoQuality=function(){return this.$MSphericalVideoPlayerApi1}.bind(this),this.toggleVideoQuality=function(){__p&&__p();if(this.getVideoElement().tagName!=="VIDEO"||h.isSupported()&&h.getCachedVideoByID(this.getVideoID()))return;var a=this.getVideoData().availableQualities;if(!a)return;var b;for(var c in a)if(Object.prototype.hasOwnProperty.call(a,c)&&c!==this.$MSphericalVideoPlayerApi1){b=c;break}if(!b)return;this.$MSphericalVideoPlayerApi1=b;a=a[this.$MSphericalVideoPlayerApi1];if(!a)return;this.getVideoElement().pause();var d=this.getVideoElement().currentTime;this.getVideoElement().setAttribute("src",a);this.getVideoElement().currentTime=d;this.getVideoElement().load();this.getVideoElement().play()}.bind(this),b}a.prototype.postInit=function(){m.postInit.call(this),this.getVideoElement().load(),this.$MSphericalVideoPlayerApi1=this.getVideoData().defaultQuality,l(this.setupControls().then(function(){return this.play(this.getVideoPlayReason())}.bind(this))),this.$MSphericalVideoPlayerApi3()};a.prototype.prepareDOMNode=function(){m.prepareDOMNode.call(this),this.getVideoElement().setAttribute("crossorigin","anonymous")};a.prototype.$MSphericalVideoPlayerApi3=function(){if(this.$MSphericalVideoPlayerApi2)return;var a=this.getVideoData();a=a&&a.sphericalParams||{};var b={projectionType:a.projection,initialHeading:a.initialYaw,initialPitch:a.initialPitch,fieldOfView:a.initialFieldOfView,expansionCoef:1.01};a={disableTouchControls:a.disableSphericalTouchControls};var c={videoID:this.getVideoID(),logEvent:this.logEvent.bind(this),viewportConfig:a};g.loadModules(["MVideoPlayerHTML5Spherical"],function(a){this.$MSphericalVideoPlayerApi2=new a(this,this.getVideoElement(),b,c),this.play()}.bind(this),"MSphericalVideoPlayerApi")};a.prototype.show=function(){m.show.call(this),this.toggleClassOnMVideoElement(j.SPHERICAL_CLASS,!0)};a.prototype.play=function(a){if(!this.getEmbeddedVideoControls()||!this.$MSphericalVideoPlayerApi2)return;m.play.call(this,a)};a.prototype.getEmbeddedVideoControlsConfig=function(){return{fullScreenControlHidden:!0}};a.prototype.destroy=function(){m.destroy.call(this),this.$MSphericalVideoPlayerApi2&&(this.$MSphericalVideoPlayerApi2.unload(),this.$MSphericalVideoPlayerApi2=null)};a.prototype.getPlayerVersion=function(){return k.MTOUCH_SPHERICAL};e.exports=a}),null);
__d("XVideoCacheCleanUpController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video_cache_cleanup/",{video_ids:{type:"StringVector",required:!0}})}),null);
__d("MVideoCacheCleanUp",["MRequest","MVideoCache","MVideoCacheConfig","MVideoDownloadConfig","MVideoDownloadStateHandler","VideoDownloadDeleteReason","VideoDownloadReason","XVideoCacheCleanUpController","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){__p&&__p();var p=1e4,q=null,r={clean:function(){__p&&__p();r.deleteExpiredVideos();q=null;var a=h.getCachedVideoIDs(!0);if(a.length==0){r.setLastCleanUpDate();return}a=n.getURIBuilder().setStringVector("video_ids",a).getURI();a=new g(a);a.setMethod("POST");a.listen("done",function(a){a=a.payload||{};if(!a.error){r.setLastCleanUpDate();a=[].concat(a.offlineDisabled,a.unaccessible,a.unsaved);a.length>0&&r.deleteVideosByID(a)}});a.send()},deleteExpiredVideos:function(){var a=h.getCachedVideosMetadata([h.DOWNLOAD_STARTED_TIME,h.DOWNLOAD_REASON,h.OFFLINE_LIFESPAN]),b=[],c=Date.now(),d=c-j.cache_auto_downloaded_videos_caching_interval_ms;for(var e in a){var f=a[e];(f.downloadReason===m.AUTO_INITIATED&&f.downloadStartedTime<d||f.downloadStartedTime<c-f.offlineLifespan)&&b.push(e)}b.length>0&&r.deleteVideosByID(b)},deleteVideosByID:function(a){h.deleteVideosByID(a,function(a){k.deleted([a])},l.CACHE_SYNC)},requestCleanUp:function(){if(i.isSupported()&&h.isSupported()){var a=r.getLastCleanUpDate(),b=Date.now()-j.cache_sync_interval_ms;a=a<b;a&&!q&&(q=o(function(){h.makeLocalAsyncStorageConsistent(r.clean,function(a){k.deleted([a])})},p))}},getLastCleanUpDate:function(){if(i.isSupported())return i.getItemFromConfig(i.KEYS.lastCleanUp);else return 0},setLastCleanUpDate:function(){if(i.isSupported()){var a=Date.now();i.setItemFromConfig(i.KEYS.lastCleanUp,a)}},checkAccess:function(a){a=a.downloadStartedTime;var b=r.getLastCleanUpDate();a=Math.max(a,b);b=Date.now();r.requestCleanUp();a=a+j.allowed_offline_access_interval_ms;a=a>b;return a}};e.exports=r}),null);
__d("MVideoMediaSourceState",[],(function(a,b,c,d,e,f){__p&&__p();function a(a){"use strict";this.$2=!1,this.$1=!1,this.$3=a}a.prototype.getMediaSource=function(){"use strict";return this.$3};a.prototype.videoStreamEnded=function(){"use strict";this.$2=!0,this.$4()};a.prototype.audioStreamEnded=function(){"use strict";this.$1=!0,this.$4()};a.prototype.$4=function(){"use strict";this.$1&&this.$2&&this.$3.endOfStream()};e.exports=a}),null);
__d("MVideoPlayerVisibilityBehavior",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({IGNORE_VISIBILITY:"0",PAUSE_IF_MUTED:"1",PAUSE:"2"})}),null);
__d("showVideoUnavailableDialog",["MCustomDialog","fbt"],(function(a,b,c,d,e,f,g,h){function a(){var a=h._("Videos No Longer Available"),b=h._("Please connect to the Internet and try again."),c=h._("OK");g.show({titleString:a,descriptionString:b,dismissButtonString:c})}e.exports=a}),null);
__d("MInlineVideo",["DOM","FBLogger","MFullScreen","MLegacyDataStore","MOzVideoPlayerApi","MProgressiveVideoPlayerApi","MShakaVideoPlayerApi","MSphericalVideoPlayerApi","MVideoCache","MVideoCacheCleanUp","MVideoDownloadConfig","MVideoExperiments","MVideoMediaSourceState","MVideoPlayerVisibilityBehavior","MVideoUtils","Stratcom","SubscriptionsHandler","VideoPlayerReason","emptyFunction","getElementPosition","shouldUseOzPlayer","showVideoUnavailableDialog","throttle"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C){__p&&__p();var D,E=!1,F=null,G;function a(){if(E)return;v.listen("click",u.PLAY_SIGIL,Q);v.listen("m:page:unload",null,J);v.listen(["m:jewel:flyout:open","m:popup:show","m:side-area:show"],null,K);E=!0}function H(){F&&F.isVisible()&&F.getVideoData().playInFullScreen==="true"&&!i.isFullScreen()&&(J(),i.removeFullScreenEventListeners(window,H))}function I(){if(!F)return;var a=F.getVideoData(),b=F.getVideoElement(),c=a.effectiveSrc;a=a.type;Array.isArray(c)&&(a!=="video"||c.length===1)&&(c=c[0]);a==="video"&&Array.isArray(c)?c.forEach(function(a){b.appendChild(g.create("source",a))}):c&&b.setAttribute("src",c);a==="video"&&b.load()}function J(){if(!F)return;F.destroy();F=null;D=null;G&&(G.release(),G=null)}function K(){if(!F||!F.hasActivePlayer())return;j.get(D).type!=="video"?J():F&&(F.pause(x.PAGE_VISIBILITY),F.hide())}function L(){return F?F.getLastActionReason():x.USER}function b(){return D}function M(a){F&&F.pause(a)}function N(a){F&&F.play(a)}function c(a){F&&F.setLastActionReason(a)}function O(a,b){__p&&__p();var c=null,d=null;b.videoCodec?(c=a.getMediaSource().addSourceBuffer('video/mp4; codecs="'+b.videoCodec+'"'),c.addEventListener("updateend",function(){a.videoStreamEnded()},!1)):a.videoStreamEnded();b.audioCodec?(d=a.getMediaSource().addSourceBuffer('audio/mp4; codecs="'+b.audioCodec+'"'),d.addEventListener("updateend",function(){a.audioStreamEnded()},!1)):a.audioStreamEnded();b.videoCodec&&o.getCachedVideoStream(b,function(a){var b=new FileReader();b.addEventListener("loadend",function(){c.appendBuffer(b.result)});b.readAsArrayBuffer(a)},y);b.audioCodec&&o.getCachedAudioStream(b,function(a){var b=new FileReader();b.addEventListener("loadend",function(){d.appendBuffer(b.result)});b.readAsArrayBuffer(a)},y)}function P(a,b){__p&&__p();var c=null,d=null,e=null,f=null,g=function(a,b,c){b.getNextBuffer(function(b){if(b){var d=new FileReader();d.addEventListener("loadend",function(){a.appendBuffer(d.result)});d.readAsArrayBuffer(b)}else c()})};b.videoCodec?(e=o.getCachedVideoStreamObject(b),c=a.getMediaSource().addSourceBuffer('video/mp4; codecs="'+b.videoCodec+'"'),c.addEventListener("updateend",function(){g(c,e,function(){a.videoStreamEnded()})},!1)):a.videoStreamEnded();b.audioCodec?(f=o.getCachedAudioStreamObject(b),d=a.getMediaSource().addSourceBuffer('audio/mp4; codecs="'+b.audioCodec+'"'),d.addEventListener("updateend",function(){g(d,f,function(){a.audioStreamEnded()})},!1)):a.audioStreamEnded();b.videoCodec&&g(c,e,function(){a.videoStreamEnded()});b.audioCodec&&g(d,f,function(){a.audioStreamEnded()})}function Q(a,b,c,d){R(a,b,c,d)}function R(a,b,c,d){__p&&__p();b||(b=a.getNode(u.INSERTION_POINT_SIGIL));d=d||x.USER;var e=u.getVideoDataFromMVideo(b),f=o.isVideoDownloading(e.videoID);if(f)return;if(F&&F.getMVideoElement()===b&&F.isVisible())return;a&&a.prevent();e.effectiveSrc=e.src;var g=o.isSupported()&&e.canUseOffline&&o.getCachedVideoByID(e.videoID);if(g){f=g&&p.checkAccess(g);o.logPlaybackRequest(e.videoID,f,d);if(!f){B();return}else{var h=new s(new MediaSource());h.getMediaSource().addEventListener("sourceopen",function(){q.cache_chunked_playback_enabled?P(h,g):O(h,g)},!1);e.effectiveSrc=window.URL.createObjectURL(h.getMediaSource())}}e.muted=e.playMuted!=null?e.playMuted:!!c;S(a,b,e,d)}function S(a,b,c,d){__p&&__p();if(!F||F.getMVideoElement()!==b){v.invoke("m:video:player:prepare",null,{videoElement:b});J();D=b;(D===null||D===undefined)&&h("mtouch_video").warn("mVideoContainer is not available");b=T(c);F=new b(D,d);b!==k&&I()}F.show();c.playOnClick&&c.type==="video"&&(F.play(d),c.playInFullScreen&&i.isSupported()&&(i.listenForFullScreenEvent(window,H),c.useShaka?(i.enableFullScreen(D),screen&&screen.orientation&&screen.orientation.lock&&screen.orientation.lock("landscape")):i.enableFullScreen(F.getVideoElement())));F.showLoadingSpinner();U(D,c,F.getVideoElement());a&&u.handleLoggingOnPlay(a,F,c)}function T(a){if(a.useShaka)return m;else if(r.enableSphericalVideo&&a.spherical)return n;else if(A(a,k.hasResolvedDependecies(),!0))return k;return l}function U(a,b,c){var d=500;b.videoScrollUseLowThrottleRate&&(d=200);G||(G=new w());b.videoPlayerVisibilityBehavior&&b.videoPlayerVisibilityBehavior!==t.IGNORE_VISIBILITY&&G.addSubscriptions(v.listen("scroll",null,C(function(){return V(a,b,c)},d)))}function V(a,b,c){if(!F)return;a=i.isFullScreen()||u.isVisible(z(a));!a&&F.isPlayScheduled()&&(b.videoPlayerVisibilityBehavior===t.PAUSE&&L()!==x.AUTOPLAY||b.videoPlayerVisibilityBehavior===t.PAUSE_IF_MUTED&&(c.muted||c.volume===0))?M(x.VIDEO_VISIBILITY):a&&!F.isPlayScheduled()&&L()===x.VIDEO_VISIBILITY&&N(x.VIDEO_VISIBILITY)}function d(){return F?F.isPlayScheduled()?u.PLAYER_STATE.playing:u.PLAYER_STATE.paused:u.PLAYER_STATE.paused}f.getLastActionReason=L;f.getPlayerState=d;f.getPlayerDOMVideoElement=b;f.pause=M;f.play=N;f.removePlayer=J;f.setLastActionReason=c;f.setupListeners=a;f.showPlayer=R}),null);
__d("MVideoAutoplayPlayerBase",["EventEmitter"],(function(a,b,c,d,e,f,g){__p&&__p();var h;b=babelHelpers.inherits(a,g);h=b&&b.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=h.constructor).call.apply(a,[this].concat(d)),this.wasVisible=!1,b}a.prototype.isVisible=function(){"use strict";throw new Error("Should be overridden")};a.prototype.getDistanceToViewport=function(){"use strict";throw new Error("Should be overridden")};a.prototype.playWithoutUnmute=function(a){"use strict";throw new Error("Should be overridden")};a.prototype.prepareForPlay=function(){"use strict";throw new Error("Should be overridden")};a.prototype.pause=function(a){"use strict";throw new Error("Should be overridden")};a.prototype.isAutoplayable=function(){"use strict";throw new Error("Should be overridden")};a.prototype.getDOMPosition=function(){"use strict";throw new Error("Should be overridden")};a.prototype.isLooping=function(){"use strict";throw new Error("Should be overridden")};a.prototype.isState=function(a){"use strict";throw new Error("Should be overridden")};a.prototype.setLastActionReason=function(a){"use strict";throw new Error("Should be overridden")};e.exports=a}),null);
__d("MVideoPlayerApiEvents",[],(function(a,b,c,d,e,f){a=["volumeChange","stateChange","fullscreenChange","destroyed","prepare"];e.exports=a}),null);
__d("MVideoPrefetcher",["Promise","MVideoAutoplayConfig","Run"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();var j=null,k=500;function l(){"use strict";this.$1=new Map(),this.$2=new Map(),this.$3=[],this.$4=[],this.$5=0,this.$6=1}l.prototype.$7=function(a,b,c){"use strict";c.lastProgressValue*1e3>h.autoplay_prefetch_duration_threshold_ms||c.video.duration&&c.lastProgressValue>.9*c.video.duration?(clearInterval(c.watchdog),this.$8(c),this.$2.set(c.url,!0),a()):(clearInterval(c.watchdog),this.$8(c),b(new Error("Insufficient data received for a video preload")))};l.prototype.$9=function(a){"use strict";__p&&__p();var b=document.createElement("video");b.setAttribute("src",a);b.setAttribute("preload","auto");var c={};c.video=b;c.lastProgressTime=Date.now();c.lastProgressValue=0;c.url=a;var d=new g(function(a,d){c.watchdog=setInterval(function(){var b=Date.now();b>c.lastProgressTime+h.autoplay_prefetch_waiting_time_ms&&this.$7(a,d,c)}.bind(this),k),b.addEventListener("progress",function(){var a=b.buffered&&b.buffered.end&&b.buffered.length>0?b.buffered.end(0):0;a>c.lastProgressValue&&(c.lastProgressValue=a,c.lastProgressTimestamp=Date.now())})}.bind(this));this.$10(a,d);this.$3.push(c);b.load();return d};l.prototype.$11=function(a){"use strict";var b=[];for(var c=0;c<a.length;c++){var d=l.createQueryStringURL(a[c]);this.$1.has(d)||b.push(this.$9(d))}return b};l.prototype.$12=function(a){"use strict";this.$5++;a=this.$11(a.video);g.all(a).then(function(){this.$13()}.bind(this))["catch"](function(){return this.$13()}.bind(this))};l.prototype.$10=function(a,b){"use strict";__p&&__p();var c=!!this.$1.values().next().done;c&&i.onLeave(function(){for(var a=0;a<this.$3.length;a++)this.$14(this.$3[a]);this.$3=[];this.$4=[];this.$5=0;this.$1.clear()}.bind(this));this.$1.set(a,b)};l.prototype.$14=function(a){"use strict";a=a.video;a.setAttribute("src","");a.load&&a.load()};l.prototype.$8=function(a){"use strict";this.$14(a);a=this.$3.indexOf(a);a>-1&&this.$3.splice(a,1)};l.prototype.$13=function(){"use strict";this.$5--;var a=this.$4.shift();a&&this.$12(a)};l.prototype.getAndDelete=function(a){"use strict";var b=this.$1.get(a);this.$1["delete"](a);return b};l.prototype.getPreloadCache=function(a){"use strict";return this.$2.get(a)};l.prototype.queueRequestBatch=function(a){"use strict";this.$6===0||this.$5<this.$6?this.$12(a):this.$4.push(a)};l.getInstance=function(){"use strict";j===null&&(j=new l());return j};l.createQueryStringURL=function(a){"use strict";return a.url};l.loadVideo=function(a){"use strict";var b=l.getInstance();b.queueRequestBatch({video:[{url:a}]})};l.isVideoPreloaded=function(a){"use strict";return!!l.getInstance().getPreloadCache(a)};e.exports=l}),null);
__d("MVideoPlayerController",["EventEmitter","MInlineVideo","MLegacyDataStore","MOzExperiments","MOzVideoPlayerApi","MVideoDashPrefetchCache","MVideoPrefetcher","Stratcom","destroyOnUnload","getElementPosition","shouldUseOzPlayer"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){__p&&__p();var r,s="MVideoPlayerController_instance",t=null,u=null;a=babelHelpers.inherits(v,g);r=a&&a.prototype;function v(a,b,c,d,e,f){"use strict";r.constructor.call(this),k.setJSModules(c,d,e),this.$MVideoPlayerController2=b.video_ids,this.$MVideoPlayerController3=a.video_element,this.$MVideoPlayerController1=a.root_element,this.$MVideoPlayerController6=f,!j.no_prefetch_for_ctp&&!j.no_quickstarter_for_ctp&&(this.prefetch(),this.prepareMVideoPlayerApi()),this.$MVideoPlayerController4="ready",this.$MVideoPlayerController7(this.$MVideoPlayerController3),this.$MVideoPlayerController5=null,v.$MVideoPlayerController8()}v.prototype.prepareMVideoPlayerApi=function(a){"use strict";k.prepare(this.$MVideoPlayerController3,this.$MVideoPlayerController6,a)};v.prototype.prefetch=function(){"use strict";if(!this.$MVideoPlayerController6)return;this.$MVideoPlayerController6.connection_quality_level?l.loadVideo(this.$MVideoPlayerController6.prefetch_data,this.$MVideoPlayerController6.use_credentials,this.$MVideoPlayerController6.connection_quality_level):l.loadVideo(this.$MVideoPlayerController6.prefetch_data,this.$MVideoPlayerController6.use_credentials)};v.prototype.isFullscreen=function(){"use strict";return!1};v.prototype.getVideoID=function(){"use strict";return this.$MVideoPlayerController2[0]};v.prototype.play=function(a){"use strict";this.emit("playRequested",a),this.sendPlayRequest(a)};v.prototype.prepareForPlay=function(){"use strict"};v.prototype.sendPlayRequest=function(a){"use strict";var b=!0;h.showPlayer(null,this.$MVideoPlayerController3,b,a);h.play(a)};v.prototype.pause=function(a){"use strict";this.emit("pauseRequested",a),h.pause(a)};v.prototype.isAutoplayable=function(){"use strict";return!1};v.prototype.getDOMPosition=function(){"use strict";return p(this.getRootNode())};v.prototype.setState=function(a){"use strict";this.$MVideoPlayerController4=a,this.emit("stateChange")};v.prototype.isState=function(a){"use strict";return this.$MVideoPlayerController4===a};v.prototype.getVideoNode=function(){"use strict";return this.$MVideoPlayerController3};v.prototype.getRootNode=function(){"use strict";return this.$MVideoPlayerController1};v.prototype.setLastActionReason=function(a){"use strict";this.$MVideoPlayerController5=a,a&&h.setLastActionReason(a)};v.prototype.getLastActionReason=function(){"use strict";return this.$MVideoPlayerController5};v.prototype.preload=function(){"use strict";var a=i.get(this.$MVideoPlayerController3),b=a&&a.src;b&&!q(a,k.hasResolvedDependecies())&&m.loadVideo(b)};v.prototype.isPreloaded=function(){"use strict";var a=i.get(this.$MVideoPlayerController3);a=a&&a.src;return a&&m.isVideoPreloaded(a)};v.$MVideoPlayerController8=function(){"use strict";__p&&__p();if(t)return;t=[n.listen("m:video:player:play",null,function(a){a=v.$MVideoPlayerController9(a);v.handleApiBeginPlayback(a)}),n.listen("m:video:player:pause",null,function(a){var b=v.$MVideoPlayerController9(a);a=!!(a.getData()&&a.getData().destroyed);v.handleApiPausePlayback(b,a)}),n.listen("m:video:player:ended",null,function(a){a=v.$MVideoPlayerController9(a);v.handleApiFinishPlayback(a)}),n.listen("m:video:player:volumechange",null,function(a){a=v.$MVideoPlayerController9(a);v.handleApiVolumeChange(a)}),n.listen("m:video:player:fullscreenchange",null,function(a){a=v.$MVideoPlayerController9(a);v.handleApiFullScreenChange(a)}),n.listen("m:video:player:prepare",null,function(a){a=v.$MVideoPlayerController9(a);v.handleApiPrepare(a)}),n.listen("m:video:player:destroy",null,function(a){a=v.$MVideoPlayerController9(a);v.handleApiDestroyed(a)})];o(function(){t&&(t.forEach(function(a){return a.remove()}),t=null)})};v.handleApiBeginPlayback=function(a){"use strict";a=i.get(a)[s];a&&a.$MVideoPlayerController10()};v.handleApiPausePlayback=function(a,b){"use strict";a=i.get(a)[s];a&&a.$MVideoPlayerController11(b)};v.handleApiFinishPlayback=function(a){"use strict";a=i.get(a)[s];a&&a.$MVideoPlayerController12()};v.handleApiVolumeChange=function(a){"use strict";a=i.get(a)[s];a&&a.$MVideoPlayerController13()};v.handleApiFullScreenChange=function(a){"use strict";a=i.get(a)[s];a&&a.$MVideoPlayerController14()};v.handleApiDestroyed=function(a){"use strict";a=i.get(a)[s];a&&a.$MVideoPlayerController15()};v.handleApiPrepare=function(a){"use strict";a=i.get(a)[s];a&&a.$MVideoPlayerController16()};v.prototype.$MVideoPlayerController10=function(){"use strict";this.setState("playing")};v.prototype.$MVideoPlayerController11=function(a){"use strict";!this.isState("finished")&&!this.isState("ready")&&(!a?this.setState("paused"):this.setState("ready"))};v.prototype.$MVideoPlayerController12=function(){"use strict";this.setState("finished")};v.prototype.$MVideoPlayerController13=function(){"use strict";this.emit("volumeChange")};v.prototype.$MVideoPlayerController14=function(){"use strict";this.emit("fullscreenChange")};v.prototype.$MVideoPlayerController15=function(){"use strict";this.setState("ready"),this.emit("destroyed")};v.prototype.$MVideoPlayerController16=function(){"use strict";this.emit("prepare")};v.prototype.$MVideoPlayerController7=function(a){"use strict";var b={};b[s]=this;i.set(a,b)};v.$MVideoPlayerController9=function(a){"use strict";a=a.getData();return a&&a.videoElement};v.isBrowserAutoplayEnabled=function(){"use strict";if(u===null){var a=document.createElement("video");a.muted=!0;a.play();u=!a.paused;a.pause()}return u};e.exports=v}),null);
__d("VideoAutoplayValues",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ON:"on",OFF:"off",DOWNLOADED_ONLY:"downloaded_only",WIFI_ONLY:"wifi_only",DEFAULT_AUTOPLAY:"default_autoplay"})}),null);
__d("MFeedVideoPlayerController",["MFullScreen","MOzExperiments","MVideoAutoplayConfig","MVideoAutoplayPlayerBase","MVideoCache","MVideoDownloadState","MVideoDownloadStateHandler","MVideoExperiments","MVideoPlayerApiEvents","MVideoPlayerController","MVideoUtils","VideoAutoplayValues","VideoPlayerReason","destroyOnUnload","getViewportDimensions"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){__p&&__p();var v,w=.5;b=babelHelpers.inherits(a,j);v=b&&b.prototype;function a(a,b){"use strict";__p&&__p();v.constructor.call(this);this.$MFeedVideoPlayerController1=b;this.$MFeedVideoPlayerController2=a;this.$MFeedVideoPlayerController3=b.controller;this.$MFeedVideoPlayerController5=!1;this.$MFeedVideoPlayerController4=[];t(function(){this.$MFeedVideoPlayerController4.forEach(function(a){return a.remove()}),this.$MFeedVideoPlayerController4=[]}.bind(this));this.$MFeedVideoPlayerController6();if(h.no_prefetch_for_ctp||h.no_quickstarter_for_ctp){a=this.isAutoplayable();(!h.no_prefetch_for_ctp||h.no_prefetch_for_ctp&&a)&&this.$MFeedVideoPlayerController3.prefetch();this.$MFeedVideoPlayerController3.prepareMVideoPlayerApi(this)}this.$MFeedVideoPlayerController1.should_autoplay&&this.$MFeedVideoPlayerController7()}a.prototype.$MFeedVideoPlayerController7=function(){"use strict";p.isBrowserAutoplayEnabled()&&!k.isVideoDownloaded(this.getVideoID())&&this.$MFeedVideoPlayerController8()&&i.autoplay_prefetch_enabled&&(this.$MFeedVideoPlayerController3.preload&&this.$MFeedVideoPlayerController3.preload())};a.prototype.$MFeedVideoPlayerController8=function(){"use strict";__p&&__p();var a=this.$MFeedVideoPlayerController1.autoplay_setting;if(a===r.OFF)return!1;else if(k.isVideoDownloaded(this.getVideoID()))return!1;else if(a===r.WIFI_ONLY&&this.$MFeedVideoPlayerController9("WIFI"))return!0;else if(a===r.ON&&this.$MFeedVideoPlayerController9())return!0;return!1};a.prototype.$MFeedVideoPlayerController9=function(a){"use strict";var b=q.getNetworkBandwidth();if(!b)if(n.desktop_no_bandwidthmax)return!0;else b=0;var c=q.getConnectivityType(),d=this.$MFeedVideoPlayerController1.autoplay_bandwidth_threshold_mbps!=null?this.$MFeedVideoPlayerController1.autoplay_bandwidth_threshold_mbps:i.autoplay_bandwidth_threshold_mbps;c=(!a||c===a)&&b>=d;return c};a.prototype.isVisible=function(){"use strict";return this.$MFeedVideoPlayerController3.isFullscreen()||g.isFullScreen()?!0:q.isVisible(this.getDOMPosition())};a.prototype.getDistanceToViewport=function(){"use strict";if(this.$MFeedVideoPlayerController3.isFullscreen())return 0;var a=u().height,b=this.getDOMPosition();if(b.height===0)return-Infinity;b=b.y+(1-w)*b.height;return b-a/2};a.prototype.playWithoutUnmute=function(a){"use strict";this.$MFeedVideoPlayerController3.play(a)};a.prototype.prepareForPlay=function(){"use strict";!k.isVideoDownloaded(this.getVideoID())&&i.autoplay_prefetch_enabled&&i.autoplay_prepare_next_video_enabled&&this.$MFeedVideoPlayerController3.prepareForPlay()};a.prototype.pause=function(a){"use strict";this.$MFeedVideoPlayerController3.pause(a)};a.prototype.isAutoplayable=function(){"use strict";var a=!1,b=this.getVideoID();p.isBrowserAutoplayEnabled()&&!this.$MFeedVideoPlayerController5&&(this.$MFeedVideoPlayerController1.should_autoplay&&(k.isVideoDownloaded(b)?a=!1:this.$MFeedVideoPlayerController8()&&(i.autoplay_prefetch_required_for_playback?a=this.$MFeedVideoPlayerController3.isPreloaded():a=!0)));return a};a.prototype.getDOMPosition=function(){"use strict";return this.$MFeedVideoPlayerController3.getDOMPosition()};a.prototype.isLooping=function(){"use strict";return!1};a.prototype.getVideoID=function(){"use strict";return this.$MFeedVideoPlayerController3.getVideoID()};a.prototype.$MFeedVideoPlayerController6=function(){"use strict";var a=[["stateChange",function(a){return this.$MFeedVideoPlayerController10(a)}.bind(this)]],b=function(event){return this.emit.bind(this,event)}.bind(this);this.$MFeedVideoPlayerController4=a.map(function(a){return this.$MFeedVideoPlayerController3.addListener(a[0],a[1])}.bind(this)).concat(o.map(function(a){return this.$MFeedVideoPlayerController3.addListener(a,b(a))}.bind(this)));m.listen(this.getVideoID(),function(a){return this.$MFeedVideoPlayerController11(a)}.bind(this))};a.prototype.$MFeedVideoPlayerController10=function(){"use strict";this.$MFeedVideoPlayerController12()};a.prototype.$MFeedVideoPlayerController12=function(){"use strict";(!this.isState("playing")&&this.getLastActionReason()===s.USER||this.isState("finished"))&&(this.$MFeedVideoPlayerController5=!0,this.emit("autoplayableChange"))};a.prototype.$MFeedVideoPlayerController11=function(a){"use strict";a.state===l.DOWNLOADED&&(this.$MFeedVideoPlayerController5=!1,this.setLastActionReason(null),this.emit("autoplayableChange"))};a.prototype.isState=function(a){"use strict";return this.$MFeedVideoPlayerController3.isState(a)};a.prototype.getLastActionReason=function(){"use strict";return this.$MFeedVideoPlayerController3.getLastActionReason()};a.prototype.setLastActionReason=function(a){"use strict";this.$MFeedVideoPlayerController3.setLastActionReason(a),this.$MFeedVideoPlayerController12()};e.exports=a}),null);
__d("MVideoAutoplayControllerBase",["Stratcom","SubscriptionsHandler","VideoPlayerReason","Visibility","destroyOnUnload","throttle"],(function(a,b,c,d,e,f,g,h,i,j,k,l){__p&&__p();function a(a){"use strict";this.$3=null,this.$2=null,this.$6=[],this.$1=a,this.$4=null,this.$5=new h(),k(function(){this.$6=[],this.$3=null,this.$4&&(this.$4.remove(),this.$4=null),this.$5.release()}.bind(this))}a.prototype.getVideoUnits=function(){"use strict";return this.$6};a.prototype.setVideoUnits=function(a){"use strict";this.$6=a};a.prototype.addVideoUnit=function(a){"use strict";this.$6.push(a)};a.prototype.getPlayingVideoUnit=function(){"use strict";return this.$3};a.prototype.setPlayingVideoUnit=function(a){"use strict";this.$3=a};a.prototype.playVideo=function(a,b){"use strict";this.setPlayingVideoUnit(a),this.$3&&this.$3.playWithoutUnmute(b)};a.prototype.addSubscriberVideoUnit=function(){"use strict";this.getVideoUnits().length||(this.$5.addSubscriptions(g.listen("resize",null,this.updateAutoplay.bind(this)),g.listen("blur",null,this.$8.bind(this)),g.listen("focus",null,this.$9.bind(this)),j.addListener(j.HIDDEN,this.$8.bind(this)),j.addListener(j.VISIBLE,this.$9.bind(this)),g.listen("MScrollArea:scrollend",null,l(this.updateAutoplay.bind(this),this.$1)),g.listen("MScrollArea:scroll",null,l(this.updateAutoplay.bind(this),this.$1)),g.listen("MScrollArea:create",null,l(this.updateAutoplay.bind(this),this.$1)),g.listen("MScrollArea:reflow",null,l(this.updateAutoplay.bind(this),this.$1))),this.$10()||this.$11())};a.prototype.$8=function(){"use strict";this.autoplayActive()&&!this.$2&&(this.$2=this.getPlayingVideoUnit(),this.pausePlayingVideo(i.PAGE_VISIBILITY))};a.prototype.$9=function(){"use strict";this.autoplayActive()&&this.$2&&(this.playVideo(this.$2,i.PAGE_VISIBILITY),this.$2=null)};a.prototype.$11=function(){"use strict";this.$4&&(this.$4.remove(),this.$4=null),this.$7=l(this.updateAutoplay.bind(this),this.$1),this.$4=g.listen("scroll",null,this.$12.bind(this))};a.prototype.$12=function(){"use strict";this.$7()};a.prototype.$10=function(){"use strict";return!!this.$4};a.prototype.getClosestVideoUnits=function(a,b){"use strict";return this.$6.filter(function(a){return a.getDistanceToViewport()>=0&&(!b||b&&a.isAutoplayable())}).sort(function(a,b){return a.getDistanceToViewport()-b.getDistanceToViewport()}).slice(0,a)};a.prototype.getVisibleUnits=function(){"use strict";var a=[];this.$6.forEach(function(b){b.isVisible()?(a.push(b),b.wasVisible||(b.wasVisible=!0)):b.wasVisible=!1});return a};a.prototype.pausePlayingVideo=function(a){"use strict";var b=this.$3;b&&(b.pause(a),this.$3=null)};a.prototype.updateAutoplay=function(){"use strict";throw new Error("Should be overridden")};a.prototype.autoplayActive=function(){"use strict";throw new Error("Should be overridden")};e.exports=a}),null);
__d("MVideoAutoplayControllerX",["MVideoAutoplayControllerBase","SubscriptionsHandler","VideoPlayerReason","destroyOnUnload","getViewportDimensions","setImmediate"],(function(a,b,c,d,e,f,g,h,i,j,k,l){__p&&__p();var m,n=null,o=500;a=babelHelpers.inherits(p,g);m=a&&a.prototype;function p(){"use strict";m.constructor.call(this,o),this.$MVideoAutoplayControllerX1=!0,this.$MVideoAutoplayControllerX2=new h(),this.$MVideoAutoplayControllerX3=null,j(function(){this.$MVideoAutoplayControllerX4(),this===n&&(n=null)}.bind(this))}p.registerVideoUnit=function(a){"use strict";n==null&&(n=new p()),n.addSubscriberVideoUnit(),n.addVideoUnit(a),n.$MVideoAutoplayControllerX5(a),a.isVisible()&&n.updateAutoplay()};p.setShouldAutoplay=function(a){"use strict";n==null&&(n=new p()),n.$MVideoAutoplayControllerX1=a,n.updateAutoplay()};p.prototype.$MVideoAutoplayControllerX4=function(){"use strict";this.$MVideoAutoplayControllerX2.release()};p.prototype.$MVideoAutoplayControllerX6=function(a){"use strict";a&&(a.setLastActionReason(i.USER),this.getPlayingVideoUnit()&&this.setPlayingVideoUnit(null)),this.$MVideoAutoplayControllerX3=a,this.updateAutoplay()};p.prototype.$MVideoAutoplayControllerX5=function(a){"use strict";__p&&__p();if(!a.addListener)return;var b=function(){this.getPlayingVideoUnit()==a&&a.isState("paused")||this.getPlayingVideoUnit()!=a&&a.isState("playing")?this.$MVideoAutoplayControllerX6(a):a==this.$MVideoAutoplayControllerX3&&a.isState("finished")&&this.$MVideoAutoplayControllerX6(null)}.bind(this),c=function(){(a.isState("playing")||a.isState("paused"))&&this.$MVideoAutoplayControllerX6(a)}.bind(this),d=function(){this.getPlayingVideoUnit()!=a&&this.$MVideoAutoplayControllerX6(a)}.bind(this),e=function(){this.updateAutoplay()}.bind(this),f=function(){this.$MVideoAutoplayControllerX3&&this.$MVideoAutoplayControllerX3==a&&this.$MVideoAutoplayControllerX6(null)}.bind(this);this.$MVideoAutoplayControllerX2.addSubscriptions(this.$MVideoAutoplayControllerX7(a,"stateChange",b),this.$MVideoAutoplayControllerX7(a,"prepare",d),this.$MVideoAutoplayControllerX7(a,"volumeChange",c),this.$MVideoAutoplayControllerX7(a,"fullscreenChange",c),this.$MVideoAutoplayControllerX7(a,"autoplayableChange",e),this.$MVideoAutoplayControllerX7(a,"destroyed",f))};p.prototype.$MVideoAutoplayControllerX7=function(a,event,b){"use strict";a=a.addListener(event,function(){l(function(){b()})});return a};p.prototype.autoplayActive=function(){"use strict";this.$MVideoAutoplayControllerX3&&!this.$MVideoAutoplayControllerX3.isVisible()&&!this.$MVideoAutoplayControllerX3.isState("playing")&&(this.$MVideoAutoplayControllerX3=null);return this.$MVideoAutoplayControllerX3==null};p.prototype.updateAutoplay=function(){"use strict";__p&&__p();if(!this.autoplayActive())return;if(!this.$MVideoAutoplayControllerX1){this.pausePlayingVideo(i.AUTOPLAY);return}var a=this.getVisibleUnits(),b=a.length,c=null;if(b==1)c=a[0],c=c.isAutoplayable()?c:null;else if(b>1){var d=k().height/2;a.forEach(function(a){if(!a.isAutoplayable())return;var b=a.getDOMPosition();b=b.y+b.height/2;b=Math.abs(b-d);a.playPriority=b;(!c||typeof c.playPriority==="number"&&a.playPriority<c.playPriority)&&(c=a)})}this.getPlayingVideoUnit()?c!=this.getPlayingVideoUnit()&&(this.pausePlayingVideo(i.AUTOPLAY),this.playVideo(c,i.AUTOPLAY)):c&&this.playVideo(c,i.AUTOPLAY);b=this.getClosestVideoUnits(2,!0);a=b.length;var e=null;for(var f=0;f<a;f++)if(b[f]!==c){e=b[f];break}e&&e.prepareForPlay()};e.exports=p}),null);
__d("MVideoFeedRegister",["MFeedVideoPlayerController","MVideoAutoplayControllerX"],(function(a,b,c,d,e,f,g,h){a={registerVideoUnit:function(a,b){a=new g(a,b);h.registerVideoUnit(a)}};e.exports=a}),null);