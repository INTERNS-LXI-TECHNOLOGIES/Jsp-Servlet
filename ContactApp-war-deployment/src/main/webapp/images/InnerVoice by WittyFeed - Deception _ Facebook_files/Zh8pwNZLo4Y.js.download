if (self.CavalryLogger) { CavalryLogger.start_js(["iLFOK"]); }

__d("LoggedOutLoginSignupBarTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();function a(){this.clear()}a.prototype.log=function(){h.log("logger:LoggedOutLoginSignupBarLoggerConfig",this.$1,g.BASIC)};a.prototype.logVital=function(){h.log("logger:LoggedOutLoginSignupBarLoggerConfig",this.$1,g.VITAL)};a.prototype.logImmediately=function(){h.log("logger:LoggedOutLoginSignupBarLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setEvent=function(a){this.$1.event=a;return this};a.prototype.setIsPrimaryCtaReg=function(a){this.$1.is_primary_cta_reg=a;return this};a.prototype.setSurface=function(a){this.$1.surface=a;return this};b={event:!0,is_primary_cta_reg:!0,surface:!0};e.exports=a}),null);
__d("LoggedOutLoginSignupBarEvents",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({LOGIN_SIGNUP_BAR_LOAD:"login_signup_bar_load",REGISTRATION_CLICK:"registration_click",LOGIN_CLICK:"login_click"})}),null);
__d("MPopupSmallCta",["LoggedOutLoginSignupBarEvents","LoggedOutLoginSignupBarTypedLogger","MAnimator","MViewport","Style","ge"],(function(a,b,c,d,e,f,g,h,i,j,k,l){"use strict";__p&&__p();var m=150,n=1e3,o=214;a={show:function(a,b,c,d){this._expandingCta=a,this._ctaUnit=b,this._closeIcon=c,this._ctaVisible=!1,this._ctaShownOnce=!1,this._ctaClosed=!1,this._referrerSurface=d,window.addEventListener("load",this._init.bind(this))},_init:function(){__p&&__p();var a=l("header"),b=l("header-notices"),c=l("mobile_login_bar");this._scrollThreshold=0;this._height=o;if(a){k.set(a,"z-index","0");a=a.clientHeight;a&&(this._scrollThreshold+=a)}if(b){k.set(b,"z-index","0");a=b.clientHeight;a&&(this._scrollThreshold+=a)}if(c){b=c.clientHeight;b&&(this._scrollThreshold+=b,this._height=b)}setInterval(this._updateCTA.bind(this),n);this._closeIcon.addEventListener("click",function(a){this._ctaClosed=!0,this._hideCTA()}.bind(this))},_hideCTA:function(){var a=this._expandingCta.clientHeight;i.play(a,0,m,function(a){return k.set(this._expandingCta,"height",Math.round(a)+"px")}.bind(this));this._ctaVisible=!1;clearTimeout(this._timerId)},_showCTA:function(){__p&&__p();if(this._ctaVisible)return;new h().setEvent(g.LOGIN_SIGNUP_BAR_LOAD).setSurface(this._referrerSurface).log();k.set(this._ctaUnit,"margin-top","0px");k.set(this._expandingCta,"background","none");i.play(0,this._height,m,function(a){return k.set(this._expandingCta,"height",Math.round(a)+"px")}.bind(this));this._ctaVisible=!0;this._ctaShownOnce=!0;clearTimeout(this._timerId)},_updateCTA:function(){var a=j.getHeight();if(a<this._height)if(this._ctaVisible)this._hideCTA();else return;a=this._scrollThreshold;!this._ctaVisible&&!this._ctaClosed&&j.getScrollTop()>a&&this._showCTA();this._ctaVisible&&j.getScrollTop()<a&&this._hideCTA()}};e.exports=a}),null);
__d("MFullSizeLink",["EventListener","gkx","goURI"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j="data-full-size-href";a={registerFullSizePhotoLink:function(a){a=a.querySelector("["+j+"]");if(a){var b=a.getAttribute(j);b&&g.listen(a,"click",function(){h("AT5q9GGXfdfOVO3WM6pUqsKAMNipZWNohjYVG-xX7QPlI7WLNJZT7-D7H7bpGTx86j0iWCb-iy3rnIrbvn49t9JV")&&i(b)})}}};e.exports=a}),null);
__d("MPhotoStage",["CSS","DOM","MInputFocus","MJSEnvironment","MLegacyDataStore","MRequest","MURI","MViewport","Stratcom","Vector","cx","prefetchImage","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){__p&&__p();var t=!1,u="photo-stage",v="photo-image",w="facebox",x="new-tag-placeholder",y="photos-input-tag-notice",z="photos-input-tag",A="photo-tag-loading",B="popup-nub",C="tokenizer-input",D="transfer-focus-container",E=2e3,F=200,G=null,H=null,I=null,J=null;function K(a,b,c){var d=0,e=n.getUseableWidth();c>e?d=c-e:b<0&&(d=b);return d===0?a:new p(a.x-d,a.y)}function L(a){if(!a)return;g.conditionClass(a,"_57-n",!!I);I?(clearTimeout(I),I=null):I=s(function(){L(a)},E)}function M(){G=null;while(J.length)J.pop().remove();t=!1;I&&(clearTimeout(I),I=null)}function N(a){var b=p.getPos(a);a=p.getDim(a);var c=p.getPos(G);b=new p(b.x+a.x/2,b.y+a.x-c.y);a=h.find(G,"*",A);b.setPos(a);h.show(a)}function O(a,b,c){__p&&__p();var d=new m(a.write_tag_uri);d.addQueryData("id",a.owner_id);d.addQueryData("facebox_id",b.facebox_id);d.addQueryData("replace_id",x);d.addQueryData("sd_source",a.source);d.addQueryData("sd_set",a.set);a={};a["ids["+c+"]"]=c;a["x["+c+"]"]=b.facebox_center.x;a["y["+c+"]"]=b.facebox_center.y;c=new l(d.normalize().toString()).addData(a);return c}function P(a,b){__p&&__p();H=a;var c=h.find(G,"*",z),d=h.find(G,"*",y),e=p.getPos(G),f=p.getPos(a);a=p.getDim(a);a=new p(f.x+a.x/2,f.y+a.y-e.y);e=K(a,a.x-F/2,a.x+F/2);var g=h.find(c,"*",B);g.style.left=a.x-e.x+"px";g=k.get(H);g.suggestions&&b.tokenizer.updateSuggestionsIds(g.suggestions);e.setPos(c);h.show(c);h.show(d);a=h.find(c,"*",C);a.focus();i.scrollTo(a,f.y);I&&(clearTimeout(I),I=null)}function Q(a){__p&&__p();var b=h.find(G,"*",z),c=h.find(G,"*",y);if(H){var d=k.get(H),e=k.get(G);e=O(e,d,a);N(H);e.listen("finally",function(){var a=h.find(G,"*",A);h.hide(a);L(G)});e.send();h.hide(H);h.hide(b);h.hide(c);h.find(b,"*",C).blur();H=null}I=s(function(){L(G)},E)}a=function(a,b){__p&&__p();if(t)return;G=a;t=!0;a="touchend";j.IS_ANDROID&&(a="click");b&&b.use_faceboxes?J=[o.listen(a,u,function(event){if(H){var a=h.find(G,"*",z),b=h.find(G,"*",y);h.find(a,"*",C).blur();h.hide(a);h.hide(b);H=null;event.kill()}else L(event.getNode(u))}),o.listen(a,w,function(event){var a=h.find(G,"*",D),b=event.getNode(w);P(b,a);event.kill()}),o.listen(a,D,function(event){var a=event.getNode(D);a=h.find(a,"*",C);a.focus();H&&i.scrollTo(a,p.getPos(H).y);event.kill()}),o.listen("Tokenizer-addedtoken",null,function(event){Q(event.getData().rel)})]:J=[o.listen("touchend",u,function(event){L(event.getNode(u))})];J.push(o.listen("m:page:unload",null,M));b=h.scry(G,"*",v);b.length>0&&k.get(b[0]).imgsrc?r(k.get(b[0]).imgsrc,function(){return L(G)}):L(G)};f.main=a}),null);
__d("MTouchAfro",["CSS","DOM","MLegacyDataStore","MModalDialog","MRequest","MXUIDiv.react","Parent","React","ReactDOM","Stratcom","$","csx","cx","fbt","ge","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v){__p&&__p();var w=null,x=null,y=null,z={renderNFXReport:function(a,b){v(function(){g.hide(a),z.openDialog(b)},500)},initUndoHide:function(){if(w!==null)return;w=p.listen("click","afro-undo-hide",function(a){a=a.getNode("undo-content");var b=i.get(a).storyDomID;h.hide(a);h.show(q(b))});p.listen("m:page:unload",null,function(){w.remove(),p.removeCurrentListener()})},hideOriginalContent:function(a){h.hide(q(a))},initDoneListener:function(a,b){__p&&__p();if(x!==null)return;x=p.listen("click","nfx-dialog-done",function(c){__p&&__p();if(a){c=q(a);if(c){var d=i.get(c).enhancedAfro;d&&g.addClass(c,"_2gft")}o.render(n.createElement(l,{padding:"large",fontshade:"medium",fontweight:"bold"},t._("Thanks for letting us know.")),q(a));if(b){d=u(b);d&&(h.remove(d),g.removeClass(m.bySelector(q(a),"._2b01"),"_2b01"))}}j.close()});p.listen("m:page:unload",null,function(){x.remove(),p.removeCurrentListener()})},showConfirmationPopup:function(a,b){a=confirm(a);if(a){a=new k(b);a.send()}},showInlineConfirmation:function(a,b){a=q(a);h.hide(a);h.insertAfter(a,b);a=h.scry(b,"a","touchable");a[0]&&a[0].focus()},redirect:function(a,b){if(!b)window.location=a;else{b=new k(a);b.send()}},redirectOnClick:function(a,b){p.listen("click",b,function(b){window.location=a})},openDialog:function(a){j.open(a)},openDialogOnClick:function(a,b){var c=p.listen("click",b,function(b){j.open(a)});p.listen("m:page:unload",null,function(){c.remove(),p.removeCurrentListener()})},initActionsTakenStore:function(){!1;if(y!==null)return;y=new Set();var a=p.listen("m-nfx-action-taken",null,function(a){return y.add(a.getData())});p.listen("m:page:unload",null,function(){a.remove(),p.removeCurrentListener()})},clearActionsTakenStore:function(){y=new Set()},invokeActionTaken:function(a){p.invoke("m-nfx-action-taken",null,a)},checkActionAgainstStore:function(a){var b=i.get(a);a=!1;y.forEach(function(c){c.action===b.action&&c.label===b.label&&(a=!0)});return a},addCancelButtonListener:function(){var a=q("modalDialog");h.listen(a,"click","dialog-cancel-button-alt",function(a){a.kill();j.close();return})},dialogLoadConfirmationScreenOnClick:function(a){h.listen(a,"click",null,function(a){a.kill();j.close();return})},logReportAdLinkClick:function(a,b){var c=h.listen(a,"click",null,function(){new k(b).send()});p.listen("m:page:unload",null,function(){c.remove(),p.removeCurrentListener()})},setupWildeDoneButton:function(){window.addEventListener("fbActionButtonClick",function(){return window.__fbNative.close()})}};e.exports=z}),null);
__d("MRapidReportingHelper",["MModalDialog","QE2Logger","Stratcom"],(function(a,b,c,d,e,f,g,h,i){a={initDoneButtonDialog:function(){i.listen("click","rr_done_sigil",function(){g.close({canceled:!0,goBack:!1})})},initMoreLink:function(){i.listen("click","more-link-photo-viewer",function(){h.logExposureForUser("frx_comments_msite_universe"),i.removeCurrentListener()})}};e.exports=a}),null);
__d("MImagePreloader",[],(function(a,b,c,d,e,f){function a(a){for(var b=0;b<a.length;b++){var c=new Image();c.src=a[b]}}f.init=a}),null);